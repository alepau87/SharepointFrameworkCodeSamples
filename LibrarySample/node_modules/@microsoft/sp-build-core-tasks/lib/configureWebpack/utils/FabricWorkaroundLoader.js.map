{"version":3,"sources":["configureWebpack/utils/FabricWorkaroundLoader.ts"],"names":[],"mappings":"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","file":"configureWebpack/utils/FabricWorkaroundLoader.js","sourcesContent":["import { EOL } from 'os';\r\n\r\ninterface IContext {\r\n  emitWarning: (warning: string) => void;\r\n  request: string;\r\n}\r\n\r\nfunction syncLoader(content: string): string {\r\n  const context: IContext = this as any as IContext; // tslint:disable-line:no-any\r\n  const request: string = context.request;\r\n  return processRequest(request, context);\r\n}\r\n\r\nfunction processRequest(request: string, context: IContext): string {\r\n  const requestSections: string[] = request.split('!');\r\n  const fabricPath: string = requestSections[requestSections.length - 1];\r\n  const posixFabricPath: string = fabricPath.replace(/\\\\/g, '/');\r\n  const simplifiedPaths: string[] = posixFabricPath.match(/(?:\\/office-ui-fabric-react\\/lib\\/)(.+)/);\r\n\r\n  const identifiers: { [identifier: string]: string } =\r\n    _getFabricExtraIdentifiers(simplifiedPaths[1]);\r\n\r\n  const lines: string[] = [`// Loading office-ui-fabric-react/${simplifiedPaths[1]}`];\r\n\r\n  if (identifiers) {\r\n    lines.push(...[\r\n      'var fabric = require(\\'office-ui-fabric-react\\');',\r\n      `module.exports = fabric;`\r\n    ], ...Object.keys(identifiers).map((identifier: string): string =>\r\n      `module.exports.${identifier} = fabric.${identifiers[identifier]}`\r\n    ));\r\n  } else {\r\n    context.emitWarning(`Fabric path \\\"${simplifiedPaths[0]}\\\" does not correspond to a well-defined export. ` +\r\n                        `Large portions of office-ui-fabric-react may be unintentionally bundled.`);\r\n\r\n    // Remove this loader from the loader chain to make sure we don't end up in an infinite loop\r\n    const passthroughRequestSections: string[] =\r\n      requestSections.filter((section: string) => !section.match(/FabricWorkaroundLoader.js/i));\r\n\r\n    // Use \"!!\" prefix to disable all configured loaders because they're already specified in the remaining request.\r\n    lines.push(...[\r\n      `module.exports = require(${JSON.stringify(`!!${passthroughRequestSections.join('!')}`)});`\r\n    ]);\r\n  }\r\n\r\n  return lines.join(EOL);\r\n}\r\n\r\nfunction _getFabricExtraIdentifiers(path: string): { [identifier: string]: string } {\r\n  path = path.trim().match(/(?:\\/*)(.+)(?:\\.js)$/)[1];\r\n\r\n  switch (path) {\r\n    case 'Breadcrumb':\r\n    case 'components/Breadcrumb/index':\r\n\r\n    case 'Button':\r\n    case 'components/Button/index':\r\n\r\n    case 'Callout':\r\n    case 'components/Callout/index':\r\n\r\n    case 'Checkbox':\r\n    case 'components/Checkbox/index':\r\n\r\n    case 'ChoiceGroup':\r\n    case 'components/ChoiceGroup/index':\r\n\r\n    case 'ColorPicker':\r\n    case 'components/ColorPicker/index':\r\n\r\n    case 'CommandBar':\r\n    case 'components/CommandBar/index':\r\n\r\n    case 'ContextualMenu':\r\n    case 'components/ContextualMenu/index':\r\n\r\n    case 'DatePicker':\r\n    case 'components/DatePicker/index':\r\n\r\n    case 'DetailsList':\r\n    case 'components/DetailsList/index':\r\n\r\n    case 'DocumentCard':\r\n    case 'components/DocumentCard/index':\r\n\r\n    case 'Dropdown':\r\n    case 'components/Dropdown/index':\r\n\r\n    case 'Fabric':\r\n    case 'components/Fabric/index':\r\n\r\n    case 'Facepile':\r\n    case 'components/Facepile/index':\r\n\r\n    case 'FocusTrapZone':\r\n    case 'components/FocusTrapZone/index':\r\n\r\n    case 'FocusZone':\r\n    case 'components/FocusZone/index':\r\n\r\n    case 'GroupedList':\r\n    case 'components/GroupedList/index':\r\n\r\n    case 'Image':\r\n    case 'components/Image/index':\r\n\r\n    case 'Label':\r\n    case 'components/Label/index':\r\n\r\n    case 'Layer':\r\n    case 'components/Layer/index':\r\n\r\n    case 'Link':\r\n    case 'components/Link/index':\r\n\r\n    case 'List':\r\n    case 'components/List/index':\r\n\r\n    case 'MessageBar':\r\n    case 'components/MessageBar/index':\r\n\r\n    case 'MarqueeSelection':\r\n\r\n    case 'Nav':\r\n    case 'components/Nav/index':\r\n\r\n    case 'OrgChart':\r\n    case 'components/OrgChart/index':\r\n\r\n    case 'Overlay':\r\n    case 'components/Overlay/index':\r\n\r\n    case 'Panel':\r\n    case 'components/Panel/index':\r\n\r\n    case 'PeoplePicker':\r\n    case 'components/PeoplePicker/index':\r\n\r\n    case 'Persona':\r\n    case 'components/Persona/index':\r\n\r\n    case 'PersonaCard':\r\n    case 'components/PersonaCard/index':\r\n\r\n    case 'Pivot':\r\n    case 'components/Pivot/index':\r\n\r\n    case 'ProgressIndicator':\r\n    case 'components/ProgressIndicator/index':\r\n\r\n    case 'SearchBox':\r\n    case 'components/SearchBox/index':\r\n\r\n    case 'Slider':\r\n    case 'components/Slider/index':\r\n\r\n    case 'Spinner':\r\n    case 'components/Spinner/index':\r\n\r\n    case 'TextField':\r\n    case 'components/TextField/index':\r\n\r\n    case 'Toggle':\r\n    case 'components/Toggle/index':\r\n\r\n    case 'components/MarqueeSelection/MarqueeSelection':\r\n\r\n    case 'components/MarqueeSelection/MarqueeSelection.Props':\r\n\r\n    case 'utilities/selection/index':\r\n\r\n    case 'utilities/css':\r\n\r\n    case 'utilities/KeyCodes':\r\n\r\n    case 'utilities/eventGroup/EventGroup':\r\n\r\n    case 'utilities/Async/Async':\r\n\r\n    case 'utilities/rtl':\r\n      return {};\r\n\r\n    case 'Dialog':\r\n    case 'components/Dialog/index':\r\n      return {\r\n        'default': 'Dialog'\r\n      };\r\n\r\n    default:\r\n      return undefined;\r\n  }\r\n}\r\n\r\nexport = syncLoader; // tslint:disable-line:export-name\r\n"],"sourceRoot":"/src"}