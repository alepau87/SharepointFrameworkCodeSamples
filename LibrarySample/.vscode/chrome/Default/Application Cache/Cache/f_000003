define("Viva.Controls/Controls/Base/Viva.ExtensibleControl",["require","exports","f","./Viva.Base"],function(n,t,i,r){"use strict";var u;return function(n){var f=function(){function n(){}return n.prototype.setInstance=function(n){this._widget=n},n.prototype.getName=function(){return null},n.prototype.getDependencies=function(){return null},n}(),t,u;n.Extension=f;t=function(n){function t(t){t===void 0&&(t={});n.call(this);this.extensions=t.extensions||[]}return __extends(t,n),t}(r.ViewModel);n.ViewModel=t;u=function(n){function r(i,r,u){n.call(this,i,r,$.extend({viewModelType:t},u));this._initializePlugins(this.options);this._addExtensionClasses()}return __extends(r,n),r.prototype.dispose=function(){this._checkExistsOrRegisterDestroyId(n.prototype.dispose)||(n.prototype.dispose.call(this),this._removeExtensionClasses())},Object.defineProperty(r.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),r.prototype.getPlugin=function(n){if(this.options.extensions)
return i.find(this.options.extensions,function(t){return t.getName()===n})},r.prototype._initializePlugins=function(n){var i=this,t=[];this._loadPlugins(n.extensions,t);n.extensions=t;n.extensions.sort(function(n,t){var i=n.getOrder?n.getOrder():null,r=t.getOrder?t.getOrder():null;return i===r?0:i!==null&&r===null?-1:i===null&&r!==null?1:i<r?-1:1});n.extensions.forEach(function(n){n.setInstance(i)})},r.prototype._extensionTrigger=function(n){for(var i,r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];return i=[],this.options.extensions.forEach(function(t){var u=t[n];u&&i.push(u.apply(t,r))}),i},r.prototype._loadPlugins=function(n,t){var i=this;n.forEach(function(r){var u=r.getDependencies()||[],f=u.filter(function(i){return!n.some(function(n){return n.getName()===i.getName()})&&!t.some(function(n){return n.getName()===i.getName()})});t.some(function(n){return n.getName()===r.getName()})||t.push(r);f.length&&i._loadPlugins(u,t)})},r.prototype._addExtensionClasses=function(){var n=this;
this.options.extensions.forEach(function(t){n.element.addClass(t.getName())})},r.prototype._removeExtensionClasses=function(){var n=this;this.options.extensions.forEach(function(t){n.element.removeClass(t.getName())})},r}(r.Widget);n.Widget=u}(u||(u={})),u});define("Viva.Controls/Controls/Lists/Grid1/Viva.Grid1.Formatters.Helpers",["require","exports","u"],function(n,t,i){"use strict";var r;return function(n){function c(n,i,r){var u=n.charCodeAt(0);return t[n]||(t[n]="&#"+(i?0:r?(u-o)*1024+n.charCodeAt(1)-s+h:u)+";")}function r(n){return n===null}function u(n){return n===i}function l(n){return r(n)||u(n)}function f(n){return n!==i&&n!==null?String(n).replace(e,c):""}function a(n){return f(n)}function v(n,t,i){return n.apply(this,[t].concat(i))}var e=/[`><"'&\t\n\r\xa0-\xff]|([\x00-\x1f\x7f\x80-\x9f])|([\ud800-\udbff][\udc00-\udfff])/g,t={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&#34;","`":"&#96;"},o=55296,s=56320,h=65536;n.isNull=r;n.isUndefined=u;n.isNullOrUndefined=l;n.htmlEncode=
f;n.attributeEncode=a;n.callFormatter=v}(r||(r={})),r});define("_generated/Less/Viva.Controls/Controls/Lists/Viva.Grid1.Formatters.css",["require","exports","module"],function(n,t,i){"use strict";window.fx.injectCss(i,".azc-grid table tbody td img.azc-grid-formatters-icon{margin-right:6px;display:flex}.azc-grid .azc-grid-formatters-sprite{position:relative;overflow:hidden;display:inline-block;margin-right:6px;vertical-align:middle}.azc-grid .azc-grid-formatters-sprite img{position:absolute}")});define("_generated/Less/Viva.Controls/Controls/Lists/Viva.Grid1.PercentFormatter.css",["require","exports","module"],function(n,t,i){"use strict";window.fx.injectCss(i,".fxc-percent-formatter{white-space:nowrap;min-height:5px;min-width:5px}.fxc-percent-formatter .fxc-percent-formatter-container{overflow:hidden;width:100%;position:relative;padding:0}.fxc-percent-formatter .fxc-percent-formatter-value{background-color:#00bcf2;height:19px;position:absolute;left:0;display:inline}.fxc-percent-formatter .fxc-percent-formatter-background{width:100%;height:19px;background-color:transparent}.fxc-percent-formatter .fxc-percent-formatter-bottom-bar{height:5px;margin-top:28px}.fxc-percent-formatter .fxc-percent-formatter-top-bar{height:5px;margin-bottom:28px}.fxc-percent-formatter .fxc-percent-formatter-text{position:absolute;left:1px;top:1px;display:inline;margin-top:7px}.fxc-percent-formatter .fxc-percent-formatter-notext{display:none}")}
);define("Viva.Controls/Controls/Lists/Grid1/Viva.Grid1.Formatters",["require","exports","../../../Util/Viva.DateUtil","./Viva.Grid1.Formatters.Helpers","MsPortalFx/Globalization","../../../../_generated/Less/Viva.Controls/Controls/Lists/Viva.Grid1.Formatters.css","../../../../_generated/Less/Viva.Controls/Controls/Lists/Viva.Grid1.PercentFormatter.css"],function(n,t,i,r,u){"use strict";var f;return function(t){function d(n){var t,o;return typeof n=="string"?(y.assert(!1,"String formatters are being deprecated. Please use Intl.DateTimeFormatOptions instead. Your current format string: {0}".format(n)),o=function(n,t){return i.toString(n,t)}):o=function(n,t){var i="";try{i=u.DateTimeFormat.create(t).format(n)}catch(r){y.error("IntlPolyfill loaded: "+!!window.IntlPolyfill+"; given format: "+t+"; Date: "+n.toString());i=n.toString()}return i},t=function(t){var u=f(t),i=w(u),h=e.call(arguments,1);return i?r.callFormatter(s,o(i,n),h):""},c(t,w,t)}function g(n){var i=e.call(arguments,1),u=i[0],
t=f(n),c=!v(u)&&!v(u.cssClass)?u.cssClass:"azc-text-primary",h=" class='"+c+"'";return t&&!r.isUndefined(t.text)&&!r.isUndefined(t.uri)?"<a"+h+" href='"+r.attributeEncode(r.callFormatter(o,t.uri,i))+"'"+(t.target?" target='"+r.attributeEncode(r.callFormatter(o,t.target,i))+"'":"")+">"+r.callFormatter(s,t.text,i)+"<\/a>":"<a"+h+" href='"+r.attributeEncode(r.callFormatter(o,t,i))+"'>"+r.callFormatter(s,t,i)+"<\/a>"}function h(n){var i=e.call(arguments,1),t=f(n),u=t&&!r.isUndefined(t.text)&&!r.isUndefined(t.uri)?"<img class='"+p+"' src='"+r.attributeEncode(r.callFormatter(o,t.uri,i))+"' alt='' /><span class='fx-grid-formatters-icon-text'>"+r.callFormatter(s,t.text,i)+"<\/span>":"<img class='"+p+"' src='"+r.attributeEncode(r.callFormatter(o,t,i))+"' alt='' />";return"<span class='fx-grid-formatters-icon'>"+u+"<\/span>"}function nt(n){return function(t){var u=e.call(arguments,1),i=f(t);if(r.isNullOrUndefined(n[i])){if(n["##DEFAULT##"])return i=s(i),r.callFormatter(h,n["##DEFAULT##"].text?{uri:
n["##DEFAULT##"].uri,text:n["##DEFAULT##"].text.replace(/##DEFAULT##/g,i)}:n["##DEFAULT##"],u)}else return r.callFormatter(h,n[i],u);return""}}function tt(n){return function(t){var h=e.call(arguments,1),i=f(t),b="",v="",k=0,c,y,a,l,p,d,g,w,nt;n&&(n.backgroundColor&&(b="msportalfx-bgcolor-"+n.backgroundColor),n.barColorDefault&&(v="msportalfx-bgcolor-"+n.barColorDefault),n.barColorKey&&h[0].item&&h[0].item[n.barColorKey]&&(y=f(h[0].item[n.barColorKey]),y&&(v="msportalfx-bgcolor-"+y)),n.textKey&&(c=h[0].item&&h[0].item[n.textKey]?f(h[0].item[n.textKey]):""),n.textLocation&&(k=n.textLocation));a="fxc-percent-formatter-text";l="";switch(k){case 1:l=" fxc-percent-formatter-bottom-bar";break;case 2:l=" fxc-percent-formatter-top-bar";break;case 0:default:a=null}return(isNaN(i)||i instanceof Date)&&(i=0),p="",a&&(n.textKey||(d=i/100,g=u.NumberFormat.create({style:"percent"}),c=g.format(d)),c=r.callFormatter(s,c,h),p="<div class='"+a+"'>"+c+"<\/div>"),i=Math.min(100,Math.max(0,i)),w=" min-width: 1px;",
i===0&&(w=""),nt="<div class='azc-control fxc-percent-formatter' data-control='true' role='presentation' aria-atomic='true' aria-valuemin='0' aria-valuemax='100' aria-live='polite' aria-valuenow='"+i+"'><div class='fxc-percent-formatter-container'><div class='fxc-percent-formatter-value"+l+" "+v+"' style='width: "+i+"%;"+w+"'><\/div>"+p+"<div class='fxc-percent-formatter-background"+l+" "+b+"'><\/div><\/div><\/div>",r.callFormatter(o,nt,h)}}function it(n){var t=l(n);return function(n){var i=e.call(arguments,1),u=f(n);return r.callFormatter(s,t(u),i)}}function rt(n,i){return function(u){var h=e.call(arguments,1),s=f(u),c=r.isNullOrUndefined(n[s]),l=c?"":r.attributeEncode(t.html(n[s].attribute)).replace(" ","_"),a=c?"":r.callFormatter(t.text,n[s].text,h);return"<div class='azc-grid-formatters-sprite "+l+"'><img src='"+r.attributeEncode(r.callFormatter(o,i,h))+"' alt='' /><\/div>"+a}}function ut(n){return function(t){var r=e.call(arguments,1),i=f(t);return typeof i!="number"?i.toString():
n?u.NumberFormat.create(n).format(i):u.NumberFormat.format(i)}}function ft(n,t){return function(i,r){var u,f=[],e=ko.bindingHandlers.vivaControl.registerCallback(function(){return u||ko.ignoreDependencies(function(){return u={template:n,data:t(f,i,r),disposables:f}})});return"<div class='azc-vivaControl' data-bind='vivaControl: \""+e+"\"'>"+n+"<\/div>"}}function c(n,t,i){if(!n)throw new Error("Display formatter has to be provided to create any formatters bundle.");var r=function(t,i){return n(t,i)};return t&&(r.sortFormatter=typeof t=="function"?t:l(t)),i&&(r.filterFormatter=typeof i=="function"?i:l(i)),r}function et(n){return c(n,n,n)}function ot(n){return k[n]}function l(n){return function(t){return r.isNullOrUndefined(n[t])?n["##DEFAULT##"]?n["##DEFAULT##"]:t:n[t]}}function w(n){var t,r;switch(typeof n){case"number":t=new Date(n);break;case"string":r=i.parse(n);isNaN(r)||(t=new Date(r));break;case"object":n!==null&&n.constructor===Date&&(t=n)}return t}function o(n){var t=f(n);return r.
isNullOrUndefined(t)?"":t+""}function s(n){var t=f(n);return r.isNullOrUndefined(t)?"":r.htmlEncode(t+"")}var a=MsPortalFx,b=a.Base.Diagnostics,v=a.isNullOrUndefined,e=Array.prototype.slice,y=b.createLog(n),k={},p="azc-grid-formatters-icon",f=ko.unwrap;t.date=d;t.uri=g;t.icon=h;t.iconLookup=nt;t.percentageBar=tt;t.textLookup=it;t.spriteLookup=rt;t.numberFormat=ut;t.htmlBindings=ft;t.bundle=c;t.defaultAll=et;t._callBackLookup=ot;t.html=o;t.text=s}(f||(f={})),f});define("_generated/Less/Viva.Controls/Controls/Lists/Viva.Grid1.css",["require","exports","module"],function(n,t,i){"use strict";window.fx.injectCss(i,'.azc-grid table caption,.azc-grid.azc-grid-headerHidden table thead{display:none}.azc-grid{position:relative;font-size:12px}.azc-grid .azc-grid-container{overflow-x:auto;overflow-y:visible}.azc-grid .azc-grid-cell-ellipse,.azc-grid table tbody tr td,.azc-grid table thead tr th .azc-grid-header-wrapper span,.azc-grid table thead tr th span{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.azc-grid .azc-grid-cellContent,.azc-grid .azc-vivaControl{width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.azc-grid .azc-grid-cell-fullheight{height:100%}.azc-grid .azc-grid-empty tr td{border-top-style:solid;border-top-width:1px}.azc-grid table{width:100%;border:0;background-color:transparent;table-layout:fixed;border-spacing:0}.azc-grid table tbody tr td,.azc-grid table tbody:last-child tr:last-child td{border-bottom-width:1px;border-bottom-style:solid}.azc-grid table tbody tr td .azc-dropdown,.azc-grid table thead tr th .azc-grid-header-wrapper .azc-grid-headerlabel{display:block}.azc-grid table td:first-of-type,.azc-grid table th:first-child{padding-left:7px}.azc-grid table th:first-child{padding-left:0}.azc-grid table thead tr th{text-transform:uppercase;text-align:left;font-size:10px;padding:0;height:40px;position:relative;font-family:az_ea_font,wf_segoe-ui_bold,"Segoe UI Bold","Segoe WP Bold","Segoe UI","Segoe WP",Tahoma,Arial,sans-serif;line-height:38px}.azc-grid table thead tr th a{position:relative}.azc-grid table thead tr th .azc-grid-header-wrapper{padding:1px 0 1px 10px;position:relative}.azc-grid table tbody tr td{padding:1px 0 1px 10px;height:33px}.azc-grid table tbody tr td .azc-button,.azc-grid table tbody tr td .azc-dropdown,.azc-grid table tbody tr td .azc-editableCombo,.azc-grid table tbody tr td .azc-fileUpload,.azc-grid table tbody tr td .azc-optionPicker,.azc-grid table tbody tr td button,.azc-grid table tbody tr td input,.azc-grid table tbody tr td select,.azc-grid table tbody tr td textarea{font-size:12px!important}.azc-grid table tbody tr[role=row]:first-of-type td{border-top-width:1px;border-top-style:solid}.azc-grid a img{border:0}.azc-grid-selectableRow:not(.azc-grid-activateableRow) .azc-grid-selectable .azc-external-hovered:not(.fxs-bg-error):not(.azc-bg-edited):not(.azc-disabled):not(.azc-row-disabled):not(.azc-bg-selected) td.azc-br-muted,.azc-grid-selectableRow:not(.azc-grid-activateableRow) .azc-grid-selectable .azc-has-hover:hover:not(.fxs-bg-error):not(.azc-bg-edited):not(.azc-disabled):not(.azc-row-disabled):not(.azc-bg-selected) td.azc-br-muted{border-color:#00bcf2}.azc-grid-selectableRow:not(.azc-grid-activateableRow) .azc-grid-selectable .azc-external-hovered:not(.fxs-bg-error):not(.azc-bg-edited):not(.azc-disabled):not(.azc-row-disabled):not(.azc-bg-selected) td:first-of-type,.azc-grid-selectableRow:not(.azc-grid-activateableRow) .azc-grid-selectable .azc-has-hover:hover:not(.fxs-bg-error):not(.azc-bg-edited):not(.azc-disabled):not(.azc-row-disabled):not(.azc-bg-selected) td:first-of-type{border-left-color:#00bcf2}.azc-grid-selectableRow:not(.azc-grid-activateableRow) .azc-grid-selectable .azc-external-hovered:not(.fxs-bg-error):not(.azc-bg-edited):not(.azc-disabled):not(.azc-row-disabled):not(.azc-bg-selected) td:last-of-type,.azc-grid-selectableRow:not(.azc-grid-activateableRow) .azc-grid-selectable .azc-has-hover:hover:not(.fxs-bg-error):not(.azc-bg-edited):not(.azc-disabled):not(.azc-row-disabled):not(.azc-bg-selected) td:last-of-type{border-right-color:#00bcf2}')}
);define("Viva.Controls/Controls/Lists/Grid1/Viva.Grid1",["require","exports","f","../../../Util/Viva.TemplateEngine","../../Base/Viva.ExtensibleControl","../../Base/Viva.Base","./Viva.Grid1.Formatters","MsPortalImpl/Resources/ImplScriptResources","../../../../_generated/Less/Viva.Controls/Controls/Lists/Viva.Grid1.css"],function(n,t,i,r,u,f,e,o){"use strict";var s;return function(n){function k(n){return n?"true":"false"}var d=i,bt=window,s=jQuery,p="azc-grid",w="azc-grid-headerHidden",l="azc-grid-selectableRow",g="azc-grid-editableRow",t="azc-br-muted",nt="<!-- ko template: 'table' --><!-- /ko -->",tt="<div class='azc-grid-container "+t+"'>"+("<div class='azc-grid-tableContainer "+t+"'>")+("<div class='azc-grid-tableScrollContainer "+t+"'>")+"<!-- ko if: data.columns().length --><table class='azc-grid-tableHeader'><caption data-bind='text: data.summary'><\/caption><!-- ko template: 'header' --><!-- /ko --><\/table><div class='azc-grid-tableContent'><table class='azc-grid-full'><!-- ko template: 'colgroup' --><!-- /ko --><!-- ko template: 'body' --><!-- /ko --><\/table><\/div><!-- /ko --><\/div><\/div><\/div>",
it="<!-- ko template: 'colgroup' --><!-- /ko --><thead><tr><!-- ko template: { name: \"headerCell\", foreach: data.columns } --><!-- /ko --><\/tr><\/thead>",rt='<colgroup><!-- ko template: { name: "headerColumn", foreach: data.columns } --><!-- /ko --><\/colgroup>',ut='<col data-bind=\'attr: { "class": "col" + $index() }, style: { width: width }, css: { "azc-collapsed-hidden": $data.hiddenInCollapsed }\' />',ft="<th role='columnheader' scope='col' aria-readonly='true' data-bind='attr: { \"class\": cssClass, \"aria-label\": $data.itemKey ? $data.itemKey : \"\" }, css: { \"azc-collapsed-hidden\": $data.hiddenInCollapsed }'><div class='azc-grid-header-wrapper'><!-- ko template: \"headerCellContent\" --><!-- /ko --><\/div><\/th>",et="<span class='azc-grid-headerlabel' data-bind='text: name'><\/span>",ot="<!-- ko template: { name: ko.pureComputed(function () { return data.loading() ? 'templateLoading' : ($ctl._showNoRows() ? 'bodyNoItems' : 'bodyCore'); }) } --><!-- /ko -->",st="<tbody class='azc-grid-groupdata' role='rowgroup'><!-- ko template: { name: 'bodyRows', foreach: data.items } --><!-- /ko --><\/tbody>",
ht="<tbody class='azc-grid-empty' data-bind='if: data.noRowsMessage'><tr><td class='"+t+" msportalfx-tooltip-overflow' data-bind='attr: { colspan: $ctl._getTotalColumns() }, html: data.noRowsMessage'><\/td><\/tr><\/tbody>",ct="<tbody class='azc-grid-empty'><tr><td class='"+t+" msportalfx-tooltip-overflow' data-bind='attr: { colspan: $ctl._getTotalColumns() }'>"+o.Grid.loading+"<\/td><\/tr><\/tbody>",lt="<!-- ko template: { name: 'bodyRowsCore', data: $ctl.getRowMetadata($data), context: function (metadata) { return { $disabled: metadata.disabled }; } } --><!-- /ko -->",at="<tr role='row' data-bind='attr: { \"class\": cssClass, \"aria-label\": $ctl._rowAriaLabel($data.item) }'><!-- ko template: { name: 'bodyCell', foreach: $vm.columns } --><!-- /ko --><\/tr>",vt='<td role=\'gridcell\' data-bind=\'template: { name: "bodyCellContent" }, css: { "azc-collapsed-hidden": $data.hiddenInCollapsed }, attr: { "class": itemKey === "infoBalloon" ? "azc-grid-infoBalloon '+t+'" + cssClass : "'+t+' " + cssClass, "aria-label": $ctl._columnAriaLabel($data.name, $($element).text()) }\'><\/td>',
yt="<div class='azc-grid-cellContent' data-bind='css: { \"azc-grid-cell-ellipse\": $data.enableEllipse, \"azc-grid-cell-fullheight\": $data.fullHeight }, trustedHtml: $ctl._cellFormat($parentContext.$parentContext.$index, $index, $parent, $data)'><\/div>",h=ko.observable,a=ko.observableArray,pt=ko.unwrap,wt=i.forEachKey,c,b,v,y;(function(n){n[n.None=0]="None";n[n.Alt=1]="Alt";n[n.Meta=2]="Meta";n[n.Shift=4]="Shift";n[n.Ctrl=8]="Ctrl"})(n.ModifierKeys||(n.ModifierKeys={}));c=n.ModifierKeys;b=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(u.Extension);n.Extension=b;v=function(n){function t(){n.apply(this,arguments);this.summary=h();this.showHeader=!0;this.columns=a();this.items=a([]);this.noRowsMessage=h();this.events=s.noop;this.uri={};this.text={};this.sortByList=a([])}return __extends(t,n),t}(u.ViewModel);n.ViewModel=v;y=function(n){function t(t,i,u){var f=this,e;n.call(this,t,i,s.extend({viewModelType:v},u));this.templateEngine=new r.HtmlTemplateEngine;this.
_extensionTrigger("beforeCreate");this._showNoRows=ko.pureComputed(function(){if(!f.options.items)return!0;var n=f.options.items(),t=n&&n.length||0,i=f._extensionTrigger("modifyRowNumber");return i.forEach(function(n){t+=n}),t===0});this._setTemplates();e=this.getPlugin(l);this.element.addClass(p).attr({role:"grid","aria-multiselectable":k(e&&!!e._multiselect),"aria-readonly":k(!this.getPlugin(g))}).html(nt);this.options.showHeader||this.element.addClass(w);this._bindDescendants();this._attachEvents();this._extensionTrigger("afterCreate")}return __extends(t,n),t.getCell=function(n,t,i){var r=n.find?n:n.element;return r.find("tbody tr:eq({0}) td[role=gridcell]:eq({1})".format(t,i))},t.getModifierKeys=function(n){return(n.altKey&&c.Alt)|(n.metaKey&&c.Meta)|(n.shiftKey&&c.Shift)|(n.ctrlKey&&c.Ctrl)},t.prototype.dispose=function(){this._checkExistsOrRegisterDestroyId(n.prototype.dispose)||(this._extensionTrigger("beforeDestroy"),this._detachEvents(),this._cleanElement(p,w),n.prototype.dispose.
call(this),this._extensionTrigger("afterDestroy"))},Object.defineProperty(t.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),t.prototype.getRowMetadata=function(n){var f=this.options,r,t,u;return typeof n!="object"||!n?null:(r=function(t){return t&&t.item===n},t=i.find(this._allRows,r),t||(t=this._getNewRowMetadataEntries(),t.item=n,u=f.rowMetadata?f.rowMetadata.first(r):null,u&&s.extend(!0,t,u),this._allRows.push(t)),t)},t.prototype.previous=function(){return this.getPlugin(l).previous()},t.prototype.next=function(){return this.getPlugin(l).next()},t.prototype._rowAriaLabel=function(n){return this.options.columns().map(function(t){return pt(n[t.itemKey])}).filter(function(n){return n&&typeof n=="string"}).join(" ")},t.prototype._columnAriaLabel=function(n,t){return(n?n()+": ":"")+t},t.prototype._getAllRowMetadata=function(){return this._allRowsInited||(this._updateAllRowMetadata(),this._allRowsInited=!0),this._allRows},t.prototype._initializePlugins=
function(t){this._allRows=[];n.prototype._initializePlugins.call(this,t)},t.prototype._initializeSubscriptions=function(t){var i=this,r;n.prototype._initializeSubscriptions.call(this,t);this._subscriptions.registerForDispose(t.columns.subscribe(r=function(n){i._normalizeColumns(n)}));r(t.columns());t.items&&(this._subscriptions.registerForDispose(t.items.subscribe(function(n){var t=[],r=[];i._allRows.forEach(function(i){var u=n.some(function(n){return i.item===n});u?t.push(i):r.push(i)});r.forEach(function(n){i._extensionTrigger("shouldRetainRowMetadata",n).some(function(n){return n===!0})&&t.push(n)});i._allRows=t;i._updateAllRowMetadata()})),this._addDisposablesToCleanUp(this._itemsPerKeyboardPage=ko.computed(function(){var n=i.options.items();return n&&n.length>20?10:5})))},t.prototype._attachEvents=function(){this._extensionTrigger("beforeAttachEvents");this.element.on("mouseenter.azcGrid","> .azc-grid-container .azc-grid-full > tbody > tr > td .azc-grid-cellContent, > .azc-grid-container .azc-grid-tableHeader > thead > tr > th .azc-grid-headerlabel",
this._onMouseEnter=function(){var n=s(this),t=n.attr("title");n.find(">div,>span").length===0&&t!==n.text()&&(this.offsetWidth<this.scrollWidth?n.attr("title",n.text()):t&&n.removeAttr("title"))});this._extensionTrigger("afterAttachEvents")},t.prototype._detachEvents=function(){this._extensionTrigger("beforeDetachEvents");this._onMouseEnter&&(this.element.off("mouseenter.azcGrid",this._onMouseEnter),this._onMouseEnter=null);this._extensionTrigger("afterDetachEvents")},t.prototype._getNewRowMetadataEntries=function(){var n={item:null,cssClass:h("")},t=this._extensionTrigger("getDefaultRowMetadataProperties");return t.forEach(function(t){s.extend(!0,n,t)}),n},t.prototype._getNewColumnEntries=function(){var n={name:h(""),itemKey:"",formatter:e.text,cssClass:"",width:h(null)},t=this._extensionTrigger("getDefaultColumnProperties");return t.forEach(function(t){s.extend(!0,n,t)}),n},t.prototype._normalizeColumns=function(n){var t=this._getNewColumnEntries(),e=Object.keys(t),i=!1,u=n.length,f,
r;for(this._colCount||(this._colCount=0),f=function(){var f=n[u];e.forEach(function(n){f[n]===undefined&&(f[n]=t[n],i=!0)});d.isNullOrUndefined(f.columnId)&&(f.columnId=(r._colCount++).toString());i&&(t=r._getNewColumnEntries(),i=!1)},r=this;u--;)f()},t.prototype._getTotalColumns=function(){var n=this.options.columns().length,t=this._extensionTrigger("getAdditionalColumns");return t.forEach(function(t){n+=t}),n},t.prototype._cellFormat=function(n,t,i,r){return(r.formatter||e.text)(i.item[r.itemKey],{item:i.item,rowNumber:n,columnNumber:t,rowMetadata:i,column:r})},t.prototype._setTemplates=function(){var n=this.templateEngine;this._extensionTrigger("beforeSetTemplates",n);wt({table:tt,header:it,headerColumn:ut,colgroup:rt,headerCell:ft,headerCellContent:et,body:ot,bodyCore:st,bodyNoItems:ht,templateLoading:ct,bodyRows:lt,bodyRowsCore:at,bodyCell:vt,bodyCellContent:yt},function(t,i){n.setTemplate(t,i)});this._extensionTrigger("afterSetTemplates",n)},t.prototype._updateAllRowMetadata=function(
){var i=this,t=this.options,n;t.items&&(n=t.items(),n&&n.length&&n.forEach(function(n){i.getRowMetadata(n)}))},t}(u.Widget);n.Widget=y;ko.bindingHandlers.azcGrid=f.Widget.getBindingHandler(y)}(s||(s={})),s});define("_generated/Less/Viva.Controls/Controls/Lists/Viva.Grid1.FocusableRow.css",["require","exports","module"],function(n,t,i){"use strict";window.fx.injectCss(i,".azc-grid-focusableRow table tbody tr[aria-disabled=true] td>div{opacity:.5}.azc-grid-focusableRow table tbody tr[aria-disabled=true] td.azc-grid-infoBalloon>div{opacity:1}.azc-grid-focusableRow table tbody tr[aria-disabled=true] td .azc-dockedballoon{position:static}.azc-grid-focusableRow.azc-grid-mousedown{outline:0}")});define("Viva.Controls/Controls/Lists/Grid1/Viva.Grid1.FocusableRow",["require","exports","f","./Viva.Grid1","MsPortalImpl/Base/Base.KeyboardHelper","../../../Util/Viva.Util","../../../../_generated/Less/Viva.Controls/Controls/Lists/Viva.Grid1.FocusableRow.css"],function(n,t,i,r,u,f){"use strict";var e;
return function(n){var v=i,p=v.isNullOrUndefined,t=jQuery,y=window,w='attr: { "aria-disabled": $disabled, "data-grid-focusable": true }',b='attr: { tabindex: focused() ? "0" : null }',k='css: { "azc-row-disabled": $disabled }',d="azc-has-hover",l="azc-grid-tableContainer",a="."+l,g="tbody tr[data-grid-focusable=true]:not([aria-disabled=true])",s=".azc-grid",h="rowFocus",c="tabindex",o=ko.observable,e=ko.dataFor,nt=v.disposeDisposable,tt=function(n){function v(t){n.call(this);this._disposables=[];this._options=t=t||{};t.focusable===undefined&&(t.focusable=o(!0));t.focusableCursorEnabled=t.focusableCursorEnabled||o(!1);t.focusableCursorOptions=t.focusableCursorOptions||{wrapFocus:o(!0),hasPreviousFocusRow:o(!1),hasNextFocusRow:o(!1)}}return __extends(v,n),Object.defineProperty(v.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),v.isEditableControl=function(n){return n.is("input")||n.is("textarea")||n.is("select")||n.is("keygen")},v.prototype.setInstance=
function(t){n.prototype.setInstance.call(this,t)},v.prototype.afterCreate=function(){var n=this;this._disposables.push(ko.computed(function(){var t=n._widget.element;n.options.focusable()?t.attr(c,0):t.removeAttr(c)}))},v.prototype.afterSetTemplates=function(n){var t=n.getHtmlTemplate("bodyRowsCore");t.addAttribute("tr","data-bind",w);t.addAttribute("tr","data-bind",this._getRowFocusDataBindAttribute());t.addAttribute("tr","data-bind",k);this.externalHover||t.addAttribute("tr","class",d)},v.prototype.getDefaultRowMetadataProperties=function(){return{disabled:o(!1),focused:o(!1)}},v.prototype.getOrder=function(){return 10},v.prototype.afterAttachEvents=function(){var n=this,i=this._widget.element;this._disposables.push(i.setEvents(["click.azcGrid",g,function(i){if(this===y.document.activeElement||t.contains(this,y.document.activeElement))n._updatePreviousNextFocusableState(t(this));else{var r=e(this);r&&n._focusRow(this,r,i)}}],["keydown.azcGrid",function(i){var f=t(i.target),o=f.closest(
s),y=f.is(s),c=y?null:f.closest("tr[data-grid-focusable]"),u,l=r.Widget.getModifierKeys(i),a=!0,h;if(!v.isEditableControl(f)||!n._isGridDataControl(f))if(h=n.options.focusableCursorOptions.wrapFocus(),l===r.ModifierKeys.None){switch(i.which){case 38:u=n._findPreviousFocusable(o,c,h);break;case 40:u=n._findNextFocusable(o,c,h);break;case 36:u=n._findFirstFocusable(o);break;case 35:u=n._findLastFocusable(o);break;case 33:case 34:u=n._findFocusableByPage(o,i.which);break;default:a=!1}u&&u.length&&n._focusRow(u,e(u[0]),i);a&&i.preventDefault()}else l===r.ModifierKeys.Shift&&i.which===9&&n._focus(i)}],["mousedown.azcGrid",function(){i.addClass("azc-grid-mousedown");t("body").one("mouseup",function(){i.removeClass("azc-grid-mousedown")})}],["focus.azcGrid",function(r){t.contains(i[0],r.relatedTarget)||(n._focus(r),i.attr(c,-1))}]))},v.prototype.beforeDestroy=function(){nt(this._disposables);this._disposables=[];this._widget.element.removeAttr(c).removeClass("azc-grid-mousedown")},v.prototype.
getName=function(){return v.Name},v.prototype.focusRowByRowMetadata=function(n){var t=this._getRowByRowMetadata(n);t&&this._focusRow(t,n)},v.prototype.previous=function(n){var i;if(this.options.focusableCursorEnabled&&this.options.focusableCursorEnabled()){if(i=this._getRowByRowMetadata(n),i){var u=t(i),f=u.closest(s),r=this._findPreviousFocusable(f,u,!1);r&&this._focusRow(r,e(r[0]),t.Event(h))}}else throw new Error("Previous focusable cursor method will work only when focusableCursorEnabled option is set to true.");return Q()},v.prototype.next=function(n){var i;if(this.options.focusableCursorEnabled&&this.options.focusableCursorEnabled()){if(i=this._getRowByRowMetadata(n),i){var u=t(i),f=u.closest(s),r=this._findNextFocusable(f,u,!1);r&&this._focusRow(r,e(r[0]),t.Event(h))}}else throw new Error("Next focusable cursor method will work only when focusableCursorEnabled option is set to true.");return Q()},v.prototype._findFirstFocusable=function(n){return this._getFocusableList(n.find("table.azc-grid-full").
eq(0)).first()},v.prototype._findFocusableByPage=function(n,i){var n=n.find("table.azc-grid-full").eq(0),r=this._getPagedFocusableList(n),o=this._getFocusedItemIndex(n),s=this._widget._itemsPerKeyboardPage(),u=o<s?0:Math.floor(o/s),h=o%s,f,e;if(r.length>0)switch(i){case 33:h===0&&r[u-1]?f=r[u-1].first():(e=r[u],f=e&&e.first());break;case 34:r[u+1]?f=r[u+1].first():(e=r[u],f=e&&e.last())}return f?t(f):undefined},v.prototype._findLastFocusable=function(n){return this._getFocusableList(n.find("table.azc-grid-full").eq(0)).last()},v.prototype._findNextFocusable=function(n,i,r){r===void 0&&(r=!0);var e=i?i.closest("table.azc-grid-full"):n.find("table.azc-grid-full").eq(0),f=this._getFocusableList(e),u;if(i)for(u=0;u<f.length;u++)if(i[0]===f[u]&&u<f.length-1)return t(f[u+1]);return r?t(f[0]):null},v.prototype._findPreviousFocusable=function(n,i,r){r===void 0&&(r=!0);var e=i?i.closest("table.azc-grid-full"):n.find("table.azc-grid-full").eq(0),f=this._getFocusableList(e),u;if(i)for(u=f.length-
1;u>=0;u--)if(i[0]===f[u]&&u>0)return t(f[u-1]);return r?t(f[f.length-1]):null},v.prototype._focus=function(n){var i,f,o=this._widget.element,h=o.hasClass("azc-grid-mousedown"),v=n.type==="focus"&&!h,c=u.getModifierKeys(n),y=c===0&&(n.which===9||n.which===40||n.which===38),r,s;h?i=t(n.target).closest("tr:not([aria-disabled=true])")[0]:(y||v)&&(r=o.find("input, textarea, select, button, a, [tabindex=0], "+a).filter(function(n,i){return t(i).hasClass(l)||t(i).closest(a).length===0}).filter(":visible"),document.activeElement!==r[0]&&r[0]&&!t(r[0]).hasClass(l)?(this._focusElement(t(r[0])),n.preventDefault(),n.stopPropagation()):(s=o.find("tr[role='row']").eq(0),s.length?i=s[0]:this._lastTabbableRowMetadata&&this._isRowDisplayed(this._lastTabbableRowMetadata)?(i=this._getRowByRowMetadata(this._lastTabbableRowMetadata),f=this._lastTabbableRowMetadata):i=this._findNextFocusable(o,null)[0]));i&&(f=f||this._widget.getRowMetadata(e(i).item),this._focusRow(i,f),c===0&&(n.preventDefault(),n.stopPropagation(
)))},v.prototype._focusElement=function(n){var t=n[0];t.focus();t.focus()},v.prototype._focusRow=function(n,i,r){var u=t(n),e;this._lastTabbableRowMetadata&&this._lastTabbableRowMetadata.focused(!1);p(i)||(this._lastTabbableRowMetadata=i,i.focused(!0),e={focused:i,target:u},this._focusElement(u),r&&(this._widget.trigger(h,f.cloneEvent(r,h),e),this._widget.options.events("focus",e)),this._updatePreviousNextFocusableState(u))},v.prototype._getFocusedItemIndex=function(n){for(var i,r=this._getPagedFocusableList(n),u,f=this._widget._itemsPerKeyboardPage(),t=0;t<r.length;t++)for(i=0;i<r[t].length;i++)if(e(r[t][i])===this._lastTabbableRowMetadata){u=t*f+i;break}return u},v.prototype._getFocusedRowMetadata=function(){return this._lastTabbableRowMetadata},v.prototype._getRowByRowMetadata=function(n){return i.find(this._widget.element.find("tbody tr").toArray(),function(t){return e(t)===n})},v.prototype._getRowFocusDataBindAttribute=function(){return b},v.prototype._findPreviousAndNextFocusable=
function(n,i,r){r===void 0&&(r=!0);var s=i?i.closest("table.azc-grid-full"):n.find("table.azc-grid-full").eq(0),u=this._getFocusableList(s),f,e,o;if(i)for(f=u.length-1;f>=0;f--)if(i[0]===u[f]){f>0&&(e=t(u[f-1]));f<u.length-1&&(o=t(u[f+1]));break}return e=e?e:r?t(u[u.length-1]):null,o=o?o:r?t(u[0]):null,{previous:e,next:o}},v.prototype._updatePreviousNextFocusableState=function(n){if(this.options.focusableCursorEnabled&&this.options.focusableCursorEnabled()){var i=this.options.focusableCursorOptions.wrapFocus(),r=n.closest(".azc-grid"),t=this._findPreviousAndNextFocusable(r,n,i);this.options.focusableCursorOptions.hasPreviousFocusRow(t.previous?!0:!1);this.options.focusableCursorOptions.hasNextFocusRow(t.next?!0:!1)}},v.prototype._getFocusableList=function(n){return n.find("> tbody > tr[data-grid-focusable]:not([aria-disabled=true]):not(.fxc-row-hidden)")},v.prototype._getPagedFocusableList=function(n){for(var i=[],t=this._getFocusableList(n).toArray(),r=this._widget._itemsPerKeyboardPage(
);t.length>0;)t.length<=r?i.push(t.splice(0)):i.push(t.splice(0,r));return i},v.prototype._isGridDataControl=function(n){return t.contains(this._widget.element.find(a)[0],n[0])},v.prototype._isRowDisplayed=function(n){return this._widget.element.find("tbody tr[data-grid-focusable=true]:not([aria-disabled=true])").each(function(t,i){if(e(i)===n)return!0}),!1},v.Name="azc-grid-focusableRow",v}(r.Extension);n.FocusableRowExtension=tt}(e||(e={})),e});define("_generated/Less/Viva.Controls/Controls/Forms/Viva.CheckBox.css",["require","exports","module"],function(n,t,i){"use strict";window.fx.injectCss(i,".azc-checkBox,.azc-checkBox span{display:inline-block;height:17px;vertical-align:top}.azc-checkBox{outline:0;background-repeat:no-repeat;background-position:center;position:relative}.azc-checkBox input{display:inline-block;margin:0;padding:0;border-width:0;text-decoration:none;height:17px}.azc-checkBox span{width:17px;box-sizing:border-box;border-width:1px;border-style:solid;border-color:inherit}.azc-checkBox .azc-checkBox-svg{position:absolute;top:3px;left:3px}.azc-checkBox .azc-checkBox-invisible{display:none}")}
);define("Viva.Controls/Controls/Forms/Viva.CheckBox",["require","exports","../Base/Viva.ValidatableControl","../Base/Viva.Base","../../../_generated/Less/Viva.Controls/Controls/Forms/Viva.CheckBox.css"],function(n,t,i,r){"use strict";var u;return function(n){var y=window,f=jQuery,h="azc-input",c="azc-checkBox",l="__azc-checkBox",a="<input class='azc-formControl' type='checkbox' data-bind='attr: { name: $ctl._name }, checked: $ctl._checked, value: $ctl._inputValue' name='' tabindex='-1' /><span class='azc-fill-text' data-bind='css: { \"fxs-br-error\": data.validationState() === 1, \"fxs-br-dirty\": data.dirty(), \"azc-disabled\": $disabled, \"azc-br-focused\": data.focused() }'><svg focusable='false' class='azc-checkBox-svg azc-check-svg' data-bind='style: { visibility: $ctl._checkChecked } ' version='1.1' xmlns= http://www.w3.org/2000/svg' xmlns: xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='11px' height='11px' viewBox='0 0 16 16' enable-background='new 0 0 16 16' xml: space='preserve' ><path d='M0.632,8.853L0.101,8.278C-0.037,8.126-0.037,7.885,0.123,7.74l1.534-1.418c0.073-0.066,0.16-0.101,0.255-0.101c0.108,0,0.204,0.044,0.276,0.123l4.218,4.523l7.258-9.296c0.073-0.094,0.182-0.145,0.298-0.145c0.088,0,0.167,0.029,0.233,0.081l1.659,1.28c0.081,0.059,0.13,0.145,0.145,0.248c0.007,0.101-0.015,0.204-0.081,0.276L6.595,15.246L0.632,8.853z'><\/path><\/svg><svg focusable='false' class='azc-checkBox-svg azc-indeterminate-svg' data-bind='style: { visibility: $ctl._checkIndeterminate }' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='12px' height='12px' enable - background='new 0 0 24 24' xml: space='preserve' ><rect x='1px' y='1px' width='9' height='9'><\/rect><\/svg><\/span>",
u=ko.computed,e=ko.observable,v=0,t,o,s;(function(n){n[n.Unchecked=0]="Unchecked";n[n.Checked=1]="Checked";n[n.Indeterminate=2]="Indeterminate"})(n.Value||(n.Value={}));t=n.Value;o=function(n){function i(){n.call(this);this.state=e(0);this.inputId=null;this.inputCheckedValue=e("checked");this.inputIndeterminateValue=e("indeterminate");this.isTriState=!1;this.value(t.Unchecked);this.canUserSetIndeterminate=e(!0)}return __extends(i,n),i}(i.ViewModel);n.ViewModel=o;s=function(n){function i(t,i,r){n.call(this,t,i,f.extend({viewModelType:o},r));this._attributes=[{name:"role",value:"checkbox"}];this._checked=u(f.noop);this._ariaChecked=u(f.noop);this._inputValue=u(f.noop);this._name=this.options.name||l+v++;this.element.addClass(c+" "+h).html(a);this._input=this.element.find("input").hide();this._svgElements=this.element.find(".azc-checkBox-svg");this._svgCheck=this.element.find(".azc-check-svg")[0];this._svgIndeterminate=this.element.find(".azc-indeterminate-svg")[0];this.options.inputId&&this.
_input.attr("id",this.options.inputId);this._addAttributes();this._initializeComputeds();this._bindDescendants();this._afterCreate();this._supportsFocus(!0)}return __extends(i,n),i.prototype.dispose=function(){this._checkExistsOrRegisterDestroyId(n.prototype.dispose)||(this._cleanElement(c,h),this._removeAttributes(),this._detachEvents(),this._input=null,n.prototype.dispose.call(this))},Object.defineProperty(i.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),i.prototype.toggle=function(){var i=this.options.value(),n=t.Checked;i===t.Checked?n=t.Unchecked:this.options.isTriState&&this.options.canUserSetIndeterminate()&&i===t.Unchecked&&(n=t.Indeterminate);this.options.value(n)},i.prototype._isSameValue=function(n,t){return n===t},i.prototype._initializeComputeds=function(){var i=this,f=this.lifetimeManager,r=this.element,n=this.options;this.$tabIndex.subscribeAndRun(f,function(n){r.attr("tabindex",n)});this._checked=u(function(){return n.value()!==
t.Unchecked});this._ariaChecked=u(function(){switch(n.value()){case t.Checked:return"true";case t.Unchecked:return"false";case t.Indeterminate:return"mixed";default:return null}});this._checkChecked=u(function(){return n.value()===1?"visible":"hidden"});this._checkIndeterminate=u(function(){return n.value()===2?"visible":"hidden"});this._inputValue=u(function(){return i._getInputValue(n.value())});this._addDisposablesToCleanUp([this._checked,this._ariaChecked,this._inputValue,this._checkChecked,this._checkIndeterminate]);this._addDisposablesToCleanUp(u(function(){r.attr("aria-checked",i._ariaChecked())}));this._addDisposablesToCleanUp(u(function(){var t=n.disabled();i._input.prop("disabled",t);r.attr("aria-disabled",t);i._detachEvents();t||i._attachEvents()}))},i.prototype._getInputValue=function(n){return n===t.Checked?this.options.inputCheckedValue():n===t.Indeterminate?this.options.inputIndeterminateValue():"unchecked"},i.prototype._addAttributes=function(){var n=this;this._attributes.
forEach(function(t){n.element.attr(t.name,t.value)})},i.prototype._removeAttributes=function(){var n=this;this._attributes.forEach(function(t){n.element.removeAttr(t.name)})},i.prototype._blur=function(){this.options.focused(!1)},i.prototype._focus=function(){this.options.focused(!0)},i.prototype._attachEvents=function(){var n=this;this._detachEvents();this._events={blur:function(){n._blur()},click:function(){n.toggle()},focus:function(){n._focus()},keyup:function(t){t.which===32&&n.toggle()},keydown:function(n){n.which===32&&n.preventDefault()},mouseenter:function(){n.options.state()!==2&&n.options.state(1)},mouseleave:function(){n.options.state()!==2&&n.options.state(0)}};this.element.on(this._events)},i.prototype._detachEvents=function(){this._events&&(this.element.off(this._events),this._events=null)},i}(i.Widget);n.Widget=s;ko.bindingHandlers.azcCheckBox=r.Widget.getBindingHandler(s)}(u||(u={})),u});define("MsPortalImpl.Controls/Controls/Lists/Grid1/Grid1.Extensibility",["require",
"exports","f","../../Base/Loadable"],function(n,t,i,r){"use strict";var u;return function(n){function o(n,i){t[n.toString()]=i}function s(n,i){t[n.toString()]===i&&delete t[n.toString()]}function h(){t={}}function c(n,t){n.forEach(function(n){t.addClass(n.getName())})}function l(n,t){n.forEach(function(n){t.removeClass(n.getName())})}var f=i.forEachKey,e=function(){function n(){}return n.prototype.setInstance=function(n){this._widget=n},n.prototype.getName=function(){return null},n.prototype.getDependencies=function(){return null},n}(),t,u;n.Extension=e;t={};n.defaultPlugins=[];n.registerPlugin=o;n.unregisterPlugin=s;n.unregisterAllPlugins=h;u=function(i){function r(n,t,r){i.call(this,n,t,r);this._initializePlugins(t);c(this._plugins,this.element)}return __extends(r,i),r.prototype.dispose=function(){this._checkExistsOrRegisterDestroyId(i.prototype.dispose)||(i.prototype.dispose.call(this),l(this._plugins,this.element))},r.prototype.getPlugin=function(n){return this._plugins?this._plugins.
first(function(t){return t.getName()===n}):null},r.prototype._initializePlugins=function(i){var e=this,u=[],r=[];n.defaultPlugins.forEach(function(n){u.push(new n)});f(t,function(n,t){var r=parseInt(n,10);(i.extensions&r)===r&&u.push(new t)});this._loadPlugins(u,r);this._plugins=r;r.sort(function(n,t){var i=n.getOrder?n.getOrder():null,r=t.getOrder?t.getOrder():null;return i===r?0:i!==null&&r===null?-1:i===null&&r!==null?1:i<r?-1:1});r.forEach(function(n){n.setInstance(e)})},r.prototype._extensionTrigger=function(n){for(var i,r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];return i=[],this._plugins.forEach(function(t){t[n]&&i.push(t[n].apply(t,r))}),i},r.prototype._loadPlugins=function(n,t){var i=this;n.forEach(function(r){var u=r.getDependencies()||[],f=u.filter(function(i){return!n.some(function(n){return n.getName()===i.getName()})&&!t.some(function(n){return n.getName()===i.getName()})});t.some(function(n){return n.getName()===r.getName()})||t.push(r);f.length&&i._loadPlugins(u,
t)})},r}(r.Widget);n.Extensibility=u}(u||(u={})),u});define("MsPortalImpl.Controls/Controls/Lists/Grid1/Grid1.Impl",["require","exports","f","./Grid1.Extensibility","Viva.Controls/Controls/Lists/Grid1/Viva.Grid1","Viva.Controls/Controls/Lists/Grid1/Viva.Grid1.Formatters","MsPortalImpl/Base/Base.KnockoutTemplateSanitizer"],function(n,t,i,r,u,f,e){"use strict";var o;return function(n){function w(n){return function(t,i){switch(n){case f.uri:i=i||{};i.cssClass="msportalfx-link-primary"}var r=n(t,i);return e.sanitizeHTML("Controls.Grid",r).sanitizedMarkup}}function b(n,t){return n&&t&&n===t}var l=i.Base,a=l.Diagnostics,o=i.ViewModels.Controls.Lists.Grid,s=o.Format,k=window,d=jQuery,h=o.Extensions,v=ko.observable,y=i.forEachKey,p=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(r.Extension),t,c;n.GridExtension=p;t=function(n){function t(t,i,r){n.call(this,t,i,r);this._metadataDisposables=[];this._resetCallbackAdded=!1;this._extensionTrigger("beforeCreate");this._initializeWidgets(
);this._extensionTrigger("afterCreate")}return __extends(t,n),t.prototype.dispose=function(){this._checkExistsOrRegisterDestroyId(n.prototype.dispose)||(this._extensionTrigger("beforeDestroy"),this._metadataDisposables&&(this._metadataDisposables.forEach(function(n){var t=n.disposables||[];t.forEach(function(n){n.dispose()})}),this._metadataDisposables=[]),this._resetCallbackAdded&&this.options.resetCallback(null),n.prototype.dispose.call(this),this._extensionTrigger("afterDestroy"))},Object.defineProperty(t.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),t.prototype.getRowMetadata=function(n){return this._instance.getRowMetadata(n)},t.prototype._twoWayBinding=function(n,t){var r=n(),u=t(),i=!1,f=function(n,t){if(!i)try{i=!0;n(t)}finally{i=!1}},e,o;return r?t(r):u&&n(u),e=n.subscribe(function(n){f(t,n)}),o=t.subscribe(function(t){f(n,t)}),[e,o]},t.prototype._resetExtensions=function(){var n=this._extensionTrigger("resetExtension");return Q.all(
n)},t.prototype._initializeWidgets=function(){this._initializeNestedViewModel();this._instance=new u.Widget(this.element,this._nestedViewModel);this._widgets.push(this._instance);this._initializeExtensions();this._initializeVivaRowMetadata();this._setResetCallback()},t.prototype._getFormatter=function(n,t){var i,r=this._createOptions;switch(n){case s.Text:return f.text}if(i=this._extensionTrigger("getSafeFormatter",n,t,r.isTrusted).first(function(n){return n!==null}),i)return i;switch(n){case s.Html:i=f.html;break;default:i=this._extensionTrigger("getUnsafeFormatter",n,t,r.isTrusted).first(function(n){return n!==null});i||(i=f.text)}return r.isTrusted||(i=w(i)),i},t.prototype._connectMetadataAndDisposeSubscriptions=function(n,t){var i=this._getVivaItem(t);i&&this._canConnectRowMetadataProperties(i,t)&&(this._connectRowMetadataProperties(i,t),n.forEach(function(n){n.dispose()}))},t.prototype._disposeMetadataDisposables=function(n){var t,i=-1;this._metadataDisposables.some(function(r,u){
return r.metadata===n?(t=r,i=u,!0):!1});t&&((t.disposables||[]).forEach(function(n){n.dispose()}),this._metadataDisposables.splice(i,1))},t.prototype._initializeNestedViewModel=function(){var i=this,t=new u.ViewModel,n=this.options,f=n.extensions&h.SelectableRow,o=n.extensions&h.EditableRow,r;t.summary=n.summary;t.showHeader=n.showHeader;t.sortByList=n.sortByList;t.loading=n.loading;t.noRowsMessage=v();n.noRowsMessage&&(r=ko.computed(function(){var r=n.noRowsMessage(),u=i._createOptions.isTrusted?r:e.sanitizeHTML("Controls.Grid noRowsMessage",r).sanitizedMarkup;t.noRowsMessage(u)},this),this._addDisposablesToCleanUp(r));t.columns=n.columns.mapInto(this.lifetimeManager,function(n,t){var r=i._toNestedColumn(t);return n.registerForDispose(function(){i._extensionTrigger("columnAdded",t,r)}),i._extensionTrigger("columnAdded",t,r),r});t.items=n.items;t.extensions=this._getExtensions(n.extensionsOptions||{});t.disabled=n.disabled;this._nestedViewModel=t},t.prototype._initializeExtensions=function(
){this._extensionTrigger("initializeExtension")},t.prototype._setResetCallback=function(){var n=this;this.options.resetCallback()||(this.options.resetCallback(function(){return n._resetExtensions()}),this._resetCallbackAdded=!0)},t.prototype._toNestedColumn=function(n){var t={};return y(n,function(n,i){t[n]=i}),t.pcColumn=n,t.formatter=null,n.format!==undefined&&(t.formatter=this._getFormatter(n.format,n.formatOptions||{})),t},t.prototype._initializeVivaRowMetadata=function(){var n=this,t=this.options.rowMetadata;t.subscribeArrayBulkChanges(this.lifetimeManager,function(t,i){i.forEach(function(t){n._disposeMetadataDisposables(t)});t.forEach(function(t){n._connectPortalAndVivaRowMetadataAsync(t)})});t.peek().forEach(function(t){n._connectPortalAndVivaRowMetadataAsync(t)})},t.prototype._connectPortalAndVivaRowMetadataAsync=function(n){var r=this,t=[],i=this._getVivaItem(n);i&&this._canConnectRowMetadataProperties(i,n)?this._connectRowMetadataProperties(i,n):(this._extensionTrigger("registerSubscriptionsToConnectMetadataProperties",
t,n).forEach(function(n){t.push(n)}),t.push(this._nestedViewModel.items.subscribe(function(){r._connectMetadataAndDisposeSubscriptions(t,n)})))},t.prototype._getVivaItem=function(n){var i=this._nestedViewModel.items().first(function(t){return n.item===t}),r,t;if(!i)for(r=this._extensionTrigger("getAdditionalItems"),t=0;t<r.length;t++)if(r[t]&&(i=r[t].first(function(t){return b(t,n.item)}),i))break;return i},t.prototype._canConnectRowMetadataProperties=function(n,t){return!this._extensionTrigger("disallowConnectRowMetadataProperties",n,t).some(function(n){return!!n})},t.prototype._connectRowMetadataProperties=function(n,t){var i,u=this.getRowMetadata(n),r;t?(i=this._metadataDisposables.first(function(n){return n.metadata===t}),i||(i={metadata:t,disposables:[]},this._metadataDisposables.push(i)),this._extensionTrigger("connectRowMetadataProperties",n,u,t).forEach(function(n){n&&i.disposables.push.apply(i.disposables,n)})):(r=new a.Log("Grid"),r.debug("Metadata was not present and could not connect rowmetadata."))}
,t.prototype._getExtensions=function(n){var t=[];return this._extensionTrigger("getExtension",n).forEach(function(n){n&&t.push(n)}),t},t}(r.Extensibility);n.Widget=t;c=function(n){function t(t,i){n.call(this,t,i,{isTrusted:!0})}return __extends(t,n),t}(t);n.TrustedWidget=c}(o||(o={})),o});define("_generated/Less/MsPortalImpl.Controls/Controls/Lists/Grid1.Formatters.css",["require","exports","module"],function(n,t,i){"use strict";window.fx.injectCss(i,".fxc-base.azc-grid [data-grid-formelement=DropDown] .azc-control,.fxc-base.azc-grid [data-grid-formelement=TextBox] .azc-control,.fxc-base.azc-grid [data-grid-formelement=MultiselectDropDown] .azc-control.azc-multiSelectDropDown{width:100%}.fxc-base.azc-grid .fx-grid-formatters-svg{display:flex;align-items:center;text-overflow:inherit;overflow:inherit}.fxc-base.azc-grid .fx-grid-formatters-svg.fx-grid-svgicon-center{justify-content:center;width:calc(100% + 10px);margin-left:-10px}.fxc-base.azc-grid .fx-grid-formatters-svg .fx-grid-formatters-svgtext{text-overflow:inherit;overflow:inherit}.fxc-base.azc-grid .fx-grid-formatters-svgicon{margin-right:6px;flex-shrink:0;width:12px;height:13px;position:relative}.fxc-base.azc-grid .fx-grid-formatters-icon{display:flex;align-items:center;text-overflow:inherit;overflow:inherit}.fxc-base.azc-grid .fx-grid-formatters-icon .fx-grid-formatters-icon-text{flex:1;min-width:0;text-overflow:inherit;overflow:inherit}")}
);define("MsPortalImpl.Controls/Controls/Lists/Grid1/Grid1.Formatter",["require","exports","f","i","./Grid1.Extensibility","./Grid1.Impl","Viva.Controls/Controls/Lists/Grid1/Viva.Grid1.Formatters","Viva.Controls/Controls/Lists/Grid1/Viva.Grid1.Formatters.Helpers","MsPortalImpl/Base/Base.Sanitization","../../../../_generated/Less/MsPortalImpl.Controls/Controls/Lists/Grid1.Formatters.css"],function(n,t,i,r,u,f,e,o,s){"use strict";var h;return function(n){function p(n){var t=ko.unwrap(n),i=t&&!c(t.text)&&!c(t.uri)?t.uri:t;return s.sanitizeUri(i+"")}function d(n){return p(n)?e.icon(n):""}var l=r.Intl.DateTimeFormat,b=i.ViewModels.Controls.Lists.Grid,t=b.Format,h=e.date,v=o.attributeEncode,a=o.callFormatter,c=o.isUndefined,g=window,k=jQuery,w=function(n){function i(){n.apply(this,arguments)}return __extends(i,n),i.prototype.getName=function(){return"Formatter"},i.prototype.getOrder=function(){return 0},i.prototype.getSafeFormatter=function(n,i){var r,u;switch(n){case t.ShortTime:return h(l.
shortTimePattern);case t.LongTime:return h(l.longTimePattern);case t.ShortDate:return h(l.shortDatePattern);case t.LongDate:return h(l.longDatePattern);case t.MonthDay:return h(l.monthDayPattern);case t.YearMonth:return h(l.yearMonthPattern);case t.CustomDate:return h(i.dateFormat||"");case t.Number:return e.numberFormat(i.numberFormat);case t.TextLookup:return e.textLookup(i.textLookup||{});case t.Icon:return d;case t.IconLookup:r=i.iconLookup||{};for(u in r)r.hasOwnProperty(u)&&(p(r[u])||delete r[u]);return e.iconLookup(r);case t.SvgIcon:return y.svgIcon;case t.SvgIconLookup:return y.svgIconLookup(i.svgIconLookup||{});case t.PercentageBar:return e.percentageBar(i.percentageBar||{})}return null},i.prototype.getUnsafeFormatter=function(n,i){switch(n){case t.Html:return e.html;case t.TextLookup:return e.textLookup(i.textLookup||{});case t.Uri:return e.uri}return null},i}(f.GridExtension),y;n.FormatterExtension=w;u.defaultPlugins.push(w),function(n){function t(n){var u=function(n){return n&&
!c(n.type)},f=function(n,t,i){var r="image: "+v(ko.toJSON(n)),u=i&&t?', style: { height:"'+v(t)+'", width: "'+v(i)+'" }':"";return"<span class='fx-grid-formatters-svgicon' data-bind='"+r+u+"'><\/span>"},o=Array.prototype.slice.call(arguments,1),t=ko.unwrap(n),s="",i,r;return(t&&!c(t.center)&&t.center&&(s=" fx-grid-svgicon-center"),i="<div class='fx-grid-formatters-svg"+s+"'>",t&&!c(t.svg)&&u(t.svg))?(r="",t.text&&!c(t.text)&&(r="<span class='fx-grid-formatters-svgtext'>"+a(e.text,t.text,o)+"<\/span>"),i+f(t.svg,t.height,t.width)+r+"<\/div>"):u(t)?i+f(t)+"<\/div>":t&&!c(t.text)?i+"<span class='fx-grid-formatters-svgtext'>"+a(e.text,t.text,o)+"<\/span><\/div>":""}function i(t){return function(i){for(var r,u,s=[],f=1;f<arguments.length;f++)s[f-1]=arguments[f];if(r=ko.unwrap(i),o.isNullOrUndefined(t[r])){if(t["##DEFAULT##"])return r=e.text(r),u=t["##DEFAULT##"],u.text&&(u=k.extend({},u,{text:u.text.replace(/##DEFAULT##/g,r)})),a(n.svgIcon,u,s)}else return a(n.svgIcon,t[r],s);return""}}n.svgIcon=
t;n.svgIconLookup=i}(y=n.Formatters||(n.Formatters={}))}(h||(h={})),h});define("_generated/Less/Viva.Controls/Controls/Lists/Viva.Grid1.SelectableRow.css",["require","exports","module"],function(n,t,i){"use strict";window.fx.injectCss(i,".azc-grid-selectableRow-selectionCell-col{width:26px;max-width:26px}.azc-grid-selectableRow-selectAll{vertical-align:text-top;margin-left:7px}.azc-grid-selectableRow-selectionCell-wrapper{border-width:1px;border-style:solid;box-sizing:border-box;width:17px;height:17px;display:none}.azc-grid-selectableRow-selectionCell-wrapper .fx-grid-formatters-svgicon{margin-top:2px;margin-left:2px;position:relative}.azc-grid-selectableRow-selectionCell-wrapper .fx-grid-formatters-svgicon svg{vertical-align:top}.azc-grid-selectableRow:not(.azc-grid-scrollable):not(.azc-grid-hierarchical) table,.azc-grid-selectableRow:not(.azc-grid-scrollable):not(.azc-grid-hierarchical) table tbody,.azc-grid-selectableRow:not(.azc-grid-scrollable):not(.azc-grid-hierarchical) table tbody tr{height:100%}.azc-grid-selectableRow table thead th.azc-grid-selectableRow-overlay-header{width:0}.azc-grid-selectableRow table tbody tr td.azc-grid-selectableRow-overlay-cell{overflow:visible;padding:0;vertical-align:top;width:0}.azc-grid-selectableRow table tbody tr td.azc-grid-selectableRow-overlay-cell div.azc-grid-selectableRow-overlay-origin{position:relative;overflow:visible;height:100%}.azc-grid-selectableRow table tbody tr td.azc-grid-selectableRow-overlay-cell div.azc-grid-selectableRow-overlay-origin div.azc-grid-selectableRow-overlay-container{position:absolute;top:0;right:0}.azc-grid-selectableRow table tbody tr.azc-external-hovered td.azc-grid-selectableRow-selectionCell div.azc-grid-selectableRow-selectionCell-wrapper,.azc-grid-selectableRow table tbody tr.fxs-selected td.azc-grid-selectableRow-selectionCell div.azc-grid-selectableRow-selectionCell-wrapper,.azc-grid-selectableRow table tbody tr:not([aria-disabled=true]):focus td.azc-grid-selectableRow-selectionCell div.azc-grid-selectableRow-selectionCell-wrapper,.azc-grid-selectableRow table tbody tr:not([aria-disabled=true]):hover td.azc-grid-selectableRow-selectionCell div.azc-grid-selectableRow-selectionCell-wrapper{display:block}.azc-grid-selectableRow table tbody tr td:first-of-type{border-left:none}.azc-grid-selectableRow table tbody tr td.azc-br-muted:last-of-type,.azc-grid-selectableRow table tbody tr td:last-of-type{border-right:none}")}
);define("Viva.Controls/Controls/Lists/Grid1/Viva.Grid1.SelectableRow",["require","exports","f","./Viva.Grid1.FocusableRow","./Viva.Grid1","../../../Util/Viva.Util","../../Forms/Viva.CheckBox","MsPortalImpl.Controls/Controls/Lists/Grid1/Grid1.Formatter","../../../../_generated/Less/Viva.Controls/Controls/Lists/Viva.Grid1.SelectableRow.css","MsPortalImpl/Base/Base.KnockoutExtensions.Image"],function(n,t,i,r,u,f,e,o){"use strict";var s;return function(n){var k=i,d=k.Base,st=d.Images,y=k.isNullOrUndefined,s=ko.observable,g=ko.computed,c=ko.dataFor,nt=ko.pureComputed,tt=i.disposeDisposable,a=e.Value,v=jQuery,ht=window,it="azc-grid",kt=it+"-activateableRow",rt=it+"-selectableRow",h="tr[data-grid-selectable=true]:not([aria-disabled=true])",ut="tbody "+h,ct=rt+"-selectionCell",lt=ut+" td."+ct,ft=rt+"-selectAll",et="11px",p='attr: { "data-grid-selectable": true, "aria-selected": selected() ? "true" : "false", tabindex: selected() || focused() ? $tabIndex() : $focusIndex() }',w='css: { "fxs-selected": selected() }',
at='css: { "azc-grid-multiselectable": $ctl.getPlugin("azc-grid-selectableRow")._multiselect, "azc-grid-selectable": $ctl.getPlugin("azc-grid-selectableRow")._showSelectionExperience }',vt="<col class='azc-grid-selectableRow-overlay-col' />",yt="<th class='azc-grid-selectableRow-overlay-header' aria-hidden='true'><\/th>",pt="<td class='azc-grid-selectableRow-overlay-cell azc-br-muted' aria-hidden='true'><div class='azc-grid-selectableRow-overlay-origin'><div class='azc-grid-selectableRow-overlay-container' data-bind='trustedHtml: $ctl.getPlugin(\"azc-grid-selectableRow\")._overlayFormat($data)'><\/div><\/div><\/td>",wt="<col class='azc-grid-selectableRow-selectionCell-col' />",bt="<th class='azc-grid-selectableRow-selectionCell-header' aria-hidden='true'>"+("<div class='"+ft+'\' data-bind=\'azcCheckBox: $ctl.getPlugin("azc-grid-selectableRow")._selectAllCheckbox, visible: $ctl.getPlugin("azc-grid-selectableRow")._canSelectAll\'><\/div>')+"<\/th>",b="<td class='azc-grid-selectableRow-selectionCell azc-br-muted' aria-hidden='true'><div class='azc-grid-selectableRow-selectionCell-wrapper azc-br-default azc-fill-text'><div data-bind='trustedHtml: $ctl.getPlugin(\"azc-grid-selectableRow\")._selectionCellFormat($data)'><\/div><\/div><\/td>",
l,t,ot;(function(n){n.RowSelect="rowSelect";n.RowClick="rowClick"})(l=n.EventTypes||(n.EventTypes={})),function(n){n[n.Off=0]="Off";n[n.Single=1]="Single";n[n.MultipleAdd=2]="MultipleAdd";n[n.MultipleReplace=3]="MultipleReplace";n[n.AlwaysSingle=4]="AlwaysSingle"}(n.RowSelectionMode||(n.RowSelectionMode={}));t=n.RowSelectionMode;ot=function(n){function i(i){var u=this,f;n.call(this);this._disposables=[];this._options=i=i||{};i.mode=i.mode||s(t.Single);i.hideMultiSelectCheckbox=i.hideMultiSelectCheckbox||!1;i.enableSelectableCursor=i.enableSelectableCursor||s(!1);i.hasPreviousSelectableItem=i.hasPreviousSelectableItem||s(!1);i.hasNextSelectableItem=i.hasNextSelectableItem||s(!1);this._enableSelectableCursor=g(function(){u._updateSelectableCursor()});f=this._selectAllCheckbox=new e.ViewModel;f.canUserSetIndeterminate(!1);this._multiselect=nt(function(){var n=i.mode();return n===t.MultipleAdd||n===t.MultipleReplace});this._canSelectAll=nt(function(){return u._multiselect()&&!u._widget._extensionTrigger(
"shouldNotAllowSelectAll").some(function(n){return n})});this._modeSubscription=i.mode.subscribe(function(n){var f,e,h,o,i,s;if(u._widget&&(f=u._widget.getPlugin(r.FocusableRowExtension.Name),f&&(n===t.Off?f.options.focusable(!1):f.options.focusable(!0)),n===t.AlwaysSingle||n===t.Single))if(i=u.getSelectedRows(),s=i?i.length:0,i=u.getSelectedRows(),s=i?i.length:0,s>=1)for(o=1;o<s;o++)i[o].selected(!1);else n===t.AlwaysSingle&&(e=u._widget.options.items(),e&&e.length>0&&(h=u._widget.getRowMetadata(e[0]),h.selected(!0)))})}return __extends(i,n),Object.defineProperty(i.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),i.prototype.getSelectedRows=function(){return this._widget._getAllRowMetadata().filter(function(n){return n.selected.peek()})},i.prototype.getSelectableRows=function(){var n=this;return this._widget.options.items().filter(function(t){return!n._widget.getRowMetadata(t).disabled()})},i.prototype.selectAllRows=function(){this.selectRows.apply(
this,this.getSelectableRows())},i.prototype.unselectAllRows=function(){this._widget._getAllRowMetadata().forEach(function(n){n.selected(!1)})},i.prototype.unselectRows=function(){for(var i=this,t=[],n=0;n<arguments.length;n++)t[+n]=arguments[n];t.forEach(function(n){i._widget.getRowMetadata(n).selected(!1)})},i.prototype.selectRows=function(){for(var i=this,t=[],n=0;n<arguments.length;n++)t[+n]=arguments[n];t.forEach(function(n){i._widget.getRowMetadata(n).selected(!0)})},i.prototype.setInstance=function(t){n.prototype.setInstance.call(this,t);this._options.mode.valueHasMutated()},i.prototype.afterCreate=function(){this._widget.lifetimeManager.registerForDispose([this._showSelectionExperience,this._modeSubscription,this._enableSelectableCursor]);this._focusableRowPlugin=this._widget.getPlugin(r.FocusableRowExtension.Name);this._updateSelectableCursor()},i.prototype.afterSetTemplates=function(n){var i=this,r=n.getHtmlTemplate("bodyRowsCore"),e=n.getHtmlTemplate("header"),h=n.getHtmlTemplate(
"colgroup"),c=n.getHtmlTemplate("table"),u=n.getHtmlTemplate("editableBodyRowsCorePerColumn"),f=n.getHtmlTemplate("editableBodyRowsCoreForRow"),s=!y(u)&&!y(f);r.addAttribute("tr","data-bind",p);r.addAttribute("tr","data-bind",w);c.addAttribute("table","data-bind",at);this._showSelectionExperience=g(function(){var n=i._options.mode(),r=n===t.Off,u=i._options.hideMultiSelectCheckbox,f=n===t.Single||n===t.AlwaysSingle,e=i._widget.options.extensions.first(function(n){return n.getName()==="azc-grid-activateableRow"});return!r&&!u&&!(f&&e)});this._showSelectionExperience()&&(r.prepend("tr",b),e.prepend("tr",bt),h.prepend("colgroup",wt),s&&(u.prepend("tr",b),f.prepend("tr",b)));s&&(u.addAttribute("tr","data-bind",p),u.addAttribute("tr","data-bind",w),f.addAttribute("tr","data-bind",p),f.addAttribute("tr","data-bind",w));this.options.overlayFormatter&&(r.append("tr",pt),e.append("tr",yt),e.append("colgroup",vt));this._selectionCellFormatter=o.Formatters.svgIconLookup({"true":{svg:st.Check({palette:
d.ImagePalette.Inherit}),height:et,width:et}});ko.reactor(this._widget.lifetimeManager,function(){var n,t,r;i._canSelectAll()&&(t=!0,i._widget._getAllRowMetadata().forEach(function(i){if(!i.disabled()){var r=i.selected();n=n||r;t=t&&r}}),r=i._selectAllCheckbox,t&&n?r.value(a.Checked):n?r.value(a.Indeterminate):r.value(a.Unchecked))})},i.prototype.getDefaultRowMetadataProperties=function(){return{selected:s(!1)}},i.prototype.afterAttachEvents=function(){var i=this,n=this;this._disposables.push(this._widget.element.setEvents(["click.azcGrid",ut,function(t){v.contains(n._widget.element[0],this)&&n._onClick(this,t);t.stopPropagation()}],["click.selectionCell",lt,function(t){var i=v(this).closest(h)[0],u=n._widget.getPlugin(r.FocusableRowExtension.Name);t.ctrlKey=!0;n._changeSelection(i,t,n._multiselect());u._focusRow(i,c(i));t.stopPropagation()}],["keydown.azcGrid",function(i){var f=v(i.target),s=f[0],d=c(s),o=d&&d.selected,l,k,nt=n._widget.getPlugin(r.FocusableRowExtension.Name),g=n._widget.
_itemsPerKeyboardPage(),e=u.Widget.getModifierKeys(i),a=!0,p,w,b;if(n._options.mode()!==t.Off&&!r.FocusableRowExtension.isEditableControl(f)){switch(i.which){case 32:k=ht.document.activeElement;(e===u.ModifierKeys.None||e===u.ModifierKeys.Ctrl&&f.is("tr[data-grid-selectable]")&&(i.target===k||v.contains(f[0],k)))&&(p=c(f[0]),p&&p.selected&&p.selected()&&(i.ctrlKey=!0),n._changeSelection(f[0],i));break;case 65:e===u.ModifierKeys.Ctrl?n._canSelectAll()&&n.selectAllRows():a=!1;break;case 68:e===u.ModifierKeys.Ctrl?n.unselectAllRows():a=!1;break;case 38:case 40:n._multiselect()&&e===u.ModifierKeys.Shift&&(w=i.which===38?f.prevAll(h)[0]:f.nextAll(h)[0],o&&!o()&&n._changeSelection(s,i,!1,!0),y(w)||n._rowMetadataIsNotSelected(w)&&n._changeSelection(w,i,!1,!0));break;case 33:case 34:n._multiselect()&&e===u.ModifierKeys.Shift&&(b=i.which===33?f.prevAll(h):f.nextAll(h),l=b.length<g-1?b:b.slice(0,g-1),o&&!o()&&n._changeSelection(s,i,!1,!0),l.each(function(t,r){n._rowMetadataIsNotSelected(r)&&n._changeSelection(
r,i,!1,!0)}));break;case 36:case 35:n._multiselect()&&e===u.ModifierKeys.Shift&&(l=i.which===36?f.prevAll(h):f.nextAll(h),n.unselectAllRows(),o&&!o()&&n._changeSelection(s,i,!1,!0),l.each(function(t,r){n._rowMetadataIsNotSelected(r)&&n._changeSelection(r,i,!1,!0)}));break;default:a=!1}a&&(i.stopPropagation(),i.preventDefault())}}],["click.azcGridSelectAll","."+ft,function(){if(i._canSelectAll())switch(i._selectAllCheckbox.value()){case a.Checked:i.selectAllRows();break;case a.Unchecked:i.unselectAllRows()}}]))},i.prototype.getOrder=function(){return 20},i.prototype.getDependencies=function(){return[new r.FocusableRowExtension]},i.prototype.beforeDestroy=function(){tt(this._disposables);this._disposables=[]},i.prototype.getName=function(){return i.Name},i.prototype.getAdditionalColumns=function(){var n=0;return this.options.overlayFormatter&&(n+=2),this._showSelectionExperience()&&(n+=1),n},i.prototype._changeSelection=function(n,i,u,e){var b;u===void 0&&(u=!1);e===void 0&&(e=!1);var y=
this.options.mode(),a,k=this.options.disableRequireSingleModeAssistKey?this.options.disableRequireSingleModeAssistKey.peek():!1,d=this._widget.getPlugin(r.FocusableRowExtension.Name);if(!this._widget._extensionTrigger("shouldNotChangeSelection",n,i).some(function(n){return!!n})){switch(y){case t.Off:return;case t.Single:case t.AlwaysSingle:a=!1;break;case t.MultipleAdd:a=!0;break;case t.MultipleReplace:a=i.ctrlKey||i.shiftKey;break;default:throw new Error("Unknown selection mode: "+y+".");}u&&(a=!0);var h=c(n),o=null,s=[],g=h.selected&&h.selected(),p,w=-1,v;if(a)g?s=[h]:o=h;else{for(s=this.getSelectedRows(),v=s.length-1;v>=0;v--)b=s[v],b!==h||(w=v);w<0?o=h:y===t.Single&&(k||i.ctrlKey||i.shiftKey)||(y===t.Single?(s.splice(w,1),o=h):s.splice(w,1))}(o||s.length>0)&&(p={selected:o,unselected:s},this._widget.trigger("beforeRowSelect",f.cloneEvent(i,"beforeRowSelect"),p),s.forEach(function(n){n.selected(!1)}),o&&o.selected&&(o.selected(!0),e&&d.focusRowByRowMetadata(o)),this._widget.trigger(
l.RowSelect,f.cloneEvent(i,l.RowSelect),p),this._widget.options.events("select",p))}},i.prototype.previous=function(){if(this.options.enableSelectableCursor())this._focusableRowPlugin.previous(this.getSelectedRows()[0]);else throw new Error("Previous selectable cursor method will work only when enableSelectableCursor option is set to true.");return Q()},i.prototype.next=function(){if(this.options.enableSelectableCursor())this._focusableRowPlugin.next(this.getSelectedRows()[0]);else throw new Error("Next selectable cursor method will work only when enableSelectableCursor option is set to true.");return Q()},i.prototype._rowMetadataIsNotSelected=function(n){var t=c(n);return t&&t.selected&&!t.selected()},i.prototype._updateSelectableCursor=function(){var t=this,n;this._widget&&(n=this._widget.getPlugin(r.FocusableRowExtension.Name),this._options.enableSelectableCursor()?(n.options.focusableCursorEnabled=this._options.enableSelectableCursor,n.options.focusableCursorOptions={wrapFocus:s(!1),
hasPreviousFocusRow:this.options.hasPreviousSelectableItem||s(!1),hasNextFocusRow:this.options.hasNextSelectableItem||s(!1)},this._triggeredEventRowFocus||this._disposables.push(this._triggeredEventRowFocus=this._widget.element.setEvents(["rowFocus.azcGrid",function(n,i){var r=t.getSelectedRows();r&&r.length>0&&(v(i.target[0]).click(),n.stopPropagation())}]))):(this._options.hasPreviousSelectableItem(!1),this._options.hasNextSelectableItem(!1),n.options.focusableCursorEnabled(!1),n.options.focusableCursorOptions.wrapFocus(!0),n.options.focusableCursorOptions.hasPreviousFocusRow(!1),n.options.focusableCursorOptions.hasNextFocusRow(!1),this._triggeredEventRowFocus&&(tt(this._triggeredEventRowFocus),this._triggeredEventRowFocus=null)))},i.prototype._getPreviousSelectableRow=function(n){for(var r,i=this.getSelectableRows(),t=0;t<i.length;t++)i[t]===n&&i[t-1]&&(r=i[t-1]);return r},i.prototype._onClick=function(n,t){var i={item:n,rowMetadata:c(n),clientX:t.clientX,clientY:t.clientY};this._widget.
trigger(l.RowClick,f.cloneEvent(t,l.RowClick),i,t.target);this._widget.options.events(l.RowClick,i);this._changeSelection(n,t)},i.prototype._overlayFormat=function(n){return this.options.overlayFormatter?this.options.overlayFormatter(n.selected()):""},i.prototype._selectionCellFormat=function(n){var t;return this._showSelectionExperience()&&(t=this._selectionCellFormatter(n.selected())),t},i.Name="azc-grid-selectableRow",i}(u.Extension);n.SelectableRowExtension=ot}(s||(s={})),s});define("_generated/Less/Viva.Controls/Controls/Lists/Viva.Grid1.EditableRow.css",["require","exports","module"],function(n,t,i){"use strict";window.fx.injectCss(i,".azc-grid-editableRow .azc-grid-editableRow-edited td:first-child{box-shadow:inset 3px 0 0 0 #c84fd7}.azc-grid-editableRow .azc-grid-editableRow-deleted{display:none}.azc-grid-editableRow table tbody.azc-grid-editableRow-addSection:not(.azc-grid-editableRow-placement-top) tr[role=row] td{border-top-width:0}.azc-grid-editableRow table tbody.azc-grid-editableRow-addSection.azc-grid-editableRow-placement-top tr[role=row] td{border-bottom-width:0}")}
);define("Viva.Controls/Controls/Lists/Grid1/Viva.Grid1.EditableRow",["require","exports","f","u","./Viva.Grid1.FocusableRow","./Viva.Grid1","./Viva.Grid1.SelectableRow","../../../Util/Viva.Util","MsPortalImpl/Widgets/Widgets.Common","MsPortalImpl/Base/Base.KeyboardHelper","../../../../_generated/Less/Viva.Controls/Controls/Lists/Viva.Grid1.EditableRow.css"],function(n,t,i,r,u,f,e,o,s,h){"use strict";var c;return function(n){function ni(n){return t(n).parent().hasClass(d)?0:1}function ft(n){var i=t(n).parent(),r;return r=i.hasClass(d)?i.siblings(tt).find(k).first():i.siblings(tt).find(k).last(),r.find("td")}function et(n){var i=t(n);return!i.find(".azc-validatableControl-invalid").length&&!i.find(".azc-validatableControl-pending").length}function ot(n){var i=t(n);return!!i.find(".azc-validatableControl-pending").length}function st(n,t){et(n)?t.resolve(!0):ot(n)?setTimeout(function(){st(n,t)},50):t.resolve(!1)}function ti(n){var t=Q.defer();return st(n,t),t.promise}function ii(n){return n.
rowMetadata.editState()!==0}var ht=i,y=ht.isNullOrUndefined,a=i.Base.EventTypes,t=jQuery,ui=window,nt="azc-grid-selectableRow",k="tr[role='row']",ct=k+":not([aria-disabled=true])",tt="tbody.azc-grid-groupdata",c="azc-grid-editableRow",l="azc-grid-editableRow-row",lt="."+l,at=l+" azc-grid-editableRow-fullRow",p="azc-grid-editableRow-addSection",vt="."+p,w=vt+" "+lt,yt=l+" azc-grid-editableRow-perColumn",d="azc-grid-editableRow-placement-top",it="azc-br-top-hovered",rt="azc-br-bottom-hovered",ut="<tbody class='"+p+"' data-bind='css: { \""+d+'": $ctl.getPlugin("'+c+"\").options.placement === MsPortalFx.ViewModels.Controls.Lists.Grid.EditableRowPlacement.Top }'>"+("<!-- ko template: { name: 'bodyRows', foreach: $ctl.getPlugin(\""+c+'")._orderedCreatedItems } --><!-- /ko -->')+"<\/tbody>",pt="<!-- ko with: $ctl.getRowMetadata($data) --><!-- ko context: { $disabled: $data.disabled } --><!-- ko if: editing -->"+('<!-- ko template: { name: $ctl.getPlugin("'+c+"\")._editablePerColumn() ? 'editableBodyRowsCorePerColumn' : 'editableBodyRowsCoreForRow', data: $data } --><!-- /ko -->")+
"<!-- /ko --><!-- ko ifnot: editing --><!-- ko template: 'bodyRowsCore' --><!-- /ko --><!-- /ko --><!-- /ko --><!-- /ko -->",wt="<td class='azc-br-muted' data-bind='attr: { colspan: $ctl._options.columns().length }, trustedHtml: $ctl.getPlugin(\""+c+"\")._editableRowFormat($data)'><\/td>",bt="<!-- ko template: { name: 'editableBodyCellPerColumn', foreach: $vm.columns } --><!-- /ko -->",kt="<td role='gridcell' aria-readonly='false' data-bind='trustedHtml: $ctl.getPlugin(\""+c+'")._editableCellFormat($parent, $data), attr: { "class": "azc-br-muted " + cssClass, "aria-label": $data.name() }\'><\/td>',dt='css: { "azc-grid-editableRow-edited": $ctl.getPlugin("'+c+'")._isRowEdited($data), "azc-grid-editableRow-deleted": $ctl.getPlugin("'+c+'")._isRowDeleted($data) }',v=ko.observable,gt=ko.observableArray,b=ko.dataFor,g=ko.computed,ri=function(n){function i(t){var i=this;n.call(this);this._options=t=t||{};t.placement=t.placement||0;this._createdItems=gt();this._orderedCreatedItems=g(function(
){var r=i._createdItems(),n,t,u;return r.length<=1?r:(n=r.slice(),t=n.firstIndex(function(n){var t=i._widget.getRowMetadata(n);return t&&t.emptyRow()}),t!==-1&&t!==n.length-1&&(u=n.splice(t,1),n.push(u[0])),i.options.placement===1&&n.reverse(),n)});this._editablePerColumn=g({read:function(){var n=i._widget.options.columns().some(function(n){return n.editableFormatter!==r}),t=!!i.options.editableFormatter;if(t&&n)throw new Error("The editableFormatter cannot be in columns when used for one row.");return n},deferEvaluation:!0})}return __extends(i,n),Object.defineProperty(i.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"createdItems",{get:function(){return this._createdItems},enumerable:!0,configurable:!0}),i.prototype.afterSetTemplates=function(n){var i=n.getTemplate.bind(n),t=n.setTemplate.bind(n),r=n.getHtmlTemplate.bind(n),o=i("body"),h=i("bodyCell"),s=r("bodyRowsCore"),c=i("bodyRows"),u,f,e;s.addAttribute("tr",
"data-bind",dt);u=i("bodyRowsCore");t("editableBodyRowsCoreForRow",u);f=r("editableBodyRowsCoreForRow");f.addAttribute("tr","class",at);f.html("tr",wt);t("editableBodyRowsCorePerColumn",u);e=r("editableBodyRowsCorePerColumn");e.addAttribute("tr","class",yt);e.html("tr",bt);t("editableBodyCellPerColumn",kt);t("bodyRows",pt);t("body",this.options.placement===1?ut+o:o+ut)},i.prototype.getDefaultRowMetadataProperties=function(){return{editState:v(0),editing:v(!1),validationResult:v(0),emptyRow:v(!1),_addedOnce:!1}},i.prototype.modifyRowNumber=function(){var n=this,t=this._widget._getAllRowMetadata().filter(function(n){return n.editState()===3}).length,i=this.createdItems().filter(function(t){return!n._widget.getRowMetadata(t).emptyRow()}).length;return i-t},i.prototype.afterAttachEvents=function(){var n=v(),f=!1,k=!1,d=!1,i=this,u=this._widget,c=u.element;c.on("mouseenter",w,this._onAddRowMouseEnter=function(){c.hasClass(nt)&&ft(this).addClass(ni(this)===0?it:rt)}).on("mouseleave",w,this._onAddRowMouseLeave=
function(){c.hasClass(nt)&&ft(this).removeClass(it+" "+rt)}).on("focusout","tr."+l,this._onFocusOut=function(){if(!k){var n=this,r=b(n);r&&r.editing&&r.editing.peek()&&setTimeout(function(){var r=document.activeElement,u=function(){try{k=!0;i._rowAdd(n)}finally{k=!1}};n===r||t.contains(n,r)||(ot(n)?ti(n).then(function(n){n&&u()}):u())},10)}}).on("click",ct,this._onClick=function(r){if(!d&&!u.options.disabled()){var nt=this,v=b(nt),tt=t(nt),ut=!!tt.closest("tbody."+p).length,et=u.getPlugin(e.SelectableRowExtension.Name),ft=v,h,l=void 0,it,w,k=r.clientX,g=r.clientY,rt=void 0;if(!v.editing.peek()&&(i.options.allowEditExistingItems&&!ut||i.options.allowEditCreatedItems&&ut)){(y(k)||y(g))&&(rt=t(r.target).position(),k=rt.left,g=rt.top);l=this;do l=l.previousSibling;while(l!==null&&b(l)!==v.item);if(v.editing(!0),l){do l=l.nextSibling;while(l!==null&&l.nodeName.toLowerCase()!=="tr");l&&(r.target=l,w=l,s.waitForBindings(c[0]).then(function(){if(i._onClick){for(h=document.elementFromPoint(k,g);
h;)if(h=o.findContainingControl(h),t.contains(w,h))if(h&&o.executeSetFocusOn(h)){try{f=!0;d=!0;n(w);it=o.cloneEvent(r,a.click);it.clientX=k;it.clientY=g;t(document.activeElement).trigger(it)}finally{f=!1;d=!1}break}else break;else break;n.peek()!==w&&n(w)}}),ft.selected&&(et._changeSelection(w,r),r.stopPropagation(),r.preventDefault()))}else t.contains(nt,document.activeElement)||s.waitForBindings(u.element[0]).then(function(){if(i._onClick){for(h=document.elementFromPoint(k,g);h;)if(h=o.findContainingControl(h),t.contains(nt,h)){if(h&&o.executeSetFocusOn(h)){try{f=!0;n(tt[0])}finally{f=!1}break}}else break;n.peek()!==tt[0]&&n(tt[0])}})}else v.editing.peek()&&ft.selected&&r.ctrlKey&&v.editing(!1)}});if(u._addDisposablesToCleanUp(g(function(){var i=n();f||y(i)||o.setFocusToFirstFocusableChild(t(i),function(n){return t(n).attr(o.Constants.dataEditableAttribute)?n:null})})),this.options.automaticRowChangeEventListener)u.element.on("keydown keyup change","tr."+l+" input, tr."+l+" select, tr."+
l+" textarea",this._onRowChange=function(n){var u=!1,e=t(n.target),o=n.target,f,s;h.isNonWrittenCharacter(n.which)||(n.type===a.keydown||n.type===a.keyup||n.type===a.input?(f=e.data("editablerow-previous"),n.type===a.keydown&&f===r?e.data("editablerow-previous",o.value):(n.type===a.keyup||n.type===a.input)&&(u=o.value!==(f||""))):u=!0,u&&(s=t(this).closest("tr."+l),i._rowEdit(s[0],n.type)))})},i.prototype.getOrder=function(){return 14},i.prototype.getDependencies=function(){return[new u.FocusableRowExtension]},i.prototype.beforeDestroy=function(){var n=this._widget.element,f=this._onFocusOut,t,i,r,u;f&&(n.off("focusout",f),this._onFocusOut=null);t=this._onClick;t&&(n.off("click",t),this._onClick=null);i=this._onRowChange;i&&(n.off("keydown keyup change",i),this._onRowChange=null);r=this._onAddRowMouseEnter;r&&(n.off("mouseenter",w,r),this._onAddRowMouseEnter=null);u=this._onAddRowMouseLeave;u&&(n.off("mouseleave",w,u),this._onAddRowMouseLeave=null)},i.prototype.shouldRetainRowMetadata=
function(n){return this._createdItems().some(function(t){return n.item===t})},i.prototype.getName=function(){return i.Name},i.prototype._rowAdd=function(n){var r=this._widget,u=!0,i=this._getEditableRow(n),f={targets:t(n).find(">td").children(),editableRow:i,preventExitEditing:function(){u=!1}};(i.existingItem||ii(i))&&!y(i.rowMetadata)&&et(n)&&(i.rowMetadata._addedOnce=!0,r.trigger("rowAdd",null,f),r.options.events("rowAdd",f),u&&i.rowMetadata.editing(!1))},i.prototype._rowEdit=function(n,i){var r={targets:t(n).find(">td").children(),editableRow:this._getEditableRow(n),type:i};r.editableRow.rowMetadata.editState(r.editableRow.existingItem?2:1);this._widget.trigger("rowEdit",null,r);this._widget.options.events("rowEdit",r)},i.prototype._getEditableRow=function(n){var i=t(n),r=i.find("input, select, textarea"),u=r.serializeArray(),f=b(n),e=!i.parent("tbody."+p).length;return{rowMetadata:f,data:u,existingItem:e}},i.prototype._editableRowFormat=function(n){var t=this.options.editableFormatter;
return t?t({rowMetadata:n}):""},i.prototype._editableCellFormat=function(n,t){return t.editableFormatter?t.editableFormatter(n.item[t.itemKey],{item:n.item,rowMetadata:n,column:t}):""},i.prototype._isRowEdited=function(n){return n.editState()!==0},i.prototype._isRowDeleted=function(n){return n.editState()===3},i.Name=c,i}(f.Extension);n.EditableRowExtension=ri}(c||(c={})),c});define("MsPortalImpl.Controls/Controls/Base/Formatters",["require","exports","f","Viva.Controls/Controls/Lists/Grid1/Viva.Grid1.EditableRow","Viva.Controls/Controls/Lists/Grid1/Viva.Grid1.Formatters","Viva.Controls/Controls/Lists/Grid1/Viva.Grid1.Formatters.Helpers","MsPortalFx/Globalization","MsPortalImpl/Base/Base.Sanitization","MsPortalImpl/Base/Base.KnockoutTemplateSanitizer"],function(n,t,i,r,u,f,e,o,s){"use strict";var h;return function(n){function nt(n,i,r,f){var s=!!f,o;switch(i){case t.ShortTime:return u.date(e.DateTimeFormat.shortTimePattern);case t.LongTime:return u.date(e.DateTimeFormat.longTimePattern)
case t.ShortDate:return u.date(e.DateTimeFormat.shortDatePattern);case t.LongDate:return u.date(e.DateTimeFormat.longDatePattern);case t.MonthDay:return u.date(e.DateTimeFormat.monthDayPattern);case t.YearMonth:return u.date(e.DateTimeFormat.yearMonthPattern);case t.CustomDate:return u.date(r.dateFormat||"");case t.TextLookup:return u.textLookup(r.textLookup||{});case t.Text:return u.text;case t.Number:return u.numberFormat(r.numberFormat);case t.Icon:return tt;case t.HtmlBindings:return u.htmlBindings(it(r.htmlBindingsType,r.htmlBindingsTemplate,s),rt(n,r.htmlBindingsType,r.htmlBindingsData));case t.PercentageBar:return u.percentageBar(r.percentageBar||{})}switch(i){case t.Html:o=u.html;break;case t.IconLookup:o=u.iconLookup(r.iconLookup||{});break;case t.TextLookup:o=u.textLookup(r.textLookup||{});break;case t.Uri:o=u.uri;break;default:o=u.text}return s||(o=ut(o)),o}function tt(n){var t=ko.unwrap(n),i=f.isUndefined,r=t&&!i(t.text)&&!i(t.uri)?t.uri:t;return o.sanitizeUri(r+"")?u.icon(
n):""}function it(n,t,i){var r=t||"";switch(n){case h.MultiselectDropDown:case h.TextBox:case h.CheckBox:case h.DropDown:case h.CheckBoxRowSelection:return"<div data-bind='formElement: $data'><\/div>"}return i?r:s.sanitizeHTML("Controls.Formatters",r).sanitizedMarkup}function rt(n,t,i){switch(t){case h.MultiselectDropDown:return l.multiselectDropDown(n,i);case h.TextBox:return l.textBox(n,i);case h.CheckBox:return l.checkBox(n,i);case h.DropDown:return l.dropDown(n,i);case h.CheckBoxRowSelection:return l.rowSelectionCheckBox(n);case h.Default:default:return function(n,t,i){return{value:t,settings:i}}}}function ut(n){return function(t,i){switch(n){case u.uri:i=i||{};i.cssClass="msportalfx-link-primary"}var r=n(t,i);return s.sanitizeHTML("Controls.Formatters",r).sanitizedMarkup}}var c=i.ViewModels,p=c.Controls.Lists.Grid,t=p.Format,h=p.HtmlBindingsType,w=c.Forms.CheckBox.ViewModel,b=c.Forms.DropDown.ViewModel,k=c.Forms.GroupDropDown,d=c.Forms.MultiSelectDropDown,g=c.Forms.TextBox.ViewModel,
a=ko.isObservable,r=ko.observable,v=ko.observableArray,y={invalidBindingData:"The formatOptions property was not correctly set. The htmlBindingsData needs to be specified correctly for rendering the {0}."},l;(function(n){function u(n,u){return function(f,e,o){var s,h=i(e),c,l;if(!f||!u||!a(u.groups))throw new Error(y.invalidBindingData.format("MultiselectDropDownFormField"));return c=r(h()),l={getOriginalObservable:function(){return c},getEditableObservable:function(){return h},createdByBaseFormClass:!0},s=new d.ViewModel(n,{label:r(u.label||""),groups:u.groups,multiselect:u.multiselect,validations:v(u.validations),infoBalloonContent:r(u.infoBalloonContent)}),s.maxSelectAllowed=u.maxSelectAllowed,s.multiItemsDisplayFormat=u.multiItemsDisplayFormat,s.multiItemsMaxDisplayFormat=u.multiItemsMaxDisplayFormat,s.valueSeparator=u.valueSeparator,s.displaySeparator=u.displaySeparator,s._setEditScopeAccessors(l),t(n,s,h,o&&o.rowMetadata,u&&u.validate),s}}function f(n,u){return function(f,e,o){var
s=i(e);if(!f||!u||!a(u.items))throw new Error(y.invalidBindingData.format("GroupDropDownFormField"));var c=r(s()),l={getOriginalObservable:function(){return c},getEditableObservable:function(){return s},createdByBaseFormClass:!0},h=new k.ViewModel(n,{label:r(u.label||""),items:u.items,validations:v(u.validations),infoBalloonContent:r(u.infoBalloonContent),filter:u.filter,filterPlaceholder:u.filterPlaceholder,customFilter:u.customFilter,multiselect:u.multiselect,selectAll:u.selectAll,selectAllOverride:u.selectAllOverride});return h._setEditScopeAccessors(l),t(n,h,s,o&&o.rowMetadata,u&&u.validate),h}}function e(n,u){return function(f,e,o){var h=i(e),s,c=r(h()),l={getOriginalObservable:function(){return c},getEditableObservable:function(){return h},createdByBaseFormClass:!0};return s=new g(n,{label:r(u&&u.label?u.label:""),validations:v(u?u.validations:null),emptyValueText:r(u?u.emptyValueText:null),infoBalloonContent:r(u?u.infoBalloonContent:null)}),s._setEditScopeAccessors(l),t(n,s,h,o&&
o.rowMetadata,u&&u.validate),s}}function o(n,u){return function(f,e,o){var s=i(e),c=r(s()),l={getOriginalObservable:function(){return c},getEditableObservable:function(){return s},createdByBaseFormClass:!0},h=new w(n,{label:r(u&&u.label?u.label:""),validations:v(u?u.validations:null),infoBalloonContent:r(u?u.infoBalloonContent:null),inlineLabel:!0});return h._setEditScopeAccessors(l),t(n,h,s,o&&o.rowMetadata,u&&u.validate),h}}function s(n,u){return function(f,e,o){var s=i(e),h,c,l;if(!u||!a(u.options))throw new Error(y.invalidBindingData.format("DropDownFormField"));return s()===undefined&&s(u.options()[0].value),c=r(s()),l={getOriginalObservable:function(){return c},getEditableObservable:function(){return s},createdByBaseFormClass:!0},h=new b(n,{label:r(u.label||""),options:u.options,validations:v(u.validations),infoBalloonContent:r(u.infoBalloonContent)}),h._setEditScopeAccessors(l),t(n,h,s,o&&o.rowMetadata,u&&u.validate),h}}function h(n){return function(t,i,r){i=r.rowMetadata.selected;
var f=new w(n),u=!1,e=!0;return i.subscribe(n,function(n){try{u=!0;f.value(n)}finally{u=!1}}),f.value.subscribe(n,function(n){if(!e&&!u)try{u=!0;f.value(!n)}finally{u=!1}e=!1}),f}}function t(n,t,i,r,u){var f;t.rowMetadata=r;r.editState&&r.editState()===0&&(t.performValidation(!1),f=n.createChildLifetime(),i.subscribe(f,function(){r.editState()!==0&&(t.performValidation()||t.performValidation(!0),t.ensureValidation())}),u&&a(u)&&(u.subscribe(n,function(){t.validate(t.validate()+1)}),r.editing.subscribe(f,function(n){n||f.dispose()})))}function i(n){return a(n)?n:r(n)}n.multiselectDropDown=u;n.groupDropDown=f;n.textBox=e;n.checkBox=o;n.dropDown=s;n.rowSelectionCheckBox=h})(l=n.ControlViewModels||(n.ControlViewModels={}));n.getFormatter=nt}(h||(h={})),h});define("_generated/Less/Viva.Controls/Controls/Viva.DockedBalloon.css",["require","exports","module"],function(n,t,i){"use strict";window.fx.injectCss(i,'.azc-dockedballoon.azc-dockedballoon-help,.azc-dockedballoon.azc-dockedballoon-info{display:inline-block;text-align:center;width:20px;height:20px;cursor:pointer;position:relative}.azc-dockedballoon.azc-dockedballoon-help .azc-dockedballoon-anchor,.azc-dockedballoon.azc-dockedballoon-info .azc-dockedballoon-anchor{width:100%;height:100%;stroke:none}.azc-dockedballoon.azc-dockedballoon-help .azc-dockedballoon-anchor img,.azc-dockedballoon.azc-dockedballoon-info .azc-dockedballoon-anchor img{display:inline-block;margin-top:5px}.azc-dockedballoon-requiredwidget.azc-dockedballoon-required{display:inline-block;text-align:center;width:11px;height:6px;cursor:pointer;position:relative}.azc-required-anchor{height:6px;width:6px;margin-right:5px}.azc-required-anchor svg{vertical-align:4px}.azc-dockedballoon-anchor-target{height:9px;width:9px;margin-left:3px}.azc-dockedballoon.azc-dockedballoon-validation{display:inline-block;vertical-align:top}.azc-dockedballoon.azc-dockedballoon-validation div.azc-dockedballoon-anchor{cursor:pointer;font-weight:700;color:#fff;padding:0 5px;font-size:12px;text-align:center;text-decoration:none;display:block}.azc-dockedballoon.azc-dockedballoon-validation div.azc-dockedballoon-anchor svg{display:none}.azc-dockedballoon.azc-dockedballoon-validation div.azc-dockedballoon-anchor:before{content:"!"}div.azc-dockedballoon-required.azc-balloon,div.azc-dockedballoon-validation.azc-balloon{width:auto;height:auto}div.azc-dockedballoon-required.azc-balloon.azc-balloon-box-bottom .azc-balloon-pointer,div.azc-dockedballoon-validation.azc-balloon.azc-balloon-box-bottom .azc-balloon-pointer{top:0;width:0;height:0;background:0 0;border-style:solid;border-width:0 20px 20px 0;border-top-color:transparent!important;border-right-color:transparent!important;border-left-color:transparent!important}div.azc-dockedballoon-required.azc-balloon.azc-balloon-box-bottom .azc-balloon-content,div.azc-dockedballoon-validation.azc-balloon.azc-balloon-box-bottom .azc-balloon-content{margin-top:4px}div.azc-dockedballoon-required.azc-balloon.azc-balloon-box-bottom.azc-balloon-box-position-preferred,div.azc-dockedballoon-required.azc-balloon.azc-balloon-box-bottom.azc-balloon-position-preferred,div.azc-dockedballoon-validation.azc-balloon.azc-balloon-box-bottom.azc-balloon-box-position-preferred,div.azc-dockedballoon-validation.azc-balloon.azc-balloon-box-bottom.azc-balloon-position-preferred{left:0;vertical-align:baseline}div.azc-dockedballoon-required.azc-balloon.azc-balloon-box-bottom.azc-balloon-box-position-preferred .azc-balloon-pointer,div.azc-dockedballoon-required.azc-balloon.azc-balloon-box-bottom.azc-balloon-position-preferred .azc-balloon-pointer,div.azc-dockedballoon-validation.azc-balloon.azc-balloon-box-bottom.azc-balloon-box-position-preferred .azc-balloon-pointer,div.azc-dockedballoon-validation.azc-balloon.azc-balloon-box-bottom.azc-balloon-position-preferred .azc-balloon-pointer{left:0;top:-5px;width:0;height:0;background:0 0;border-style:solid;border-width:0 20px 20px 0;border-top-color:transparent!important;border-right-color:transparent!important;border-left-color:transparent!important}div.azc-dockedballoon-required.azc-balloon.azc-balloon-box-bottom.azc-balloon-box-position-alternate,div.azc-dockedballoon-required.azc-balloon.azc-balloon-box-bottom.azc-balloon-position-alternate,div.azc-dockedballoon-validation.azc-balloon.azc-balloon-box-bottom.azc-balloon-box-position-alternate,div.azc-dockedballoon-validation.azc-balloon.azc-balloon-box-bottom.azc-balloon-position-alternate{left:0;vertical-align:bottom}div.azc-dockedballoon-required.azc-balloon.azc-balloon-box-bottom.azc-balloon-box-position-alternate .azc-balloon-pointer,div.azc-dockedballoon-required.azc-balloon.azc-balloon-box-bottom.azc-balloon-position-alternate .azc-balloon-pointer,div.azc-dockedballoon-validation.azc-balloon.azc-balloon-box-bottom.azc-balloon-box-position-alternate .azc-balloon-pointer,div.azc-dockedballoon-validation.azc-balloon.azc-balloon-box-bottom.azc-balloon-position-alternate .azc-balloon-pointer{right:0;top:-5px;width:0;height:0;background:0 0;border-style:solid;border-width:0 0 20px 20px;border-top-color:transparent!important;border-right-color:transparent!important;border-left-color:transparent!important}div.azc-dockedballoon-required.azc-balloon.azc-balloon-box-top .azc-balloon-pointer,div.azc-dockedballoon-validation.azc-balloon.azc-balloon-box-top .azc-balloon-pointer{bottom:0;width:0;height:0;background:0 0;border-style:solid;border-width:20px 20px 0 0;border-right-color:transparent!important;border-bottom-color:transparent!important;border-left-color:transparent!important}div.azc-dockedballoon-required.azc-balloon.azc-balloon-box-top .azc-balloon-content,div.azc-dockedballoon-validation.azc-balloon.azc-balloon-box-top .azc-balloon-content{margin-bottom:0}div.azc-dockedballoon-required.azc-balloon.azc-balloon-box-top.azc-balloon-box-position-preferred,div.azc-dockedballoon-required.azc-balloon.azc-balloon-box-top.azc-balloon-position-preferred,div.azc-dockedballoon-validation.azc-balloon.azc-balloon-box-top.azc-balloon-box-position-preferred,div.azc-dockedballoon-validation.azc-balloon.azc-balloon-box-top.azc-balloon-position-preferred{left:0;vertical-align:baseline}div.azc-dockedballoon-required.azc-balloon.azc-balloon-box-top.azc-balloon-box-position-preferred .azc-balloon-pointer,div.azc-dockedballoon-required.azc-balloon.azc-balloon-box-top.azc-balloon-position-preferred .azc-balloon-pointer,div.azc-dockedballoon-validation.azc-balloon.azc-balloon-box-top.azc-balloon-box-position-preferred .azc-balloon-pointer,div.azc-dockedballoon-validation.azc-balloon.azc-balloon-box-top.azc-balloon-position-preferred .azc-balloon-pointer{left:0;bottom:-9px;width:0;height:0;background:0 0;border-style:solid;border-width:20px 20px 0 0;border-right-color:transparent!important;border-bottom-color:transparent!important;border-left-color:transparent!important}div.azc-dockedballoon-required.azc-balloon.azc-balloon-box-top.azc-balloon-box-position-alternate,div.azc-dockedballoon-required.azc-balloon.azc-balloon-box-top.azc-balloon-position-alternate,div.azc-dockedballoon-validation.azc-balloon.azc-balloon-box-top.azc-balloon-box-position-alternate,div.azc-dockedballoon-validation.azc-balloon.azc-balloon-box-top.azc-balloon-position-alternate{left:0;vertical-align:bottom}div.azc-dockedballoon-required.azc-balloon.azc-balloon-box-top.azc-balloon-box-position-alternate .azc-balloon-pointer,div.azc-dockedballoon-required.azc-balloon.azc-balloon-box-top.azc-balloon-position-alternate .azc-balloon-pointer,div.azc-dockedballoon-validation.azc-balloon.azc-balloon-box-top.azc-balloon-box-position-alternate .azc-balloon-pointer,div.azc-dockedballoon-validation.azc-balloon.azc-balloon-box-top.azc-balloon-position-alternate .azc-balloon-pointer{right:0;bottom:-5px;width:0;height:0;background:0 0;border-style:solid;border-width:20px 0 0 20px;border-right-color:transparent!important;border-bottom-color:transparent!important;border-left-color:transparent!important}div.azc-dockedballoon-required.azc-balloon .azc-balloon-content,div.azc-dockedballoon-validation.azc-balloon .azc-balloon-content{padding:15px}.azc-dockedballoon-required{fill:#e81123}')}
);define("Viva.Controls/Controls/Viva.DockedBalloon",["require","exports","./Viva.Balloon","./Base/Viva.Base","MsPortalImpl.Controls/Controls/Base/OptionsBase","MsPortalImpl/Generated/SvgStartupDefinitions","../Util/Viva.Util","../../_generated/Less/Viva.Controls/Controls/Viva.DockedBalloon.css"],function(n,t,i,r,u,f,e){"use strict";var o;return function(n){function w(t){for(var r,f=t.findByClassName(n.classes.anchor),i=0;i<f.length;i++)r=u.contextFor(f[i]),r.$vm.balloonVisible(!1),r.$ctl._balloonPinned=!1}var v,y;n.classes={widget:"azc-dockedballoon",requiredWidget:"azc-dockedballoon-requiredwidget",anchor:"azc-dockedballoon-anchor",anchorTarget:"azc-dockedballoon-anchor-target",balloon:"azc-dockedballoon-balloon",info:"azc-dockedballoon-info",required:"azc-dockedballoon-required",validation:"azc-dockedballoon-validation azc-bg-default",balloonVisible:"azc-dockedballoon-balloonVisible"};var h=n.classes,o=window,t=jQuery,p="<div class='"+n.classes.anchor+"' data-bind='attr: { \"aria-label\": data.content() }' aria-haspopup='true'><!-- ko if: $ctl._isImageShown() -->"+
("<div class='fxs-fill-secondary azc-fill-hovered-heavy "+n.classes.anchorTarget+"' data-bind='css: { \"azc-fill-heavy\": data.balloonVisible() }'>")+"<svg viewBox='0 0 9 9' focusable='false'><circle cx='4.5' cy='4.5' r='4.5'/><rect x='4' y='4' class='azc-fill-white' width='1' height='3'/><rect x='4' y='2' class='azc-fill-white' width='1' height='1'/><\/svg><\/div><!-- /ko --><!-- ko if: $ctl._isCheckPopulated() --><svg viewBox='0 0 16 16' focusable='false'><path class=\"msportalfx-svg-c14\" d=\"M0.632,8.853L0.101,8.278C-0.037,8.126-0.037,7.885,0.123,7.74l1.534-1.418 c0.073-0.066,0.16-0.101,0.255-0.101c0.108,0,0.204,0.044,0.276,0.123l4.218,4.523l7.258-9.296c0.073-0.094,0.182-0.145,0.298-0.145 c0.088,0,0.167,0.029,0.233,0.081l1.659,1.28c0.081,0.059,0.13,0.145,0.145,0.248c0.007,0.101-0.015,0.204-0.081,0.276L6.595,15.246 L0.632,8.853z\" /><\/svg ><!-- /ko --><!-- ko if: $ctl._isRequired() --><div data-bind='image: $ctl._requiredIcon' class='azc-required-anchor'><\/div><!-- /ko --><\/div>"+
("<div role='tooltip' class='"+n.classes.balloon+"'><\/div>"),c=[],a={info:{showImage:!0,offsets:{horizontal:{preferred:0,alternate:0},vertical:{preferred:12,alternate:12}},altText:"Info"},validation:{showImage:!1,offsets:{horizontal:{preferred:-8,alternate:-8},vertical:{preferred:0,alternate:0}}},required:{showImage:!1,offsets:{horizontal:{preferred:-8,alternate:-8},vertical:{preferred:0,alternate:0}},required:!0}},s=ko.observable,b=ko.observableArray,l="click";c[0]="info";c[2]="validation";c[3]="required";v=function(n){function t(){n.apply(this,arguments);this.type=0;this.position=s(0);this.content=s("");this.link=s();this.balloonVisible=s(!1);this.stopClickPropagation=s(!0);this.isTabbable=s(!0)}return __extends(t,n),t}(r.ViewModel);n.ViewModel=v;y=function(r){function u(i,u,e){r.call(this,i,u,t.extend({viewModelType:v},e));this._requiredIcon=f.Content.SvgStartup.requiredField;this._typeString=c[this.options.type];this._balloonHoverTimeoutHandle=null;this.options.type===3?this.element.
addClass(n.classes.requiredWidget):this.element.addClass(n.classes.widget);this.element.addClass(h[this._typeString]).html(p).find("."+n.classes.balloon).addClass(h[this._typeString]);this._bindDescendants();this._initializeBalloonWidget();this._initializeComputeds();this._attachEvents()}return __extends(u,r),u.prototype.dispose=function(){if(!this._checkExistsOrRegisterDestroyId(r.prototype.dispose)){this._balloonWidget&&(this._beforeClickedEventHandler&&(this._balloonWidget.element[0].removeEventListener(l,this._beforeClickedEventHandler),this._beforeClickedEventHandler=null),this._balloonWidget.dispose(),this._balloonWidget=null);this._balloonViewModel&&(this._balloonViewModel=null);this._detachEvents();this._cleanElement();for(var n in h)this.element.removeClass(h[n]);r.prototype.dispose.call(this)}},Object.defineProperty(u.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),u.prototype._initializeComputeds=function(){var t=this;ko.computed(this.
lifetimeManager,function(){t._balloonWidget.options.link(t.options.link())});this._balloonViewModel.visible.subscribe(this.lifetimeManager,this.options.balloonVisible);ko.computed(this.lifetimeManager,function(){t._balloonWidget.options.visible()||(t._balloonPinned=!1)});ko.reactor(this.lifetimeManager,function(){t.tabindex(t.options.isTabbable()?0:-1)});this.$tabIndex.subscribeAndRun(this.lifetimeManager,function(i){t.element.find("."+n.classes.anchor).attr("tabindex",i)})},u.prototype._initializeSubscriptions=function(t){var u=this;r.prototype._initializeSubscriptions.call(this,t);this.options.content.subscribe(this.lifetimeManager,function(n){u._balloonWidget.options.content(n)});this.options.balloonVisible.subscribe(this.lifetimeManager,function(t){var r=t&&!u.options.disabled(),f="scroll.dockedBalloon";if(u._scrollableParents&&(u._scrollableParents.off(f,u._parentScrollHandler),u._scrollableParents=null,u._parentScrollHandler=null),r){u._balloonWidget.options.box(i.getBox(u.element.
find("."+n.classes.anchor)));u._scrollableParents=e.getScrollableParents(u.element,!0);u._scrollableParents.on(f,u._parentScrollHandler=function(){u._scrollOrResizeWindow()})}u._balloonWidget.options.visible(r);u.element.toggleClass(n.classes.balloonVisible,r)});this.options.disabled.subscribe(this.lifetimeManager,function(n){n!==u._balloonWidget.options.disabled()&&(u._balloonWidget.options.disabled(n),u._balloonPinned=!1,n&&u.options.balloonVisible()&&u.options.balloonVisible(!1))});this.options.position.subscribe(this.lifetimeManager,function(n){u._balloonWidget.options.position(n)})},u.prototype._initializeBalloonWidget=function(){var u=this,f=this.element.find("div."+n.classes.balloon),r=this._balloonViewModel=new i.ViewModel;r.visible(this.options.balloonVisible());r.content(this.options.content());r.position(this.options.position());r.horizontalOffset=this._getOffset("horizontal");r.verticalOffset=this._getOffset("vertical");r.closeOtherBalloons=!0;this._balloonWidget=new i.Widget(
f,this._balloonViewModel);f[0].addEventListener(l,this._beforeClickedEventHandler=function(n){(n.target===u.element[0]||t.contains(u.element[0],n.target))&&(r.visible(!1),u._balloonPinned=!1,n.stopPropagation())},!0)},u.prototype._attachEvents=function(){var i=this;this._detachEvents();this._mouseEnterHandler=function(){i._mouseEnter()};this._mouseLeaveHandler=function(){i._mouseLeave()};this._anchorClickHandler=function(n){n.preventDefault();i._anchorClick(n)};this._anchorFocusInHandler=function(){i._anchorFocusIn()};this._anchorFocusOutHandler=function(){i._anchorFocusOut()};this._keyDownHandler=function(n){i._keyDown(n)};this.element.find("."+n.classes.anchor).on(l,this._anchorClickHandler);this.element.on("focusin",this._anchorFocusInHandler).on("focusout",this._anchorFocusOutHandler).on("keydown",this._keyDownHandler);this.element.on("mouseenter",this._mouseEnterHandler).on("mouseleave",this._mouseLeaveHandler);t(o).on("resize",this._resizeEventHandler=function(){i._scrollOrResizeWindow(
)});t(o).on("mousedown",this._documentMouseDownHandler=function(n){i._documentMouseDown(n)})},u.prototype._detachEvents=function(){var i=this.element.find("."+n.classes.anchor);this._mouseEnterHandler&&(this.element.off("mouseenter",this._mouseEnterHandler),this._mouseEnterHandler=null);this._mouseLeaveHandler&&(this.element.off("mouseleave",this._mouseLeaveHandler),this._mouseLeaveHandler=null);this._anchorClickHandler&&(i.off(l,this._anchorClickHandler),this._anchorClickHandler=null);this._anchorFocusInHandler&&(this.element.off("focusin",this._anchorFocusInHandler),this._anchorFocusInHandler=null);this._anchorFocusOutHandler&&(this.element.off("focusout",this._anchorFocusOutHandler),this._anchorFocusOutHandler=null);this._keyDownHandler&&(this.element.off("keydown",this._keyDownHandler),this._keyDownHandler=null);this._resizeEventHandler&&(t(o).off("resize",this._resizeEventHandler),this._resizeEventHandler=null);this._documentMouseDownHandler&&(t(o).off("mousedown",this._documentMouseDownHandler),
this._documentMouseDownHandler=null)},u.prototype._mouseEnter=function(){var n=this;this._balloonPinned||this._balloonHoverTimeoutHandle||(this._balloonHoverTimeoutHandle=o.setTimeout(function(){n._balloonWidget&&n.options.balloonVisible(!0);n._clearBalloonHoverTimeout()},200))},u.prototype._anchorClick=function(n){n.preventDefault();this.options.stopClickPropagation()&&n.stopPropagation();this._balloonPinned?(this.options.balloonVisible(!1),this._balloonPinned=!1):(this.options.balloonVisible(!0),this._balloonPinned=!0)},u.prototype._mouseLeave=function(){this._clearBalloonHoverTimeout();this._balloonPinned||this.options.balloonVisible(!1)},u.prototype._keyDown=function(n){(n.keyCode===13||n.keyCode===32)&&(n.stopImmediatePropagation(),this.options.balloonVisible(!0),n.preventDefault())},u.prototype._clearBalloonHoverTimeout=function(){this._balloonHoverTimeoutHandle&&(o.clearTimeout(this._balloonHoverTimeoutHandle),this._balloonHoverTimeoutHandle=null)},u.prototype._anchorFocusIn=function(
){this.element.find("."+n.classes.anchorTarget).addClass("azc-fill-heavy")},u.prototype._anchorFocusOut=function(){var t=this;this.element.find("."+n.classes.anchorTarget).removeClass("azc-fill-heavy");setTimeout(function(){var n=document.activeElement;n!==null&&t.element.has(n).length===0&&(t.options.balloonVisible(!1),t._balloonPinned=!1)},1)},u.prototype._scrollOrResizeWindow=function(){this._balloonPinned=!1;this.options.balloonVisible(!1)},u.prototype._documentMouseDown=function(n){n.target===this.element[0]||t.contains(this.element[0],n.target)||(this._balloonPinned=!1,this.options.balloonVisible(!1))},u.prototype._isImageShown=function(){return a[this._typeString].showImage},u.prototype._isRequired=function(){return a[this._typeString].required},u.prototype._isCheckPopulated=function(){return this.element.hasClass("azc-dockedballoon-validation")},u.prototype._getOffset=function(n){var t=a[this._typeString];return{preferred:t.offsets?t.offsets[n].preferred:0,alternate:t.offsets?t.
offsets[n].alternate:0}},u}(r.Widget);n.Widget=y;ko.bindingHandlers.azcDockedBalloon=r.Widget.getBindingHandler(y);n.DismissAllBalloons=w}(o||(o={})),o});define("Viva.Controls/Controls/Forms/Viva.Button",["require","exports","../Base/Viva.Base","../../../_generated/Less/Viva.Controls/Controls/Forms/Viva.Button.css"],function(n,t,i){"use strict";var r;return function(n){var c=window,f=jQuery,s="fxs-button-primary",h="azc-disabled",u=ko.computed,r=ko.observable,t,e,o;(function(n){n[n.Initial=0]="Initial";n[n.Hover=1]="Hover";n[n.Active=2]="Active"})(n.MouseState||(n.MouseState={}));t=n.MouseState;e=function(n){function i(){n.apply(this,arguments);this.submit=!1;this.selector=r(null);this.toggle=r(!1);this.pressed=r(!1);this.state=r(t.Initial);this.click=f.noop;this.uri=r({});this.text=r({});this.tabindex=r(0);this.visible=r(!0);this.isDefault=r(!1)}return __extends(i,n),i}(i.ViewModel);n.ViewModel=e;o=function(n){function i(t,i,r){var u=this;n.call(this,t,i,f.extend({viewModelType:e},r));
this.element.addClass("azc-button").attr("role","button").attr("type","button").on("click",this._clickHandler=function(n){return u._click(n)}).on("mousedown",this._mouseDownHandler=function(){u._mouseDown()}).on("mouseenter",this._mouseEnterHandler=function(){u._mouseEnter()}).on("mouseleave",this._mouseLeaveHandler=function(){u._mouseLeave()});this.element.is("button")||this._attachKeyEvent();this._initializeComputeds()}return __extends(i,n),i.prototype.dispose=function(){this._checkExistsOrRegisterDestroyId(n.prototype.dispose)||(this.element.removeAttr("role tabindex aria-pressed aria-disabled aria-label").removeClass("azc-button azc-button-state-hover azc-button-default").removeClass(s),this._mouseLeaveHandler&&(this.element.off("mouseleave",this._mouseLeaveHandler),this._mouseLeaveHandler=null),this._mouseEnterHandler&&(this.element.off("mouseenter",this._mouseEnterHandler),this._mouseEnterHandler=null),this._mouseDownHandler&&(this.element.off("mousedown",this._mouseDownHandler),
this._mouseDownHandler=null),this._removeMouseUpHandler(),this._keyUpHandler&&(this.element.off("keyup",this._keyUpHandler),this._keyUpHandler=null),this._keyDownHandler&&(this.element.off("keydown",this._keyDownHandler),this._keyDownHandler=null),this._clickHandler&&(this.element.off("click",this._clickHandler),this._clickHandler=null),n.prototype.dispose.call(this))},Object.defineProperty(i.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),i.prototype._initializeComputeds=function(){var n=this,i=this.lifetimeManager,r=this.options,t=this.element;this.$tabIndex.subscribeAndRun(i,function(n){t.attr("tabindex",n)});u(i,function(){r.toggle()?t.attr("aria-pressed",r.pressed()):t.removeAttr("aria-pressed")});u(i,function(){var i=r.selector();n._previousSelector!==i&&n._previousImg&&n._previousImg.attr("src","").attr("alt","");n._previousSelector=i;n._previousImg=t.find(i).attr("src",n._getUri()).attr("alt",n._getAlt())});u(i,function(){var n=r.disabled(
);t.toggleClass(h,n).attr("aria-disabled",n).filter(":button").prop("disabled",n)});u(i,function(){var n=r.isDefault();t.toggleClass("azc-button-default",n);t.toggleClass(s,n)});u(i,function(){t.toggle(r.visible()!==!1)});r.tabindex.subscribeAndRun(i,function(t){n.tabindex(t)})},i.prototype._attachKeyEvent=function(){var n=this;this._correctKeyPressed=!1;this.element.on("keydown",this._keyDownHandler=function(t){var i=function(){n.element.trigger("click",t)};return t.which===13&&i(),n._correctKeyPressed=!1,t.which===32&&(n._correctKeyPressed=!0),!1}).on("keyup",this._keyUpHandler=function(t){return n._correctKeyPressed&&t.which===32&&(n._correctKeyPressed=!1,n.element.trigger("click",t)),!1})},i.prototype._click=function(n){return this.options.disabled()?!1:(this.options.pressed(!this.options.pressed()),this.options.click&&this.options.click.call(this.element,n),this.options.submit&&this.element.submit(),!0)},i.prototype._getAlt=function(){var n,i,r,u;return(n=this.options.text(),typeof
n=="string")?n:n?(i=this._getObject(n),r=this.options.state(),u=t[r].toLowerCase(),i[u]||null):null},i.prototype._getObject=function(n){return this.options.toggle()&&n.normal&&n.pressed&&(n=this.options.pressed()?n.pressed:n.normal),n.enabled&&n.disabled&&(n=this.options.disabled()?n.disabled:n.enabled),n},i.prototype._getUri=function(){var n,i,r,u;return(n=this.options.uri(),typeof n=="string")?n:n?(i=this._getObject(n),r=this.options.state(),u=t[r].toLowerCase(),i[u]||null):null},i.prototype._mouseDown=function(){var n=this;this.element.addClass("azc-button-state-active");this.options.state(t.Active);this._removeMouseUpHandler();this._body&&this._body.length===1||(this._body=f("body"));this._body.on("mouseup",this._mouseUpHandler=function(){n.element.removeClass("azc-button-state-active");n.options.state(t.Initial);n.element.hasClass("azc-button-state-hover")?n._mouseEnter():n._mouseLeave();n._removeMouseUpHandler()})},i.prototype._mouseEnter=function(){this.element.addClass("azc-button-state-hover");
this.options.state()!==t.Active&&this.options.state(t.Hover)},i.prototype._mouseLeave=function(){this.element.removeClass("azc-button-state-hover");this.options.state()!==t.Active&&this.options.state(t.Initial)},i.prototype._removeMouseUpHandler=function(){this._mouseUpHandler&&(this._body.off("mouseup",this._mouseUpHandler),this._mouseUpHandler=null)},i}(i.Widget);n.Widget=o;ko.bindingHandlers.azcButton=i.Widget.getBindingHandler(o,{controlsDescendantBindings:!1})}(r||(r={})),r});define("MsPortalImpl.Controls/Fields/Base/LabelAndBalloonWidget",["require","exports","f","MsPortalImpl.Controls/Resources/MsPortalImplResources","Viva.Controls/Controls/Viva.DockedBalloon","Viva.Controls/Controls/Viva.Balloon","MsPortalImpl/Base/Base.KnockoutTemplateSanitizer"],function(n,t,i,r,u,f,e){"use strict";var o;return function(n){var o=i.Base.Utilities,f=i.ViewModels,k=f.FormValidationType,d=f.Forms.SubLabelPosition,ct=window,t=jQuery,g="azc-text-label",h="azc-text-sublabel",c="msportalfx-tooltip-overflow",
nt="azc-validation-messages",l="azc-text-sublabel-neighbor",a="fxc-left-label",v="fxc-right-sublabel",tt="azc-form-labelcontainer",it="azc-required-balloon",rt="azc-checkBoxField-inlineLabelContainer",y="fxs-hidden-important",ut="msportalfx-form-formelement",ft="azc-formElementContainer",et="azc-formElementSubLabelContainer",p="fxc-has-sublabel",s="<div/>",w="<label/>",b="azc-show-validation",ot="azc-validatableControl",st="azc-validatableControl-none",ht=function(){function n(n,t){this.lifetimeManager=n;this._options=t;this._initializeRequiredComputed();this.lifetimeManager.registerForDispose(this)}return n.prototype._initializeRequiredComputed=function(){var n=this,t=this._options.validations;t&&(this.required=ko.pureComputed(function(){return t().firstIndex(function(n){return!!n&&!!n.type&&n.type===k.Required})>=0&&n._options.label&&!!n._options.label()}))},n.prototype.appendWidgetToDom=function(n,i){var r=this._options,f,u;r.subLabel?(f=t(s).addClass(et).append(i),n.append(f)):n.append(
i);r.subLabel&&(ko.isObservable(r.subLabel)&&r.subLabel.subscribe(this.lifetimeManager,function(t){n.toggleClass(p,t.length>0)}),u=ko.unwrap(r.subLabel),u&&u.length>0&&n.addClass(p))},n.prototype.insertLabelBefore=function(n,t){var r,i;t===void 0&&(t={});r=this._options.subLabel&&!t.inlineLabel?n.parent():n;this.labelContainer=this._createLabelContainer(t.inlineLabel?rt:tt);i=this.labelContainer;i&&(t.inlineLabel?r.after(i):r.before(i),t.emptyLabel||this._appendLabelContent(i))},n.prototype._createLabelContainer=function(n){var r=null,i=this._options;return(i.label||i.infoBalloonContent||i.infoBalloonLinkContent)&&(r=t(s).addClass(n).addClass(g),ko.reactor(this.lifetimeManager,[i.label,i.infoBalloonContent,i.infoBalloonLinkContent,i.labelPosition],function(n,t,i,u){var e=(n||t||i)&&u!==f.Forms.LabelPosition.Hidden;r.toggleClass(y,!e);r.attr("aria-hidden",!e)})),r},n.prototype._appendLabelContent=function(n){var w=this._options,d=w.label,g=f.Forms.LabelPosition,c=this.lifetimeManager,b,
i,l,v,p,k,h;d&&(w.labelPosition.subscribeAndRun(c,function(t){n.parent().toggleClass(a,t===g.Left)}),this.required&&(b=t(s).addClass(it),i=null,this.required.subscribeAndRun(c,function(t){t&&!i&&(i=new u.ViewModel,i.type=3,i.content(r.requiredField),i.isTabbable(!1),c.registerForDispose(new u.Widget(b,i)),n.prepend(b));b.toggle(t)})),this.labelId="azc-form-guid-"+o.getUniqueId(),l=t("<label id='"+this.labelId+"'><\/label>"),d.subscribeAndRun(c,function(t){var i=e.sanitizeHTML("LabelAndBalloonWidget.label",t,!0).sanitizedMarkup;l.html(i);i&&(l.parent()[0]||n.append(l),ko.applyBindingsToDescendants(ko.contextFor(l[0]),l[0]))}));v=w.infoBalloonContent;p=w.infoBalloonLinkContent;(v||p)&&(this.labelId=this.labelId||"azc-form-guid-"+o.getUniqueId(),this.balloonId=this.labelId+"-balloon",k=t("<div id='"+this.balloonId+"'/>"),h=new u.ViewModel,h.type=0,h.position(1),h.isTabbable(!1),v&&(h.content=v),p&&(h.link=p),this._widget=new u.Widget(k,h),c.registerForDispose(this._widget),n.append(k),ko.
reactor(c,[v,p],function(n,t){k.toggleClass(y,!n&&!t)}))},n.prototype.insertSubLabelAfter=function(n){var i=this,r=this._options,u=this.lifetimeManager,f,o;r.subLabel&&(f=ko.utils.wrap(r.subLabel),this._subLabelElement=t(w).addClass(h).addClass(c),f.subscribeAndRun(u,function(t){i._subLabelElement.html(t?e.sanitizeHTML("LabelAndBalloon subLabel",t).sanitizedMarkup:"");i.labelContainer&&i.labelContainer.toggleClass(l,i._subLabelElement.html().length>0);i._updateWidth(n)}),n.after(this._subLabelElement),o=r.subLabelPosition(),r.subLabelPosition.subscribeAndRun(u,function(t){i._rightSublabel=t===d.Right;i._updateWidth(n)}))},n.prototype.insertValidationMessageBelowControlAfter=function(n,i,r){var o=this,s,f,h,u,a,v;i===void 0&&(i=!1);s=this._options;f=this.lifetimeManager;(i||s.showValidationMessagesBelowControl)&&(h=ko.computed(f,function(){return r().join("<br>")}),this._validationMessageElement=t(w).addClass(nt).addClass(c),u=this._validationMessageElement,h.subscribeAndRun(f,function(
n){u.html(n?e.sanitizeHTML("LabelAndBalloon validation messages",n).sanitizedMarkup:"");u.toggleClass(b,u.html().length>0);o.labelContainer&&o.labelContainer.toggleClass(l,u.html().length>0)}),a=!n.find("."+ot).hasClass(st),v=u.html().length>0,u.toggleClass(b,a&&v),n.after(u))},n.prototype.toggleBalloon=function(n){var t=this._widget.options.balloonVisible;o.isNullOrUndefined(n)&&(n=!t());t(n)},n.prototype._updateWidth=function(n){var t="style",i=n.parent(),r=i.findByClassName(ft),u=n.closest("."+ut),f;this._subLabelElement.html().length>0&&this._rightSublabel?(u.addClass(v),f=i.findByClassName(h).width()+1,r.attr(t,"width: calc(100% - "+f+"px)")):(r.attr(t,""),u.removeClass(v))},n.prototype.dispose=function(){var n=this.labelContainer,t=this._subLabelElement;n&&(n.parent().removeClass(a),n.remove());t&&t.remove()},n}();n.LabelAndBalloonWidgetHelper=ht}(o||(o={})),o});define("_generated/Less/Viva.Controls/Controls/Base/Viva.ValidationPlacements.css",["require","exports","module"],function(
n,t,i){"use strict";window.fx.injectCss(i,'.azc-editableCombo.azc-validatableControl-invalid{padding-right:14px}.azc-editableCombo.azc-validatableControl-invalid .azc-dockedballoon.azc-dockedballoon-validation{display:inline-block;width:14px;margin-right:-14px;padding-bottom:3px}.azc-editableCombo .azc-dockedballoon.azc-dockedballoon-validation{box-sizing:border-box;display:none;padding:0;margin:0;float:left;height:100%}.azc-editableCombo .azc-dockedballoon.azc-dockedballoon-validation .azc-dockedballoon-anchor{padding-top:1px}.azc-dropdown .azc-dockedballoon.azc-dockedballoon-validation{display:none}.azc-validation-messages{clear:both;display:none;color:#e81123;line-height:15px;margin-top:5px}.azc-validation-messages.azc-show-validation{display:block}.azc-editableControl.azc-optionPicker .azc-dockedballoon,.azc-editableControl.azc-validatableControl.azc-textBox .azc-dockedballoon.azc-dockedballoon-validation,.azc-editableControl.azc-validatableControl.azc-validationMessageBelowControl .azc-dockedballoon.azc-dockedballoon-validation.fxs-bg-error.fxc-base,.azc-editableControl.azc-validatableControl.azc-validationMessageBelowControl.azc-validatableControl-invalid .azc-dockedballoon.azc-dockedballoon-validation.fxs-bg-error.azc-control .azc-dockedballoon-anchor{display:none}.azc-editableControl.azc-validatableControl.azc-validationMessageBelowControl.azc-validatableControl-invalid.azc-optionPicker.azc-control{border:2px solid #e81123;width:calc(100% - 4px)}.azc-editableControl.azc-validatableControl.azc-multiLineTextBox.azc-validatableControl-valid-validated .azc-multiLineTextBox-wrapper textarea,.azc-editableControl.azc-validatableControl.azc-numericTextBox.azc-validatableControl-valid-validated .azc-numericTextBox-wrapper input,.azc-editableControl.azc-validatableControl.azc-password.azc-validatableControl-valid-validated .azc-password-wrapper input,.azc-editableControl.azc-validatableControl.azc-textBox.azc-validatableControl-valid-validated .azc-textBox-wrapper input{border-right-width:0}.azc-editableControl.azc-validatableControl.azc-validationMessageBelowControl.azc-validatableControl-invalid div.azc-textBox-wrapper input.fxs-br-error{border-width:2px 0 2px 2px;border-color:#e81123}.azc-editableControl.azc-validatableControl.azc-validationMessageBelowControl.azc-validatableControl-invalid .azc-dockedballoon.azc-dockedballoon-validation.fxs-bg-error.azc-control{border-width:2px 2px 2px 0;border-style:solid;border-color:#e81123;box-sizing:border-box;background-color:inherit}.azc-editableControl.azc-validatableControl.azc-textBox{box-sizing:border-box}.azc-editableControl.azc-validatableControl.azc-textBox .azc-dockedballoon.azc-dockedballoon-validation .azc-dockedballoon-anchor{padding-left:4px;padding-top:3px;line-height:inherit}.azc-editableControl.azc-validatableControl.azc-textBox.azc-validatableControl-invalid{box-sizing:border-box;padding-right:14px}.azc-editableControl.azc-validatableControl.azc-textBox.azc-validatableControl-invalid .azc-textBox-wrapper{display:inline-block;margin:0;padding:0;border-width:0;text-decoration:none;float:left}.azc-editableControl.azc-validatableControl.azc-textBox.azc-validatableControl-invalid .azc-textBox-wrapper input{border-width:1px;border-style:solid;outline:0}.azc-editableControl.azc-validatableControl.azc-textBox.azc-validatableControl-invalid .azc-dockedballoon.azc-dockedballoon-validation{display:inline-block;width:14px;margin-right:-14px}.azc-editableControl.azc-validatableControl.azc-textBox.azc-is-edited.azc-validatableControl-invalid{box-sizing:border-box;padding-right:14px}.azc-editableControl.azc-validatableControl.azc-textBox.azc-is-edited.azc-validatableControl-invalid .azc-textBox-wrapper{display:inline-block;margin:0;padding:0;border-width:0;text-decoration:none;float:left}.azc-editableControl.azc-validatableControl.azc-textBox.azc-is-edited.azc-validatableControl-invalid .azc-textBox-wrapper input{border-width:1px;border-style:solid;outline:0}.azc-editableControl.azc-validatableControl.azc-textBox.azc-is-edited.azc-validatableControl-invalid .azc-dockedballoon.azc-dockedballoon-validation{display:inline-block;width:14px;margin-right:-14px}.azc-editableControl.azc-validatableControl.azc-textBox.azc-validatableControl-pending{box-sizing:border-box;padding-right:14px}.azc-editableControl.azc-validatableControl.azc-textBox.azc-validatableControl-pending .azc-textBox-wrapper{display:inline-block;margin:0;padding:0;border-width:0;text-decoration:none;float:left}.azc-editableControl.azc-validatableControl.azc-textBox.azc-validatableControl-pending .azc-textBox-wrapper input{border-width:1px 0 1px 1px;border-style:solid;outline:0}.azc-editableControl.azc-validatableControl.azc-textBox.azc-validatableControl-pending .azc-dockedballoon.azc-dockedballoon-validation{display:inline-block;width:14px;margin-right:-14px;border-width:1px 1px 1px 0;border-style:solid;padding:0 2px 0 0;box-sizing:border-box;overflow:visible;position:relative;z-index:1}.azc-editableControl.azc-validatableControl.azc-textBox.azc-validatableControl-pending .azc-dockedballoon.azc-dockedballoon-validation div.azc-dockedballoon-anchor{cursor:default;padding:1px 1px 0 0;text-align:right}.azc-editableControl.azc-validatableControl.azc-textBox.azc-validatableControl-pending .azc-dockedballoon.azc-dockedballoon-validation .azc-dockedballoon-anchor:before{content:url(Content/static/azc-validatableControl-pending.gif);position:absolute;top:4px;right:3px}.azc-editableControl.azc-validatableControl.azc-textBox.azc-validatableControl-valid-validated{box-sizing:border-box;padding-right:14px}.azc-editableControl.azc-validatableControl.azc-textBox.azc-validatableControl-valid-validated .azc-textBox-wrapper{display:inline-block;margin:0;padding:0;border-width:0;text-decoration:none;float:left;border-right-color:transparent}.azc-editableControl.azc-validatableControl.azc-textBox.azc-validatableControl-valid-validated .azc-dockedballoon.azc-dockedballoon-validation{display:inline-block;width:14px;margin-right:-14px;border-width:1px 1px 1px 0;border-style:solid;padding:0 2px 0 0;box-sizing:border-box;overflow:visible;position:relative;z-index:1}.azc-editableControl.azc-validatableControl.azc-textBox.azc-validatableControl-valid-validated .azc-dockedballoon.azc-dockedballoon-validation div.azc-dockedballoon-anchor{cursor:default;padding:1px 1px 0 0;text-align:right}.azc-editableControl.azc-validatableControl.azc-textBox.azc-validatableControl-valid-validated .azc-dockedballoon.azc-dockedballoon-validation .azc-dockedballoon-anchor:before{display:none}.azc-editableControl.azc-validatableControl.azc-textBox.azc-validatableControl-valid-validated .azc-dockedballoon.azc-dockedballoon-validation .azc-dockedballoon-anchor svg{display:block;width:10px;height:10px;margin-top:5px}.azc-editableControl.azc-validatableControl.azc-multiLineTextBox .azc-dockedballoon.azc-dockedballoon-validation,.azc-editableControl.azc-validatableControl.azc-textBox.azc-control-disabled.azc-validatableControl-invalid .azc-dockedballoon.azc-dockedballoon-validation,.azc-editableControl.azc-validatableControl.azc-textBox.azc-control-disabled.azc-validatableControl-pending .azc-dockedballoon.azc-dockedballoon-validation,.azc-editableControl.azc-validatableControl.azc-textBox.azc-control-disabled.azc-validatableControl-valid-validated .azc-dockedballoon.azc-dockedballoon-validation{display:none}.azc-editableControl.azc-validatableControl.azc-textBox.azc-validatableControl-valid-validated.azc-has-focus .azc-dockedballoon.azc-dockedballoon-validation{border-width:1px 1px 1px 0;border-style:solid;outline:0}.azc-editableControl.azc-validatableControl.azc-textBox.azc-validatableControl-valid-validated.azc-has-focus input{border-width:1px 0 1px 1px;border-style:solid;outline:0}.azc-editableControl.azc-validatableControl.azc-textBox.azc-is-edited.azc-validatableControl-valid-validated .azc-dockedballoon.azc-dockedballoon-validation,.azc-editableControl.azc-validatableControl.azc-textBox.azc-is-edited.azc-validatableControl-valid-validated.azc-has-focus .azc-dockedballoon.azc-dockedballoon-validation{border-width:1px 1px 1px 0;border-style:solid;outline:0}.azc-editableControl.azc-validatableControl.azc-textBox.azc-control-disabled.azc-validatableControl-invalid .azc-dockedballoon.azc-dockedballoon-validation .azc-dockedballoon-anchor,.azc-editableControl.azc-validatableControl.azc-textBox.azc-control-disabled.azc-validatableControl-pending .azc-dockedballoon.azc-dockedballoon-validation .azc-dockedballoon-anchor,.azc-editableControl.azc-validatableControl.azc-textBox.azc-control-disabled.azc-validatableControl-valid-validated .azc-dockedballoon.azc-dockedballoon-validation .azc-dockedballoon-anchor{padding-left:4px;padding-top:3px;line-height:inherit}.azc-editableControl.azc-validatableControl.azc-multiLineTextBox .azc-multiLineTextBox-wrapper{width:100%;line-height:0}.azc-editableControl.azc-validatableControl.azc-multiLineTextBox .azc-multiLineTextBox-wrapper textarea{height:100%;font-family:az_ea_font,wf_segoe-ui_normal,"Segoe UI","Segoe WP",Tahoma,Arial,sans-serif;box-sizing:border-box;width:100%;padding:2px 8px 4px;outline:0;font-size:12px;border-width:1px;border-style:solid}.azc-editableControl.azc-validatableControl.azc-multiLineTextBox .azc-multiLineTextBox-wrapper textarea::-webkit-input-placeholder{font-style:italic}.azc-editableControl.azc-validatableControl.azc-multiLineTextBox .azc-multiLineTextBox-wrapper textarea:-ms-input-placeholder{font-style:italic}.azc-editableControl.azc-validatableControl.azc-multiLineTextBox .azc-multiLineTextBox-wrapper textarea::-moz-placeholder{font-style:italic}.azc-editableControl.azc-validatableControl.azc-multiLineTextBox.azc-is-edited .azc-multiLineTextBox-wrapper textarea{border-width:1px;border-style:solid;outline:0}.azc-editableControl.azc-validatableControl.azc-multiLineTextBox .azc-dockedballoon.azc-dockedballoon-validation .azc-dockedballoon-anchor{padding-left:4px;padding-top:3px;line-height:inherit}.azc-editableControl.azc-validatableControl.azc-multiLineTextBox.azc-validatableControl-invalid{box-sizing:border-box;padding-right:14px}.azc-editableControl.azc-validatableControl.azc-multiLineTextBox.azc-validatableControl-invalid .azc-multiLineTextBox-wrapper{display:inline-block;margin:0;padding:0;border-width:0;text-decoration:none;float:left}.azc-editableControl.azc-validatableControl.azc-multiLineTextBox.azc-validatableControl-invalid .azc-multiLineTextBox-wrapper textarea{border-width:1px;border-style:solid;outline:0}.azc-editableControl.azc-validatableControl.azc-multiLineTextBox.azc-validatableControl-invalid .azc-dockedballoon.azc-dockedballoon-validation{display:inline-block;width:14px;margin-right:-14px}.azc-editableControl.azc-validatableControl.azc-multiLineTextBox.azc-validatableControl-invalid.azc-validatableControl-pending{padding-right:14px}.azc-editableControl.azc-validatableControl.azc-multiLineTextBox.azc-validatableControl-invalid.azc-validatableControl-pending .azc-multiLineTextBox-wrapper{display:inline-block;margin:0;padding:0;border-width:0;text-decoration:none;float:left}.azc-editableControl.azc-validatableControl.azc-multiLineTextBox.azc-validatableControl-invalid.azc-validatableControl-pending .azc-multiLineTextBox-wrapper textarea{border-width:1px 0 1px 1px;border-style:solid;outline:0}.azc-editableControl.azc-validatableControl.azc-multiLineTextBox.azc-validatableControl-invalid.azc-validatableControl-pending .azc-dockedballoon.azc-dockedballoon-validation{display:inline-block;width:14px;margin-right:-14px;border-width:1px 1px 1px 0;border-style:solid;padding:0 2px 0 0;box-sizing:border-box;overflow:visible;position:relative;z-index:1}.azc-editableControl.azc-validatableControl.azc-multiLineTextBox.azc-validatableControl-invalid.azc-validatableControl-pending .azc-dockedballoon.azc-dockedballoon-validation div.azc-dockedballoon-anchor{cursor:default;padding:1px 1px 0 0;text-align:right}.azc-editableControl.azc-validatableControl.azc-multiLineTextBox.azc-validatableControl-invalid.azc-validatableControl-pending .azc-dockedballoon.azc-dockedballoon-validation .azc-dockedballoon-anchor:before{content:url(Content/static/azc-validatableControl-pending.gif);position:absolute;top:4px;right:3px}.azc-editableControl.azc-validatableControl.azc-multiLineTextBox.azc-is-edited.azc-validatableControl-invalid{box-sizing:border-box;padding-right:14px}.azc-editableControl.azc-validatableControl.azc-multiLineTextBox.azc-is-edited.azc-validatableControl-invalid .azc-multiLineTextBox-wrapper{display:inline-block;margin:0;padding:0;border-width:0;text-decoration:none;float:left}.azc-editableControl.azc-validatableControl.azc-multiLineTextBox.azc-is-edited.azc-validatableControl-invalid .azc-multiLineTextBox-wrapper textarea{border-width:1px;border-style:solid;outline:0}.azc-editableControl.azc-validatableControl.azc-multiLineTextBox.azc-is-edited.azc-validatableControl-invalid .azc-dockedballoon.azc-dockedballoon-validation{display:inline-block;width:14px;margin-right:-14px}.azc-editableControl.azc-validatableControl.azc-multiLineTextBox.azc-is-edited.azc-validatableControl-invalid.azc-validatableControl-pending{padding-right:14px}.azc-editableControl.azc-validatableControl.azc-multiLineTextBox.azc-is-edited.azc-validatableControl-invalid.azc-validatableControl-pending .azc-multiLineTextBox-wrapper{display:inline-block;margin:0;padding:0;border-width:0;text-decoration:none;float:left}.azc-editableControl.azc-validatableControl.azc-multiLineTextBox.azc-is-edited.azc-validatableControl-invalid.azc-validatableControl-pending .azc-multiLineTextBox-wrapper textarea{border-width:1px 0 1px 1px;border-style:solid;outline:0}.azc-editableControl.azc-validatableControl.azc-multiLineTextBox.azc-is-edited.azc-validatableControl-invalid.azc-validatableControl-pending .azc-dockedballoon.azc-dockedballoon-validation{display:inline-block;width:14px;margin-right:-14px;border-width:1px 1px 1px 0;border-style:solid;padding:0 2px 0 0;box-sizing:border-box;overflow:visible;position:relative;z-index:1}.azc-editableControl.azc-validatableControl.azc-multiLineTextBox.azc-is-edited.azc-validatableControl-invalid.azc-validatableControl-pending .azc-dockedballoon.azc-dockedballoon-validation div.azc-dockedballoon-anchor{cursor:default;padding:1px 1px 0 0;text-align:right}.azc-editableControl.azc-validatableControl.azc-multiLineTextBox.azc-is-edited.azc-validatableControl-invalid.azc-validatableControl-pending .azc-dockedballoon.azc-dockedballoon-validation .azc-dockedballoon-anchor:before{content:url(Content/static/azc-validatableControl-pending.gif);position:absolute;top:4px;right:3px}.azc-editableControl.azc-validatableControl.azc-multiLineTextBox.azc-validatableControl-pending{padding-right:14px}.azc-editableControl.azc-validatableControl.azc-multiLineTextBox.azc-validatableControl-pending .azc-multiLineTextBox-wrapper{display:inline-block;margin:0;padding:0;border-width:0;text-decoration:none;float:left}.azc-editableControl.azc-validatableControl.azc-multiLineTextBox.azc-validatableControl-pending .azc-multiLineTextBox-wrapper textarea{border-width:1px 0 1px 1px;border-style:solid;outline:0}.azc-editableControl.azc-validatableControl.azc-multiLineTextBox.azc-validatableControl-pending .azc-dockedballoon.azc-dockedballoon-validation{display:inline-block;width:14px;margin-right:-14px;border-width:1px 1px 1px 0;border-style:solid;padding:0 2px 0 0;box-sizing:border-box;overflow:visible;position:relative;z-index:1}.azc-editableControl.azc-validatableControl.azc-multiLineTextBox.azc-validatableControl-pending .azc-dockedballoon.azc-dockedballoon-validation div.azc-dockedballoon-anchor{cursor:default;padding:1px 1px 0 0;text-align:right}.azc-editableControl.azc-validatableControl.azc-multiLineTextBox.azc-validatableControl-pending .azc-dockedballoon.azc-dockedballoon-validation .azc-dockedballoon-anchor:before{content:url(Content/static/azc-validatableControl-pending.gif);position:absolute;top:4px;right:3px}.azc-editableControl.azc-validatableControl.azc-multiLineTextBox.azc-validatableControl-valid-validated{box-sizing:border-box;padding-right:14px}.azc-editableControl.azc-validatableControl.azc-multiLineTextBox.azc-validatableControl-valid-validated .azc-multiLineTextBox-wrapper{display:inline-block;margin:0;padding:0;border-width:0;text-decoration:none;float:left;border-right-color:transparent}.azc-editableControl.azc-validatableControl.azc-multiLineTextBox.azc-validatableControl-valid-validated .azc-dockedballoon.azc-dockedballoon-validation{display:inline-block;width:14px;margin-right:-14px;border-width:1px 1px 1px 0;border-style:solid;padding:0 2px 0 0;box-sizing:border-box;overflow:visible;position:relative;z-index:1}.azc-editableControl.azc-validatableControl.azc-multiLineTextBox.azc-validatableControl-valid-validated .azc-dockedballoon.azc-dockedballoon-validation div.azc-dockedballoon-anchor{cursor:default;padding:1px 1px 0 0;text-align:right}.azc-editableControl.azc-validatableControl.azc-multiLineTextBox.azc-validatableControl-valid-validated .azc-dockedballoon.azc-dockedballoon-validation .azc-dockedballoon-anchor:before{display:none}.azc-editableControl.azc-validatableControl.azc-multiLineTextBox.azc-validatableControl-valid-validated .azc-dockedballoon.azc-dockedballoon-validation .azc-dockedballoon-anchor svg{display:block;width:10px;height:10px;margin-top:5px}.azc-editableControl.azc-validatableControl.azc-multiLineTextBox.azc-multiLineTextBox-disabled.azc-validatableControl-invalid .azc-dockedballoon.azc-dockedballoon-validation,.azc-editableControl.azc-validatableControl.azc-multiLineTextBox.azc-multiLineTextBox-disabled.azc-validatableControl-pending .azc-dockedballoon.azc-dockedballoon-validation,.azc-editableControl.azc-validatableControl.azc-multiLineTextBox.azc-multiLineTextBox-disabled.azc-validatableControl-valid-validated .azc-dockedballoon.azc-dockedballoon-validation,.azc-editableControl.azc-validatableControl.azc-password .azc-dockedballoon.azc-dockedballoon-validation{display:none}.azc-editableControl.azc-validatableControl.azc-multiLineTextBox.azc-is-edited.azc-validatableControl-valid-validated .azc-dockedballoon.azc-dockedballoon-validation,.azc-editableControl.azc-validatableControl.azc-multiLineTextBox.azc-validatableControl-valid-validated.azc-has-focus .azc-dockedballoon.azc-dockedballoon-validation{border-width:1px 1px 1px 0;border-style:solid;outline:0}.azc-editableControl.azc-validatableControl.azc-multiLineTextBox.azc-multiLineTextBox-disabled .azc-multiLineTextBox-wrapper{width:100%}.azc-editableControl.azc-validatableControl.azc-multiLineTextBox.azc-multiLineTextBox-disabled .azc-multiLineTextBox-wrapper textarea{height:100%;font-family:az_ea_font,wf_segoe-ui_normal,"Segoe UI","Segoe WP",Tahoma,Arial,sans-serif;box-sizing:border-box;width:100%;padding:2px 8px 4px;outline:0;font-size:12px;border-width:1px;border-style:solid}.azc-editableControl.azc-validatableControl.azc-multiLineTextBox.azc-multiLineTextBox-disabled .azc-multiLineTextBox-wrapper textarea::-webkit-input-placeholder{font-style:italic}.azc-editableControl.azc-validatableControl.azc-multiLineTextBox.azc-multiLineTextBox-disabled .azc-multiLineTextBox-wrapper textarea:-ms-input-placeholder{font-style:italic}.azc-editableControl.azc-validatableControl.azc-multiLineTextBox.azc-multiLineTextBox-disabled .azc-multiLineTextBox-wrapper textarea::-moz-placeholder{font-style:italic}.azc-editableControl.azc-validatableControl.azc-multiLineTextBox.azc-multiLineTextBox-disabled.azc-validatableControl-invalid,.azc-editableControl.azc-validatableControl.azc-multiLineTextBox.azc-multiLineTextBox-disabled.azc-validatableControl-pending,.azc-editableControl.azc-validatableControl.azc-multiLineTextBox.azc-multiLineTextBox-disabled.azc-validatableControl-valid-validated{padding-right:0}.azc-editableControl.azc-validatableControl.azc-multiLineTextBox.azc-multiLineTextBox-disabled.azc-validatableControl-invalid .azc-multiLineTextBox-wrapper,.azc-editableControl.azc-validatableControl.azc-multiLineTextBox.azc-multiLineTextBox-disabled.azc-validatableControl-pending .azc-multiLineTextBox-wrapper,.azc-editableControl.azc-validatableControl.azc-multiLineTextBox.azc-multiLineTextBox-disabled.azc-validatableControl-valid-validated .azc-multiLineTextBox-wrapper{width:100%}.azc-editableControl.azc-validatableControl.azc-multiLineTextBox.azc-multiLineTextBox-disabled.azc-validatableControl-invalid .azc-multiLineTextBox-wrapper textarea,.azc-editableControl.azc-validatableControl.azc-multiLineTextBox.azc-multiLineTextBox-disabled.azc-validatableControl-pending .azc-multiLineTextBox-wrapper textarea,.azc-editableControl.azc-validatableControl.azc-multiLineTextBox.azc-multiLineTextBox-disabled.azc-validatableControl-valid-validated .azc-multiLineTextBox-wrapper textarea{height:100%;font-family:az_ea_font,wf_segoe-ui_normal,"Segoe UI","Segoe WP",Tahoma,Arial,sans-serif;box-sizing:border-box;width:100%;padding:2px 8px 4px;outline:0;font-size:12px;border-width:1px;border-style:solid}.azc-editableControl.azc-validatableControl.azc-multiLineTextBox.azc-multiLineTextBox-disabled.azc-validatableControl-invalid .azc-dockedballoon.azc-dockedballoon-validation .azc-dockedballoon-anchor,.azc-editableControl.azc-validatableControl.azc-multiLineTextBox.azc-multiLineTextBox-disabled.azc-validatableControl-pending .azc-dockedballoon.azc-dockedballoon-validation .azc-dockedballoon-anchor,.azc-editableControl.azc-validatableControl.azc-multiLineTextBox.azc-multiLineTextBox-disabled.azc-validatableControl-valid-validated .azc-dockedballoon.azc-dockedballoon-validation .azc-dockedballoon-anchor,.azc-editableControl.azc-validatableControl.azc-password .azc-dockedballoon.azc-dockedballoon-validation .azc-dockedballoon-anchor{padding-left:4px;padding-top:3px;line-height:inherit}.azc-editableControl.azc-validatableControl.azc-multiLineTextBox.azc-multiLineTextBox-disabled.azc-validatableControl-invalid .azc-multiLineTextBox-wrapper textarea::-webkit-input-placeholder,.azc-editableControl.azc-validatableControl.azc-multiLineTextBox.azc-multiLineTextBox-disabled.azc-validatableControl-pending .azc-multiLineTextBox-wrapper textarea::-webkit-input-placeholder,.azc-editableControl.azc-validatableControl.azc-multiLineTextBox.azc-multiLineTextBox-disabled.azc-validatableControl-valid-validated .azc-multiLineTextBox-wrapper textarea::-webkit-input-placeholder{font-style:italic}.azc-editableControl.azc-validatableControl.azc-multiLineTextBox.azc-multiLineTextBox-disabled.azc-validatableControl-invalid .azc-multiLineTextBox-wrapper textarea:-ms-input-placeholder,.azc-editableControl.azc-validatableControl.azc-multiLineTextBox.azc-multiLineTextBox-disabled.azc-validatableControl-pending .azc-multiLineTextBox-wrapper textarea:-ms-input-placeholder,.azc-editableControl.azc-validatableControl.azc-multiLineTextBox.azc-multiLineTextBox-disabled.azc-validatableControl-valid-validated .azc-multiLineTextBox-wrapper textarea:-ms-input-placeholder{font-style:italic}.azc-editableControl.azc-validatableControl.azc-multiLineTextBox.azc-multiLineTextBox-disabled.azc-validatableControl-invalid .azc-multiLineTextBox-wrapper textarea::-moz-placeholder,.azc-editableControl.azc-validatableControl.azc-multiLineTextBox.azc-multiLineTextBox-disabled.azc-validatableControl-pending .azc-multiLineTextBox-wrapper textarea::-moz-placeholder,.azc-editableControl.azc-validatableControl.azc-multiLineTextBox.azc-multiLineTextBox-disabled.azc-validatableControl-valid-validated .azc-multiLineTextBox-wrapper textarea::-moz-placeholder{font-style:italic}.azc-editableControl.azc-validatableControl.azc-multiLineTextBox.azc-has-focus textarea{border-width:1px;border-style:solid;outline:0}.azc-editableControl.azc-validatableControl.azc-password.azc-validatableControl-invalid{box-sizing:border-box;padding-right:14px}.azc-editableControl.azc-validatableControl.azc-password.azc-validatableControl-invalid .azc-password-wrapper{display:inline-block;margin:0;padding:0;border-width:0;text-decoration:none;float:left}.azc-editableControl.azc-validatableControl.azc-password.azc-validatableControl-invalid .azc-password-wrapper input{border-width:1px;border-style:solid;outline:0}.azc-editableControl.azc-validatableControl.azc-password.azc-validatableControl-invalid .azc-dockedballoon.azc-dockedballoon-validation{display:inline-block;width:14px;margin-right:-14px}.azc-editableControl.azc-validatableControl.azc-password.azc-validatableControl-invalid.azc-validatableControl-pending{padding-right:14px}.azc-editableControl.azc-validatableControl.azc-password.azc-validatableControl-invalid.azc-validatableControl-pending .azc-password-wrapper{display:inline-block;margin:0;padding:0;border-width:0;text-decoration:none;float:left}.azc-editableControl.azc-validatableControl.azc-password.azc-validatableControl-invalid.azc-validatableControl-pending .azc-password-wrapper input{border-width:1px 0 1px 1px;border-style:solid;outline:0}.azc-editableControl.azc-validatableControl.azc-password.azc-validatableControl-invalid.azc-validatableControl-pending .azc-dockedballoon.azc-dockedballoon-validation{display:inline-block;width:14px;margin-right:-14px;border-width:1px 1px 1px 0;border-style:solid;padding:0 2px 0 0;box-sizing:border-box;overflow:visible;position:relative;z-index:1}.azc-editableControl.azc-validatableControl.azc-password.azc-validatableControl-invalid.azc-validatableControl-pending .azc-dockedballoon.azc-dockedballoon-validation div.azc-dockedballoon-anchor{cursor:default;padding:1px 1px 0 0;text-align:right}.azc-editableControl.azc-validatableControl.azc-password.azc-validatableControl-invalid.azc-validatableControl-pending .azc-dockedballoon.azc-dockedballoon-validation .azc-dockedballoon-anchor:before{content:url(Content/static/azc-validatableControl-pending.gif);position:absolute;top:4px;right:3px}.azc-editableControl.azc-validatableControl.azc-password.azc-is-edited.azc-validatableControl-invalid{box-sizing:border-box;padding-right:14px}.azc-editableControl.azc-validatableControl.azc-password.azc-is-edited.azc-validatableControl-invalid .azc-password-wrapper{display:inline-block;margin:0;padding:0;border-width:0;text-decoration:none;float:left}.azc-editableControl.azc-validatableControl.azc-password.azc-is-edited.azc-validatableControl-invalid .azc-password-wrapper input{border-width:1px;border-style:solid;outline:0}.azc-editableControl.azc-validatableControl.azc-password.azc-is-edited.azc-validatableControl-invalid .azc-dockedballoon.azc-dockedballoon-validation{display:inline-block;width:14px;margin-right:-14px}.azc-editableControl.azc-validatableControl.azc-password.azc-is-edited.azc-validatableControl-invalid.azc-validatableControl-pending{padding-right:14px}.azc-editableControl.azc-validatableControl.azc-password.azc-is-edited.azc-validatableControl-invalid.azc-validatableControl-pending .azc-password-wrapper{display:inline-block;margin:0;padding:0;border-width:0;text-decoration:none;float:left}.azc-editableControl.azc-validatableControl.azc-password.azc-is-edited.azc-validatableControl-invalid.azc-validatableControl-pending .azc-password-wrapper input{border-width:1px 0 1px 1px;border-style:solid;outline:0}.azc-editableControl.azc-validatableControl.azc-password.azc-is-edited.azc-validatableControl-invalid.azc-validatableControl-pending .azc-dockedballoon.azc-dockedballoon-validation{display:inline-block;width:14px;margin-right:-14px;border-width:1px 1px 1px 0;border-style:solid;padding:0 2px 0 0;box-sizing:border-box;overflow:visible;position:relative;z-index:1}.azc-editableControl.azc-validatableControl.azc-password.azc-is-edited.azc-validatableControl-invalid.azc-validatableControl-pending .azc-dockedballoon.azc-dockedballoon-validation div.azc-dockedballoon-anchor{cursor:default;padding:1px 1px 0 0;text-align:right}.azc-editableControl.azc-validatableControl.azc-password.azc-is-edited.azc-validatableControl-invalid.azc-validatableControl-pending .azc-dockedballoon.azc-dockedballoon-validation .azc-dockedballoon-anchor:before{content:url(Content/static/azc-validatableControl-pending.gif);position:absolute;top:4px;right:3px}.azc-editableControl.azc-validatableControl.azc-password.azc-validatableControl-pending{box-sizing:border-box;padding-right:14px}.azc-editableControl.azc-validatableControl.azc-password.azc-validatableControl-pending .azc-password-wrapper{display:inline-block;margin:0;padding:0;border-width:0;text-decoration:none;float:left}.azc-editableControl.azc-validatableControl.azc-password.azc-validatableControl-pending .azc-password-wrapper input{border-width:1px 0 1px 1px;border-style:solid;outline:0}.azc-editableControl.azc-validatableControl.azc-password.azc-validatableControl-pending .azc-dockedballoon.azc-dockedballoon-validation{display:inline-block;width:14px;margin-right:-14px;border-width:1px 1px 1px 0;border-style:solid;padding:0 2px 0 0;box-sizing:border-box;overflow:visible;position:relative;z-index:1}.azc-editableControl.azc-validatableControl.azc-password.azc-validatableControl-pending .azc-dockedballoon.azc-dockedballoon-validation div.azc-dockedballoon-anchor{cursor:default;padding:1px 1px 0 0;text-align:right}.azc-editableControl.azc-validatableControl.azc-password.azc-validatableControl-pending .azc-dockedballoon.azc-dockedballoon-validation .azc-dockedballoon-anchor:before{content:url(Content/static/azc-validatableControl-pending.gif);position:absolute;top:4px;right:3px}.azc-editableControl.azc-validatableControl.azc-password.azc-validatableControl-valid-validated{box-sizing:border-box;padding-right:14px}.azc-editableControl.azc-validatableControl.azc-password.azc-validatableControl-valid-validated .azc-password-wrapper{display:inline-block;margin:0;padding:0;border-width:0;text-decoration:none;float:left;border-right-color:transparent}.azc-editableControl.azc-validatableControl.azc-password.azc-validatableControl-valid-validated .azc-dockedballoon.azc-dockedballoon-validation{display:inline-block;width:14px;margin-right:-14px;border-width:1px 1px 1px 0;border-style:solid;padding:0 2px 0 0;box-sizing:border-box;overflow:visible;position:relative;z-index:1}.azc-editableControl.azc-validatableControl.azc-password.azc-validatableControl-valid-validated .azc-dockedballoon.azc-dockedballoon-validation div.azc-dockedballoon-anchor{cursor:default;padding:1px 1px 0 0;text-align:right}.azc-editableControl.azc-validatableControl.azc-password.azc-validatableControl-valid-validated .azc-dockedballoon.azc-dockedballoon-validation .azc-dockedballoon-anchor:before{display:none}.azc-editableControl.azc-validatableControl.azc-password.azc-validatableControl-valid-validated .azc-dockedballoon.azc-dockedballoon-validation .azc-dockedballoon-anchor svg{display:block;width:10px;height:10px;margin-top:5px}.azc-editableControl.azc-validatableControl.azc-numericTextBox .azc-dockedballoon.azc-dockedballoon-validation,.azc-editableControl.azc-validatableControl.azc-password.azc-control-disabled .azc-dockedballoon.azc-dockedballoon-validation{display:none}.azc-editableControl.azc-validatableControl.azc-password.azc-validatableControl-valid-validated.azc-has-focus .azc-dockedballoon.azc-dockedballoon-validation{border-width:1px 1px 1px 0;border-style:solid;outline:0}.azc-editableControl.azc-validatableControl.azc-password.azc-validatableControl-valid-validated.azc-has-focus input{border-width:1px 0 1px 1px;border-style:solid;outline:0}.azc-editableControl.azc-validatableControl.azc-password.azc-is-edited.azc-validatableControl-valid-validated.azc-has-focus .azc-dockedballoon.azc-dockedballoon-validation{border-width:1px 1px 1px 0;border-style:solid;outline:0}.azc-editableControl.azc-validatableControl.azc-password.azc-is-edited.azc-validatableControl-valid-validated.azc-has-focus input{border-width:1px 0 1px 1px;border-style:solid;outline:0}.azc-editableControl.azc-validatableControl.azc-password.azc-is-edited.azc-validatableControl-valid-validated .azc-dockedballoon.azc-dockedballoon-validation{border-width:1px 1px 1px 0;border-style:solid;outline:0}.azc-editableControl.azc-validatableControl.azc-password.azc-control-disabled.azc-validatableControl-invalid,.azc-editableControl.azc-validatableControl.azc-password.azc-control-disabled.azc-validatableControl-pending,.azc-editableControl.azc-validatableControl.azc-password.azc-control-disabled.azc-validatableControl-valid-validated{padding-right:0}.azc-editableControl.azc-validatableControl.azc-password.azc-control-disabled.azc-validatableControl-invalid .azc-password-wrapper,.azc-editableControl.azc-validatableControl.azc-password.azc-control-disabled.azc-validatableControl-pending .azc-password-wrapper,.azc-editableControl.azc-validatableControl.azc-password.azc-control-disabled.azc-validatableControl-valid-validated .azc-password-wrapper{width:100%}.azc-editableControl.azc-validatableControl.azc-password.azc-control-disabled.azc-validatableControl-invalid .azc-password-wrapper input,.azc-editableControl.azc-validatableControl.azc-password.azc-control-disabled.azc-validatableControl-pending .azc-password-wrapper input,.azc-editableControl.azc-validatableControl.azc-password.azc-control-disabled.azc-validatableControl-valid-validated .azc-password-wrapper input{height:23px;font-family:az_ea_font,wf_segoe-ui_normal,"Segoe UI","Segoe WP",Tahoma,Arial,sans-serif;box-sizing:border-box;width:100%;padding:2px 8px 4px;outline:0;font-size:12px;border-width:1px;border-style:solid}.azc-editableControl.azc-validatableControl.azc-numericTextBox .azc-dockedballoon.azc-dockedballoon-validation .azc-dockedballoon-anchor,.azc-editableControl.azc-validatableControl.azc-password.azc-control-disabled .azc-dockedballoon.azc-dockedballoon-validation .azc-dockedballoon-anchor{padding-left:4px;padding-top:3px;line-height:inherit}.azc-editableControl.azc-validatableControl.azc-password.azc-control-disabled.azc-validatableControl-invalid .azc-password-wrapper input::-webkit-input-placeholder,.azc-editableControl.azc-validatableControl.azc-password.azc-control-disabled.azc-validatableControl-pending .azc-password-wrapper input::-webkit-input-placeholder,.azc-editableControl.azc-validatableControl.azc-password.azc-control-disabled.azc-validatableControl-valid-validated .azc-password-wrapper input::-webkit-input-placeholder{font-style:italic}.azc-editableControl.azc-validatableControl.azc-password.azc-control-disabled.azc-validatableControl-invalid .azc-password-wrapper input:-ms-input-placeholder,.azc-editableControl.azc-validatableControl.azc-password.azc-control-disabled.azc-validatableControl-pending .azc-password-wrapper input:-ms-input-placeholder,.azc-editableControl.azc-validatableControl.azc-password.azc-control-disabled.azc-validatableControl-valid-validated .azc-password-wrapper input:-ms-input-placeholder{font-style:italic}.azc-editableControl.azc-validatableControl.azc-password.azc-control-disabled.azc-validatableControl-invalid .azc-password-wrapper input::-moz-placeholder,.azc-editableControl.azc-validatableControl.azc-password.azc-control-disabled.azc-validatableControl-pending .azc-password-wrapper input::-moz-placeholder,.azc-editableControl.azc-validatableControl.azc-password.azc-control-disabled.azc-validatableControl-valid-validated .azc-password-wrapper input::-moz-placeholder{font-style:italic}.azc-editableControl.azc-validatableControl.azc-numericTextBox.azc-validatableControl-invalid{box-sizing:border-box;padding-right:14px}.azc-editableControl.azc-validatableControl.azc-numericTextBox.azc-validatableControl-invalid .azc-numericTextBox-wrapper{display:inline-block;margin:0;padding:0;border-width:0;text-decoration:none;float:left}.azc-editableControl.azc-validatableControl.azc-numericTextBox.azc-validatableControl-invalid .azc-numericTextBox-wrapper input{border-width:1px;border-style:solid;outline:0}.azc-editableControl.azc-validatableControl.azc-numericTextBox.azc-validatableControl-invalid .azc-dockedballoon.azc-dockedballoon-validation{display:inline-block;width:14px;margin-right:-14px}.azc-editableControl.azc-validatableControl.azc-numericTextBox.azc-validatableControl-invalid.azc-validatableControl-pending{padding-right:14px}.azc-editableControl.azc-validatableControl.azc-numericTextBox.azc-validatableControl-invalid.azc-validatableControl-pending .azc-numericTextBox-wrapper{display:inline-block;margin:0;padding:0;border-width:0;text-decoration:none;float:left}.azc-editableControl.azc-validatableControl.azc-numericTextBox.azc-validatableControl-invalid.azc-validatableControl-pending .azc-numericTextBox-wrapper input{border-width:1px 0 1px 1px;border-style:solid;outline:0}.azc-editableControl.azc-validatableControl.azc-numericTextBox.azc-validatableControl-invalid.azc-validatableControl-pending .azc-dockedballoon.azc-dockedballoon-validation{display:inline-block;width:14px;margin-right:-14px;border-width:1px 1px 1px 0;border-style:solid;padding:0 2px 0 0;box-sizing:border-box;overflow:visible;position:relative;z-index:1}.azc-editableControl.azc-validatableControl.azc-numericTextBox.azc-validatableControl-invalid.azc-validatableControl-pending .azc-dockedballoon.azc-dockedballoon-validation div.azc-dockedballoon-anchor{cursor:default;padding:1px 1px 0 0;text-align:right}.azc-editableControl.azc-validatableControl.azc-numericTextBox.azc-validatableControl-invalid.azc-validatableControl-pending .azc-dockedballoon.azc-dockedballoon-validation .azc-dockedballoon-anchor:before{content:url(Content/static/azc-validatableControl-pending.gif);position:absolute;top:4px;right:3px}.azc-editableControl.azc-validatableControl.azc-numericTextBox.azc-is-edited.azc-validatableControl-invalid{box-sizing:border-box;padding-right:14px}.azc-editableControl.azc-validatableControl.azc-numericTextBox.azc-is-edited.azc-validatableControl-invalid .azc-numericTextBox-wrapper{display:inline-block;margin:0;padding:0;border-width:0;text-decoration:none;float:left}.azc-editableControl.azc-validatableControl.azc-numericTextBox.azc-is-edited.azc-validatableControl-invalid .azc-numericTextBox-wrapper input{border-width:1px;border-style:solid;outline:0}.azc-editableControl.azc-validatableControl.azc-numericTextBox.azc-is-edited.azc-validatableControl-invalid .azc-dockedballoon.azc-dockedballoon-validation{display:inline-block;width:14px;margin-right:-14px}.azc-editableControl.azc-validatableControl.azc-numericTextBox.azc-is-edited.azc-validatableControl-invalid.azc-validatableControl-pending{padding-right:14px}.azc-editableControl.azc-validatableControl.azc-numericTextBox.azc-is-edited.azc-validatableControl-invalid.azc-validatableControl-pending .azc-numericTextBox-wrapper{display:inline-block;margin:0;padding:0;border-width:0;text-decoration:none;float:left}.azc-editableControl.azc-validatableControl.azc-numericTextBox.azc-is-edited.azc-validatableControl-invalid.azc-validatableControl-pending .azc-numericTextBox-wrapper input{border-width:1px 0 1px 1px;border-style:solid;outline:0}.azc-editableControl.azc-validatableControl.azc-numericTextBox.azc-is-edited.azc-validatableControl-invalid.azc-validatableControl-pending .azc-dockedballoon.azc-dockedballoon-validation{display:inline-block;width:14px;margin-right:-14px;border-width:1px 1px 1px 0;border-style:solid;padding:0 2px 0 0;box-sizing:border-box;overflow:visible;position:relative;z-index:1}.azc-editableControl.azc-validatableControl.azc-numericTextBox.azc-is-edited.azc-validatableControl-invalid.azc-validatableControl-pending .azc-dockedballoon.azc-dockedballoon-validation div.azc-dockedballoon-anchor{cursor:default;padding:1px 1px 0 0;text-align:right}.azc-editableControl.azc-validatableControl.azc-numericTextBox.azc-is-edited.azc-validatableControl-invalid.azc-validatableControl-pending .azc-dockedballoon.azc-dockedballoon-validation .azc-dockedballoon-anchor:before{content:url(Content/static/azc-validatableControl-pending.gif);position:absolute;top:4px;right:3px}.azc-editableControl.azc-validatableControl.azc-numericTextBox.azc-validatableControl-pending{padding-right:14px}.azc-editableControl.azc-validatableControl.azc-numericTextBox.azc-validatableControl-pending .azc-numericTextBox-wrapper{display:inline-block;margin:0;padding:0;border-width:0;text-decoration:none;float:left}.azc-editableControl.azc-validatableControl.azc-numericTextBox.azc-validatableControl-pending .azc-numericTextBox-wrapper input{border-width:1px 0 1px 1px;border-style:solid;outline:0}.azc-editableControl.azc-validatableControl.azc-numericTextBox.azc-validatableControl-pending .azc-dockedballoon.azc-dockedballoon-validation{display:inline-block;width:14px;margin-right:-14px;border-width:1px 1px 1px 0;border-style:solid;padding:0 2px 0 0;box-sizing:border-box;overflow:visible;position:relative;z-index:1}.azc-editableControl.azc-validatableControl.azc-numericTextBox.azc-validatableControl-pending .azc-dockedballoon.azc-dockedballoon-validation div.azc-dockedballoon-anchor{cursor:default;padding:1px 1px 0 0;text-align:right}.azc-editableControl.azc-validatableControl.azc-numericTextBox.azc-validatableControl-pending .azc-dockedballoon.azc-dockedballoon-validation .azc-dockedballoon-anchor:before{content:url(Content/static/azc-validatableControl-pending.gif);position:absolute;top:4px;right:3px}.azc-editableControl.azc-validatableControl.azc-numericTextBox.azc-validatableControl-valid-validated{box-sizing:border-box;padding-right:14px}.azc-editableControl.azc-validatableControl.azc-numericTextBox.azc-validatableControl-valid-validated .azc-numericTextBox-wrapper{display:inline-block;margin:0;padding:0;border-width:0;text-decoration:none;float:left;border-right-color:transparent}.azc-editableControl.azc-validatableControl.azc-numericTextBox.azc-validatableControl-valid-validated .azc-dockedballoon.azc-dockedballoon-validation{display:inline-block;width:14px;margin-right:-14px;border-width:1px 1px 1px 0;border-style:solid;padding:0 2px 0 0;box-sizing:border-box;overflow:visible;position:relative;z-index:1}.azc-editableControl.azc-validatableControl.azc-numericTextBox.azc-validatableControl-valid-validated .azc-dockedballoon.azc-dockedballoon-validation div.azc-dockedballoon-anchor{cursor:default;padding:1px 1px 0 0;text-align:right}.azc-editableControl.azc-validatableControl.azc-numericTextBox.azc-validatableControl-valid-validated .azc-dockedballoon.azc-dockedballoon-validation .azc-dockedballoon-anchor:before{display:none}.azc-editableControl.azc-validatableControl.azc-numericTextBox.azc-validatableControl-valid-validated .azc-dockedballoon.azc-dockedballoon-validation .azc-dockedballoon-anchor svg{display:block;width:10px;height:10px;margin-top:5px}.azc-editableControl.azc-validatableControl.azc-numericTextBox.azc-is-edited.azc-validatableControl-valid-validated .azc-dockedballoon.azc-dockedballoon-validation,.azc-editableControl.azc-validatableControl.azc-numericTextBox.azc-is-edited.azc-validatableControl-valid-validated.azc-has-focus .azc-dockedballoon.azc-dockedballoon-validation,.azc-editableControl.azc-validatableControl.azc-numericTextBox.azc-validatableControl-valid-validated.azc-has-focus .azc-dockedballoon.azc-dockedballoon-validation{border-width:1px 1px 1px 0;border-style:solid;outline:0}.azc-editableControl.azc-validatableControl.azc-numericTextBox.azc-numericTextBox-disabled.azc-validatableControl-invalid,.azc-editableControl.azc-validatableControl.azc-numericTextBox.azc-numericTextBox-disabled.azc-validatableControl-pending,.azc-editableControl.azc-validatableControl.azc-numericTextBox.azc-numericTextBox-disabled.azc-validatableControl-valid-validated{padding-right:0}.azc-editableControl.azc-validatableControl.azc-numericTextBox.azc-numericTextBox-disabled.azc-validatableControl-invalid .azc-numericTextBox-wrapper,.azc-editableControl.azc-validatableControl.azc-numericTextBox.azc-numericTextBox-disabled.azc-validatableControl-pending .azc-numericTextBox-wrapper,.azc-editableControl.azc-validatableControl.azc-numericTextBox.azc-numericTextBox-disabled.azc-validatableControl-valid-validated .azc-numericTextBox-wrapper{width:100%}.azc-editableControl.azc-validatableControl.azc-numericTextBox.azc-numericTextBox-disabled.azc-validatableControl-invalid .azc-numericTextBox-wrapper input,.azc-editableControl.azc-validatableControl.azc-numericTextBox.azc-numericTextBox-disabled.azc-validatableControl-pending .azc-numericTextBox-wrapper input,.azc-editableControl.azc-validatableControl.azc-numericTextBox.azc-numericTextBox-disabled.azc-validatableControl-valid-validated .azc-numericTextBox-wrapper input{height:23px;font-family:az_ea_font,wf_segoe-ui_normal,"Segoe UI","Segoe WP",Tahoma,Arial,sans-serif;box-sizing:border-box;width:100%;padding:2px 8px 4px;outline:0;font-size:12px;border-width:1px;border-style:solid}.azc-editableControl.azc-validatableControl.azc-numericTextBox.azc-numericTextBox-disabled.azc-validatableControl-invalid .azc-numericTextBox-wrapper input::-webkit-input-placeholder,.azc-editableControl.azc-validatableControl.azc-numericTextBox.azc-numericTextBox-disabled.azc-validatableControl-pending .azc-numericTextBox-wrapper input::-webkit-input-placeholder,.azc-editableControl.azc-validatableControl.azc-numericTextBox.azc-numericTextBox-disabled.azc-validatableControl-valid-validated .azc-numericTextBox-wrapper input::-webkit-input-placeholder{font-style:italic}.azc-editableControl.azc-validatableControl.azc-numericTextBox.azc-numericTextBox-disabled.azc-validatableControl-invalid .azc-numericTextBox-wrapper input:-ms-input-placeholder,.azc-editableControl.azc-validatableControl.azc-numericTextBox.azc-numericTextBox-disabled.azc-validatableControl-pending .azc-numericTextBox-wrapper input:-ms-input-placeholder,.azc-editableControl.azc-validatableControl.azc-numericTextBox.azc-numericTextBox-disabled.azc-validatableControl-valid-validated .azc-numericTextBox-wrapper input:-ms-input-placeholder{font-style:italic}.azc-editableControl.azc-validatableControl.azc-numericTextBox.azc-numericTextBox-disabled.azc-validatableControl-invalid .azc-numericTextBox-wrapper input::-moz-placeholder,.azc-editableControl.azc-validatableControl.azc-numericTextBox.azc-numericTextBox-disabled.azc-validatableControl-pending .azc-numericTextBox-wrapper input::-moz-placeholder,.azc-editableControl.azc-validatableControl.azc-numericTextBox.azc-numericTextBox-disabled.azc-validatableControl-valid-validated .azc-numericTextBox-wrapper input::-moz-placeholder{font-style:italic}.azc-editableControl.azc-validatableControl.azc-numericTextBox.azc-numericTextBox-disabled.azc-validatableControl-invalid .azc-dockedballoon.azc-dockedballoon-validation,.azc-editableControl.azc-validatableControl.azc-numericTextBox.azc-numericTextBox-disabled.azc-validatableControl-pending .azc-dockedballoon.azc-dockedballoon-validation,.azc-editableControl.azc-validatableControl.azc-numericTextBox.azc-numericTextBox-disabled.azc-validatableControl-valid-validated .azc-dockedballoon.azc-dockedballoon-validation{display:none}.azc-editableControl.azc-validatableControl.azc-numericTextBox.azc-numericTextBox-disabled.azc-validatableControl-invalid .azc-dockedballoon.azc-dockedballoon-validation .azc-dockedballoon-anchor,.azc-editableControl.azc-validatableControl.azc-numericTextBox.azc-numericTextBox-disabled.azc-validatableControl-pending .azc-dockedballoon.azc-dockedballoon-validation .azc-dockedballoon-anchor,.azc-editableControl.azc-validatableControl.azc-numericTextBox.azc-numericTextBox-disabled.azc-validatableControl-valid-validated .azc-dockedballoon.azc-dockedballoon-validation .azc-dockedballoon-anchor{padding-left:4px;padding-top:3px;line-height:inherit}.azc-editableControl.azc-validatableControl.azc-dropdown.azc-validatableControl-invalid{padding-right:14px}.azc-editableControl.azc-validatableControl.azc-dropdown.azc-validatableControl-invalid .azc-dockedballoon.azc-dockedballoon-validation{display:inline-block;width:14px;margin-right:-14px}.azc-editableControl.azc-validatableControl.azc-checkBox.azc-validatableControl-invalid .azc-dockedballoon.azc-dockedballoon-validation{display:inline-block}.azc-editableControl.azc-validatableControl.azc-checkBox .azc-dockedballoon.azc-dockedballoon-validation{display:none;vertical-align:top;padding:0;height:17px}.azc-editableControl.azc-validatableControl.azc-checkBox .azc-dockedballoon.azc-dockedballoon-validation div.azc-dockedballoon-anchor{padding:0 2px 0 0;font-size:9pt;text-align:center;text-decoration:none;display:block}.azc-editableControl.azc-validatableControl.azc-fileUpload .azc-textBox .azc-dockedballoon.azc-dockedballoon-validation{display:none}.azc-editableControl.azc-validatableControl.azc-fileUpload .azc-textBox .azc-dockedballoon.azc-dockedballoon-validation .azc-dockedballoon-anchor{padding-left:4px;padding-top:3px;line-height:inherit}.azc-editableControl.azc-validatableControl.azc-fileUpload .azc-textBox.azc-validatableControl-invalid{box-sizing:border-box;padding-right:14px}.azc-editableControl.azc-validatableControl.azc-fileUpload .azc-textBox.azc-validatableControl-invalid .azc-textBox-wrapper{display:inline-block;margin:0;padding:0;border-width:0;text-decoration:none;float:left}.azc-editableControl.azc-validatableControl.azc-fileUpload .azc-textBox.azc-validatableControl-invalid .azc-textBox-wrapper input{border-width:1px;border-style:solid;outline:0}.azc-editableControl.azc-validatableControl.azc-fileUpload .azc-textBox.azc-validatableControl-invalid .azc-dockedballoon.azc-dockedballoon-validation{display:inline-block;width:14px;margin-right:-14px}.azc-editableControl.azc-validatableControl.azc-fileUpload .azc-textBox.azc-validatableControl-pending{box-sizing:border-box;padding-right:14px}.azc-editableControl.azc-validatableControl.azc-fileUpload .azc-textBox.azc-validatableControl-pending .azc-textBox-wrapper{display:inline-block;margin:0;padding:0;border-width:0;text-decoration:none;float:left}.azc-editableControl.azc-validatableControl.azc-fileUpload .azc-textBox.azc-validatableControl-pending .azc-textBox-wrapper input{border-width:1px 0 1px 1px;border-style:solid;outline:0}.azc-editableControl.azc-validatableControl.azc-fileUpload .azc-textBox.azc-validatableControl-pending .azc-dockedballoon.azc-dockedballoon-validation{display:inline-block;width:14px;margin-right:-14px;border-width:1px 1px 1px 0;border-style:solid;padding:0 2px 0 0;box-sizing:border-box;overflow:visible;position:relative;z-index:1}.azc-editableControl.azc-validatableControl.azc-fileUpload .azc-textBox.azc-validatableControl-pending .azc-dockedballoon.azc-dockedballoon-validation div.azc-dockedballoon-anchor{cursor:default;padding:1px 1px 0 0;text-align:right}.azc-editableControl.azc-validatableControl.azc-fileUpload .azc-textBox.azc-validatableControl-pending .azc-dockedballoon.azc-dockedballoon-validation .azc-dockedballoon-anchor:before{content:url(Content/static/azc-validatableControl-pending.gif);position:absolute;top:4px;right:3px}.azc-editableControl.azc-validatableControl.azc-fileUpload .azc-textBox.azc-control-disabled.azc-validatableControl-invalid,.azc-editableControl.azc-validatableControl.azc-fileUpload .azc-textBox.azc-control-disabled.azc-validatableControl-pending,.azc-editableControl.azc-validatableControl.azc-fileUpload .azc-textBox.azc-control-disabled.azc-validatableControl-valid-validated{padding-right:14px}.fxs-async-fileupload .azc-dockedballoon-validation{display:none}.fxs-async-fileupload .azc-validatableControl-invalid .azc-input{width:calc(100% - 14px)!important;border-color:#e81123!important}.fxs-async-fileupload .azc-validatableControl-invalid .azc-dockedballoon{display:inline-block;width:13px;padding:3px 1px 1px 0;height:19px!important}.fxs-async-fileupload .azc-validatableControl-valid-validated .azc-input{padding-right:15px}.fxs-async-fileupload .azc-validatableControl-valid-validated .azc-dockedballoon{height:21px!important;position:absolute;margin-top:1px;margin-left:-15px}.fxs-async-fileupload .azc-validatableControl-valid-validated .azc-dockedballoon .azc-dockedballoon-anchor{padding:0!important;cursor:inherit!important}.fxs-async-fileupload .azc-validatableControl-valid-validated .azc-dockedballoon .azc-dockedballoon-anchor:before{content:""}.fxs-async-fileupload .azc-validatableControl-valid-validated .azc-dockedballoon svg{display:block!important;height:10px;width:10px;margin-top:6px}')}
);define("Viva.Controls/Controls/Base/ValidationPlacements/Viva.Base",["require","exports","../../../Util/Viva.Util","../../../../_generated/Less/Viva.Controls/Controls/Base/Viva.ValidationPlacements.css"],function(n,t,i){"use strict";var r;return function(n){var r=window,u=jQuery,t=function(){function n(){this._destroyIds=[]}return n.prototype._checkExistsOrRegisterDestroyId=function(n){return i.existsOrRegisterId(this._destroyIds,n)},n.prototype.isDestroyed=function(){return this._destroyIds.length>0},n.prototype.dispose=function(){this._checkExistsOrRegisterDestroyId(null)||(this._errorMessage&&(this._errorMessage.dispose(),this._errorMessage=null),this._disposeSubscriptions())},n.prototype.initialize=function(n,t){var i=this;this._element=n;this._validatable={enableValidation:t.enableValidation,valid:t.valid,validationState:t.validationState,validators:t.validators};this._errorMessage||(this._errorMessage=ko.computed(function(){var u="",r=i._validatable.validators(),n,t;if(r)for(n=
0;n<r.length;n++)if(t=r[n],!t.valid()&&t.message()){u=t.message();break}return u}));this._subscriptions||this._initializeSubscriptions()},n.prototype.onErrorMessageChanged=function(){},n.prototype.onValidationStateChanged=function(){},n.prototype._initializeSubscriptions=function(){var n=this;this._subscriptions=this._subscriptions||[];this._disposeSubscriptions();this.onValidationStateChanged(this._validatable.validationState());this._subscriptions.push(this._validatable.validationState.subscribe(function(t){n.onValidationStateChanged(t)}));this.onErrorMessageChanged(this._errorMessage());this._subscriptions.push(this._errorMessage.subscribe(function(t){n.onErrorMessageChanged(t)}))},n.prototype._disposeSubscriptions=function(){if(this._subscriptions)while(this._subscriptions.length)this._subscriptions.splice(0,1)[0].dispose()},n}();n.Base=t}(r||(r={})),r});define("Viva.Controls/Controls/Base/ValidationPlacements/Viva.Css",["require","exports","./Viva.Base"],function(n,t,i){"use strict";
var r;return function(n){var c=window,t=[],u="azc-validatableControl-none",f="azc-validatableControl-invalid",e="azc-validatableControl-pending",r="azc-validatableControl-valid-validated",o="data-validatable-control-valid",h="data-validatable-control-validation-state",s;t[0]="none";t[1]="invalid";t[2]="valid";t[3]="pending";s=function(n){function i(){n.apply(this,arguments);this._input=null;this._valid=ko.computed($.noop)}return __extends(i,n),i.prototype.dispose=function(){this._checkExistsOrRegisterDestroyId(n.prototype.dispose)||(n.prototype.dispose.call(this),this._element&&this._element.removeClass([u,f,e,r].join(" ")),this._input&&this._input.removeAttr(o),this._valid&&(this._valid.dispose(),this._valid=null))},i.prototype.initialize=function(t,i){var u=this;n.prototype.initialize.call(this,t,i);this._valid=ko.computed(function(){return u._validatable.enableValidation()&&u._validatable.validators().length>0&&u._validatable.validationState()===2});this._subscriptions.push(this._valid.
subscribe(function(n){u._element.toggleClass(r,n)}));this._input=this._element.find("input, select, textarea");this._validatable.validationState.notifySubscribers(this._validatable.validationState());this._setValidationAttribute(this._validatable.validationState())},i.prototype.onValidationStateChanged=function(n){var t=this._element;t.toggleClass(u,n===0);t.toggleClass(f,n===1);t.toggleClass(e,n===3);t.toggleClass(r,this._valid());this._setValidationAttribute(n)},i.prototype._setValidationAttribute=function(n){this._input&&(this._input.attr(o,n===2||this._validatable.validators().length===0),this._input.attr(h,t[n]))},i}(i.Base);n.Css=s}(r||(r={})),r});define("Viva.Controls/Controls/Base/Viva.Validators",["require","exports","../../Util/Viva.DateUtil","MsPortalImpl/Resources/ImplScriptResources","MsPortalImpl/Base/Base.UriHelper","MsPortalImpl.Controls/Resources/MsPortalImplResources"],function(n,t,i,r,u,f){"use strict";var e;return function(t){function p(n){return n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,
"\\$&")}var b=MsPortalFx,oi=b.Base,si=oi.Diagnostics,ut=b.ViewModels,l=ut.FormValidationType,h=b.isNullOrUndefined,e=r.Viva.Validators,a=e.DateTimeRange,hi=window,y=jQuery,ft=si.createLog(n),k=ko.observable,tt=ko.isObservable,o=2,s=1,c=function(){function n(n,t){var i=this,r;this.fxViewModel=n;r=t;n&&n.message&&(r=n.message);this.message=k(r);this.validationState=k(0);this.validate=k();this.isEmptyValid=k(!1);this.valid=ko.computed(function(){return i.validationState()===o});this._subscription=this.validate.subscribe(function(n){i.validationState(i._validate(n))})}return n.prototype.dispose=function(){this._subscription&&(this._subscription.dispose(),this._subscription=null);this.valid&&(this.valid.dispose(),this.valid=null)},n.prototype._validate=function(){return 0},n}(),v,d,et,ot,it,st,ht,ct,lt,at,vt,w,yt,pt,wt,g,rt,bt,kt,dt,nt,gt,ni,ti,ii,ri,ui,fi,ei;t.Validator=c;t.escapeRegExpOperators=p;v=function(n){function t(t,i,r,u){t&&t.type===l.RegExMatch&&(i=t.pattern,r=undefined);n.call(
this,t,u||e.match.format(t.pattern));this._expression=new RegExp(i,r)}return __extends(t,n),t.prototype._validate=function(n){return(h(n)||y.trim(n)==="")&&this.isEmptyValid()?o:this._expression.test(n||"")?o:s},t}(c);t.Match=v;d=function(n){function t(t,i,r,u){t&&t.type===l.NotRegExMatch&&(i=t.pattern,r=undefined);n.call(this,t,u||e.notMatch.format(t.pattern));this._expression=new RegExp(i,r)}return __extends(t,n),t.prototype._validate=function(n){return(h(n)||y.trim(n)==="")&&this.isEmptyValid()?o:this._expression.test(n||"")?s:o},t}(c);t.NotMatch=d;et=function(n){function t(t){n.call(this,t,p(t.searchString),"i",e.contains.format(t.message))}return __extends(t,n),t}(v);t.Contains=et;ot=function(n){function t(t){n.call(this,t,p(t.searchString),"i",e.notContains.format(t.searchString))}return __extends(t,n),t}(d);t.NotContains=ot;it=function(n){function t(t,i,r){t&&t.type===l.ContainsCharacters&&(i=t.characters);n.call(this,t,"["+p(i)+"]","",r||e.containsCharacters.format(i))}return __extends(
t,n),t}(v);t.ContainsCharacters=it;st=function(n){function t(t){n.call(this,t,"["+p(t.characters)+"]","",e.notContainsCharacters.format(t.characters))}return __extends(t,n),t}(d);t.NotContainsCharacters=st;ht=function(n){function t(t){n.call(this,t,"[0-9]",undefined,e.hasDigit)}return __extends(t,n),t}(v);t.HasDigit=ht;ct=function(n){function t(t){n.call(this,t,"[A-Za-z]",undefined,e.hasLetter)}return __extends(t,n),t}(v);t.HasLetter=ct;lt=function(n){function t(t){n.call(this,t,"[A-Z]",undefined,e.hasUpperCaseLetter)}return __extends(t,n),t}(v);t.HasUpperCaseLetter=lt;at=function(n){function t(t){n.call(this,t,"[a-z]",undefined,e.hasLowerCaseLetter)}return __extends(t,n),t}(v);t.HasLowerCaseLetter=at;vt=function(n){function t(t){n.call(this,t,"!@#$%^&*()_+-={}|[]\\:\";'<>,.?/~`",e.hasPunctuation)}return __extends(t,n),t}(it);t.HasPunctuation=vt;w=function(n){function t(t,i){n.call(this,t,i);this._compareTo=tt(t.compareTo)?t.compareTo:function(){return t.compareTo}}return __extends(t,n),
t.prototype._validate=function(n){return this._compare(n,this._compareTo())?o:s},t.prototype._compare=function(){return!1},t}(c);t.Compare=w;yt=function(n){function t(t){n.call(this,t,e.equals)}return __extends(t,n),t.prototype._compare=function(n,t){return n===t},t}(w);t.Equals=yt;pt=function(n){function t(t){n.call(this,t,e.caseInsensitiveComparison)}return __extends(t,n),t.prototype._compare=function(n,t){return n.toLowerCase()===t.toLowerCase()},t}(w);t.CaseInsensitiveComparison=pt;wt=function(n){function t(t){n.call(this,t,e.localeAwareCaseInsensitiveComparison)}return __extends(t,n),t.prototype._compare=function(n,t){return n.toLocaleLowerCase()===t.toLocaleLowerCase()},t}(w);t.LocaleAwareCaseInsensitiveComparison=wt;g=function(n){function t(t,i,r,u){t&&t.type===l.LengthRange&&(i=t.min,r=t.max);n.call(this,t,u||e.lengthRange.format(i,r));this._min=i;this._max=r}return __extends(t,n),t.prototype._validate=function(n){var t,i;if(n=y.trim(n),(h(n)||y.trim(n)==="")&&this.isEmptyValid(
))return o;if(t=0,n!==undefined&&n!==null&&(t=n.length),i=0,this._min!==undefined&&this._min!==null&&(i=this._min),t>=i)if(this._max!==undefined&&this._max!==null){if(t<=this._max)return o}else return o;return s},t}(c);t.LengthRange=g;rt=function(n){function t(t,i,r){t&&t.type===l.MinLength&&(i=t.min);n.call(this,t,i,null,r||e.minLength.format(i))}return __extends(t,n),t}(g);t.MinLength=rt;bt=function(n){function t(t){n.call(this,t,0,t.max,e.maxLength.format(t.max))}return __extends(t,n),t}(g);t.MaxLength=bt;kt=function(n){function t(t){n.call(this,t,1,e.required)}return __extends(t,n),t}(rt);t.Required=kt;dt=function(n){function t(t){n.call(this,t,e.numeric)}return __extends(t,n),t.prototype._validate=function(n){return(h(n)||y.trim(n)==="")&&this.isEmptyValid()?o:n!==undefined&&n!==null&&n!==""?isNaN(+n)?s:o:s},t}(c);t.Numeric=dt;nt=function(n){function t(t,i,r,u){var f,o;t&&t.type===l.Range&&(i=t.min,r=t.max);f=i;tt(f)||(f=function(){return i});o=r;tt(o)||(o=function(){return r});n.
call(this,t,u||e.valueRange.format(f(),o()));this.min=f;this.max=o}return __extends(t,n),t.prototype._validate=function(n){var t;return(h(n)||y.trim(n)==="")&&this.isEmptyValid()?o:(h(n)||n==="")&&(this.min()===undefined||this.min()===null)&&(this.max()===undefined||this.max()===null)?o:n!==null&&n!==undefined&&(typeof n=="string"||typeof n=="number")&&n!==""&&(t=+n,!isNaN(t))?this.min()!==undefined&&this.min()!==null&&t<this.min()?s:this.max()!==undefined&&this.max()!==null&&t>this.max()?s:o:s},t}(c);t.ValueRange=nt;gt=function(n){function t(t,i){t&&t.type===l.MinValue&&(i=t.min);n.call(this,t,i,null,e.minValue.format(i))}return __extends(t,n),t}(nt);t.MinValue=gt;ni=function(n){function t(t,i){t&&t.type===l.MaxValue&&(i=t.max);n.call(this,t,null,i,e.maxValue.format(i))}return __extends(t,n),t}(nt);t.MaxValue=ni;ti=function(n){function t(t,i,r,u){var f;f=u?u:t&&i?a.minMax.format(t.toUTCString(),i.toUTCString()):t?a.min.format(t.toUTCString()):i?a.max.format(i.toUTCString()):a.correctFormat;
n.call(this,null,f);this.minDateTime=t;this.maxDateTime=i;this.timezoneOffset=r}return __extends(t,n),t.prototype._validate=function(n){if(h(n))return this.isEmptyValid()?o:s;var t=n.getTime();return!h(this.minDateTime)&&Math.floor(t/1e3)<Math.floor(i.getDateWithOffset(this.minDateTime,this.timezoneOffset()).getTime()/1e3)?s:!h(this.maxDateTime)&&Math.floor(t/1e3)>Math.floor(i.getDateWithOffset(this.maxDateTime,this.timezoneOffset()).getTime()/1e3)?s:o},t}(c);t.DateTimeRange=ti;ii=function(n){function t(t,i,r,u){var f;f=u?u:t&&i?a.minMax.format(t.toUTCString(),i.toUTCString()):t?a.min.format(t.toUTCString()):i?a.max.format(i.toUTCString()):a.correctFormat;n.call(this,null,f);this.minDateTime=t;this.maxDateTime=i;this.timezoneOffset=r}return __extends(t,n),t.prototype._validate=function(n){var t,r;return h(n)&&!this.isEmptyValid()?s:!h(this.minDateTime)&&(t=i.getDateWithOffset(this.minDateTime,this.timezoneOffset()),i.compareDatesByDays(n,t)===-1)?s:!h(this.maxDateTime)&&(r=i.getDateWithOffset(
this.maxDateTime,this.timezoneOffset()),i.compareDatesByDays(n,r)===1)?s:o},t}(c);t.DayRange=ii;ri=function(){function n(n,t){this.promise=n;this.asyncRequestId=t}return n}();ui=function(n){function t(t,i){if(n.call(this,t,""),t&&t.type){var r=function(n){return t.validate(n)};this._validationHandler=this._convertValidateFunction(r,i)}else this._validationHandler=t;this._pendingAsyncRequests=[];this._latestValidationAsyncRequestId=null}return __extends(t,n),t.prototype._validate=function(n){var i=this,r=!1,t;return this._validationHandler?(this._latestValidationAsyncRequestId=b.getUniqueId(),t=this._validationHandler(n),this._pendingAsyncRequests.push(new ri(t,this._latestValidationAsyncRequestId)),t.then(function(n){i._updateValidationResult(t,n,o)}).catch(function(n){i._updateValidationResult(t,n&&n.message||"",s)}).finally(function(){r=!0}),r)?(this._removePendingAsyncRequest(t),this.validationState()):3:o},t.prototype._convertValidateFunction=function(n,t){return function(i){var r=
n(i);return r?Q(r).then(function(n){if(n){if(n.valid)return n.message;throw new Error(n.message);}else{var i="CustomValidation function '{0}' was resolved with a null ValidationResult".format(t);ft.warning(i);throw new Error(f.Field.invalidValidationResult);}}):(ft.error("Extension validation handler did not return a promise. Proxied observable id is: '{0}'".format(t)),Q.defer().promise)}},t.prototype._updateResult=function(n,t){n&&this.message(n);this.validationState(t)},t.prototype._updateValidationResult=function(n,t,i){var r;r=this._pendingAsyncRequests.length<=1?this._pendingAsyncRequests.pop():this._removePendingAsyncRequest(n);r&&r.asyncRequestId===this._latestValidationAsyncRequestId&&this._updateResult(t,i)},t.prototype._removePendingAsyncRequest=function(n){for(var t=0,i=-1,r=null,t=0;t<this._pendingAsyncRequests.length;t++)if(this._pendingAsyncRequests[t].promise===n){i=t;break}return i>=0?(r=this._pendingAsyncRequests[i],this._pendingAsyncRequests.splice(i,1),r):null},t}(c);
t.CustomAsyncValidator=ui;fi=function(n){function t(t){t instanceof ut.InvalidValidation?n.call(this,t,e.invalid):n.call(this,null,t||e.invalid)}return __extends(t,n),t.prototype._validate=function(){return s},t}(c);t.Invalid=fi;ei=function(n){function t(t){n.call(this,t,"");this._options=t.options}return __extends(t,n),t.prototype._validate=function(n){var t=u.validateAbsoluteHttpUri(n,this._options);return t?o:s},t}(c);t.Uri=ei}(e||(e={})),e});define("Viva.Controls/Controls/Base/ValidationPlacements/Viva.DockedBalloon",["require","exports","../Viva.Validators","../../Viva.DockedBalloon","./Viva.Base"],function(n,t,i,r,u){"use strict";var f;return function(n){var e=window,f=jQuery,t={length:4},i;t[0]="none";t[1]="invalid";t[2]="valid";t[3]="pending";i=function(n){function i(t){n.call(this);this._inputSelector="input, select";this._settings=t}return __extends(i,n),i.prototype.dispose=function(){this._checkExistsOrRegisterDestroyId(n.prototype.dispose)||(n.prototype.dispose.call(this),this.
_detachEvents(),this._widget&&(this._widget.dispose(),this._widget=null),this._element&&this._widgetElement&&(ko.cleanNode(this._widgetElement[0]),this._widgetElement.remove()),this._errorMessagesListWidget&&(this._errorMessagesListWidget.dispose(),this._errorMessagesListWidget=null))},i.prototype.onValidationStateChanged=function(i){if(n.prototype.onValidationStateChanged.call(this,i),!this._widgetElement){if(i===0)return;this._createDockedBalloon()}if(this._widgetElement.removeClass("fxs-bg-error"),this._inputElement)switch(i){case 0:case 1:this._widgetElement.addClass("fxs-bg-error");case 2:case 3:this._widgetViewModel.disabled(!this._validationStateBalloonOptions[t[i]].balloonVisible)}},i.prototype._setInputSelector=function(n){this._inputSelector=n},i.prototype._createDockedBalloon=function(){this._inputElement=this._element.find(this._inputSelector);this._widgetElement||(this._widgetElement=f("<div />"));this._widgetViewModel=new r.ViewModel;this._widgetViewModel.content=this._errorMessage;
this._widgetViewModel.isTabbable(!1);this._initializeValidationStateDockedBalloonOptions(this._settings);this._element.append(this._widgetElement);this._widgetViewModel.type=2;this._widget=new r.Widget(this._widgetElement,this._widgetViewModel);this._widgetElement.css("height",this._element.innerHeight());this._attachEvents();this.onValidationStateChanged(this._validatable.validationState())},i.prototype._initializeValidationStateDockedBalloonOptions=function(n){var i=function(n){return n!==undefined&&n!==null},u=function(n){return{balloonVisible:n}};if(this._validationStateBalloonOptions={none:u(!1),invalid:u(!0),valid:u,pending:{}},n&&n.validationStateBalloonOptions){var r=n.validationStateBalloonOptions,f=r.none,e=r.invalid,o=r.valid,s=r.pending,t=this._validationStateBalloonOptions;f&&(t.none.balloonVisible=i(f.balloonVisible)?f.balloonVisible===!0:t.none.balloonVisible);e&&(t.invalid.balloonVisible=i(e.balloonVisible)?e.balloonVisible===!0:t.invalid.balloonVisible);o&&(t.valid.balloonVisible=
i(o.balloonVisible)?o.balloonVisible===!0:t.valid.balloonVisible);s&&(t.pending.balloonVisible=i(s.balloonVisible)?s.balloonVisible===!0:t.pending.balloonVisible)}},i.prototype._attachEvents=function(){var n=this;this._detachEvents();this._inputElementFocusHandler=function(){n._onInputElementFocus()};this._inputElementBlurHandler=function(){n._onInputElementBlur()};this._widgetAnchorElementClickHandler=function(n){n.preventDefault()};this._element.find("input,select").on("focus",this._inputElementFocusHandler).on("blur",this._inputElementBlurHandler);this._widgetElement.find("a").on("click",this._widgetAnchorElementClickHandler)},i.prototype._detachEvents=function(){this._inputElementFocusHandler&&(this._inputElement.off("focus",this._inputElementFocusHandler),this._inputElementFocusHandler=null);this._inputElementBlurHandler&&(this._inputElement.off("blur",this._inputElementBlurHandler),this._inputElementBlurHandler=null);this._widgetAnchorElementClickHandler&&(this._widgetElement.find(
"a").off("blur",this._widgetAnchorElementClickHandler),this._widgetAnchorElementClickHandler=null)},i.prototype._onInputElementFocus=function(){this._widget&&!this._validatable.valid()&&this._widget.options.balloonVisible(!0)},i.prototype._onInputElementBlur=function(){this._widget&&this._widget.options.balloonVisible(!1)},i.defaultOptions={validationStateBalloonOptions:{pending:{balloonVisible:!1}}},i}(u.Base);n.DockedBalloon=i}(f||(f={})),f});define("MsPortalImpl.Controls/Controls/Lists/Grid1/Grid1.FocusableRow",["require","exports","./Grid1.Impl"],function(n,t,i){"use strict";var r;return function(n){var t=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.getName=function(){return"Focusable"},t.prototype.getOrder=function(){return 0},t}(i.GridExtension);n.FocusableRowExtension=t}(r||(r={})),r});define("_generated/Less/Viva.Controls/Controls/Lists/Viva.Grid1.SelectableRowActivate.css",["require","exports","module"],function(n,t,i){"use strict";window.
fx.injectCss(i,'.azc-grid-activateableRow table tbody tr[role=row] td[data-activatable=true]{font-family:az_ea_font,wf_segoe-ui_semibold,"Segoe UI Semibold","Segoe WP Semibold","Segoe UI","Segoe WP",Tahoma,Arial,sans-serif}.azc-grid-activateableRow table tbody tr[role=row].azc-grid-virtualFocus td[data-activatable=true],.azc-grid-activateableRow table tbody tr[role=row]:not([aria-disabled=true]):hover td[data-activatable=true],.azc-grid-activateableRow table.azc-grid-activateonselected tbody tr[role=row].azc-grid-virtualFocus,.azc-grid-activateableRow table.azc-grid-activateonselected tbody tr[role=row]:not([aria-disabled=true]):hover,.azc-grid-link{cursor:pointer}')});define("Viva.Controls/Controls/Lists/Grid1/Viva.Grid1.SelectableRowActivate",["require","exports","f","u","./Viva.Grid1.SelectableRow","../../../Util/Viva.Util","./Viva.Grid1","../../../../_generated/Less/Viva.Controls/Controls/Lists/Viva.Grid1.SelectableRowActivate.css"],function(n,t,i,r,u,f,e){"use strict";var s=i.Base.
EventTypes,o;return function(n){var v=i,o=v.isNullOrUndefined,h=u.RowSelectionMode,t=jQuery,ot=window,y="keypress.",c="azcActivation",p="azc-grid-virtualFocus",l="tbody tr[data-grid-activateable=true]",w=l+":not([aria-disabled=true])",a=w+" ["+f.Constants.dataActivatableAttribute+"=true]",b=w+", "+a,nt="tbody tr[data-grid-activateable=true]:not([aria-disabled=true])",tt='css: { "fxs-activated": activated() }',it='css: { "azc-grid-activateonselected": $ctl.getPlugin("azc-grid-activateableRow")._activateOnSelected }',rt='attr: { "data-grid-activateable": "true", "data-grid-row-activated": activated() ? "true" : "false" }',ut='css: { "azc-grid-link": !$disabled() && link() && link().uri }',ft='attr: { "data-activatable": activatable(), tabindex: activatable() ? $tabIndex() : null, "data-grid-cell-activated": $parent.activated() === $data.itemKey ? "true" : "false" }',r=ko.observable,st=ko.observableArray,k=ko.dataFor,d=ko.computed,et=v.disposeDisposable,g;n.windowOpen=function(n,t){window.
open(n,t)};g=function(i){function e(n){i.call(this);this._disposables=[];this._options=n=n||{};this._activatedColumnKey=n.activatedColumnKey||r();this._primaryActivateColumnKey=n.primaryActivateColumnKey||r();this._activateOnSelected=n.activateOnSelected||r(!1);this._preserveSelection=r(!1);this._activatedRow=null;this._onRowClicked=n.onRowClicked;this._selfActivation=!1}return __extends(e,i),Object.defineProperty(e.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),e.prototype.getActivatedRows=function(){return this._widget._getAllRowMetadata().filter(function(n){return!o(n.activated.peek())})},e.prototype.afterSetTemplates=function(n){var u=n.getHtmlTemplate("bodyRowsCore"),i="tr",t="data-bind",r=u.addAttribute.bind(u),f,e;r(i,t,rt);r(i,t,ut);r(i,t,tt);f=n.getHtmlTemplate("bodyCell");f.addAttribute("td",t,ft);e=n.getHtmlTemplate("table");e.addAttribute("table",t,it)},e.prototype.getDefaultRowMetadataProperties=function(){return{activated:r(null),
activatedInfo:r(null),link:r(null),useDefaultActivation:r(!0)}},e.prototype.getDefaultColumnProperties=function(){return{activatable:r(!1)}},e.prototype.afterAttachEvents=function(){var i=this,n=this;this._disposables.push(this._widget.element.setEvents(["click.azcActivationCell",a,function(t){n._handleActivationKeyPressOrClick(t,this)}],[y+"azcActivationRow",nt,function(t){n._handleActivationKeyPressOrClick(t,this)}],[y+"azcActivationCell",a,function(t){n._handleActivationKeyPressOrClick(t,this);t.stopPropagation()}],["rowSelect."+c,function(t,i){n._onRowSelect(t,i)}],["focus."+c,b,function(n){var i=t(n.currentTarget);i.closest(l).addClass(p)}],["blur."+c,b,function(n){var i=t(n.currentTarget);i.closest(l).removeClass(p)}],["beforeRowSelect."+c,function(n,t){i._onBeforeRowSelect(n,t)}]))},e.prototype.afterCreate=function(){var n=this,t=this._widget.lifetimeManager,i=this._widget.options;this._selectableRowExtension=this._widget.getPlugin(u.SelectableRowExtension.Name);this._widget._getAllRowMetadata(
).filter(function(n){return!o(n.activated.peek())&&n.selected.peek()}).forEach(function(n){n.activated(null)});d(t,function(){var t=i.columns();n._firstColumnKey=t&&t.length>0?t[0].itemKey:null});i.items.map(t,function(t,i){var r=n._widget.getRowMetadata(i),u=!1;r.selected.subscribe(t,function(t){var i=n._activateOnSelected();if(t&&i)n._activateRow(r);else if(i&&!u)try{u=!0;r.activated(null)}finally{u=!1}});r.activated.subscribe(t,function(t){var i=!o(t);if(i){if(!u&&!n._selfActivation)try{u=!0;n._activateOnSelected()&&r.selected(!0);n._activatedColumnKey.peek()!==t&&n._activatedColumnKey(t)}finally{u=!1}n._activatedRow=r}})});d(t,function(){n._widget.element.toggleClass("azc-grid-selectionActivates",n._activateOnSelected())});this._widget._getAllRowMetadata().forEach(function(t){t.activated()&&(n._activatedRow=t,n._activateOnSelected()&&t.selected(!0))})},e.prototype.getOrder=function(){return 40},e.prototype.getDependencies=function(){return[new u.SelectableRowExtension(this.options)]}
,e.prototype.beforeDestroy=function(){et(this._disposables);this._disposables=[]},e.prototype.getName=function(){return e.Name},e.prototype.shouldNotAllowSelectAll=function(){return this._activateOnSelected()},e.prototype.shouldNotChangeSelection=function(n,i){var u=this._selectableRowExtension.options.mode?this._selectableRowExtension.options.mode():h.Off,r,e;if(u===h.MultipleReplace){if(t(n).attr("aria-selected")==="true"&&!(i.shiftKey||i.ctrlKey)&&(r=t(i.target),e=r.attr(f.Constants.dataActivatableAttribute)==="true"?r:r.closest("["+f.Constants.dataActivatableAttribute+"=true]"),e.length>0&&t.contains(n,e[0])))return!0}else if(u===h.Single||u===h.AlwaysSingle)return i.ctrlKey||i.shiftKey;return!1},e.prototype.previous=function(){return this._selectableRowExtension.previous()},e.prototype.next=function(){return this._selectableRowExtension.next()},e.prototype._changeActivation=function(n,i){var r=k(n),c=t(i.currentTarget),a=c.closest("td[role='gridcell']"),w=t(n).find("td[role='gridcell']"),
b=a[0]?a:w,d=k(b[0]),v=r.selected.peek(),g=r.activated.peek(),y=!1,u=d.itemKey,e,o,l,p;if(v&&(i.ctrlKey||i.shiftKey)&&g===u&&(y=!0),v||i.type!=="keypress"||(e=f.cloneEvent(i,"keydown"),e.which=32,t.extend(e,{which:32,target:n,ctrlKey:i.ctrlKey,altKey:i.altKey,shiftKey:i.shiftKey}),t(n).trigger(e),i.stopPropagation(),i.preventDefault()),y||(this._activatedInfo=c.attr(f.Constants.dataActivateInfoAttribute),this._activatedColumnKey(u)),o=this._activatedRow,o!==null&&o!==r&&o.activated(null),r!==null&&(l=r.useDefaultActivation,!l||l()))try{this._selfActivation=!0;p=this._options.mode()!==h.MultipleAdd||!(r.activated()!==u&&r.selected());this._activatedColumnKey(u);r.activated(u);p||i.stopPropagation()}finally{this._selfActivation=!1;c.trigger(s.fxensurebladevisible,{})}},e.prototype._handleActivationKeyPressOrClick=function(n,i){var u=this,r;(n.type!=="keypress"||!n.ctrlKey&&n.which===13||n.ctrlKey&&n.which===10||n.which===32)&&(r=t(i).closest("tr[data-grid-activateable=true]"),r.length>0&&
u._changeActivation(r[0],n))},e.prototype._onBeforeRowSelect=function(n,t){var i=t&&t.selected;this._activateOnSelected&&i&&i.selected()&&this._activateRow(i)},e.prototype._onRowSelect=function(t,i){var r=i.selected,u,f;r&&(this._onRowClicked&&this._onRowClicked(r.item),u=r.link&&r.link(),u&&(f=u.uri,f&&(n.windowOpen(f,u.target),this._selectableRowExtension.unselectAllRows())))},e.prototype._activateRow=function(n){var t=this._activatedColumnKey();o(t)&&(t=this._primaryActivateColumnKey()||this._firstColumnKey);o(t)||n.activated()===t||n.useDefaultActivation&&!n.useDefaultActivation()||n.activated(t)},e.Name="azc-grid-activateableRow",e}(e.Extension);n.SelectableRowActivateExtension=g}(o||(o={})),o});define("MsPortalImpl.Controls/Controls/Lists/Grid1/Grid1.SelectableRow",["require","exports","f","i","./Grid1.Extensibility","./Grid1.FocusableRow","./Grid1.Impl","Viva.Controls/Controls/Lists/Grid1/Viva.Grid1.SelectableRow","Viva.Controls/Controls/Lists/Grid1/Viva.Grid1.SelectableRowActivate",
"../../../../MsPortalImpl/Base/Base.Selectable2.ClickContext"],function(n,t,i,r,u,f,e,o,s,h){"use strict";var c;return function(n){function d(){try{return window.self!==window.top}catch(n){return!0}}var w=i.Base,b=w.EventTypes,k=i.ViewModels,c=k.Controls.Lists.Grid,l=i.Util.isNullOrUndefined,t=ko.observable,y=d(),p=function(){function n(n){this.canExecute=n.canExecute||t(!1);this._nextCallback=n.commandCallback}return n.prototype.execute=function(){if(this._nextCallback)return this._nextCallback();throw new Error("ImplGrid didn't initialize the next cursor callback.");},n}(),a,v;n.GridSelectableCursorNextCommand=p;a=function(){function n(n){this.canExecute=n.canExecute||t(!1);this._previousCallback=n.commandCallback}return n.prototype.execute=function(){if(this._previousCallback)return this._previousCallback();throw new Error("Grid didn't initialize the previous cursor callback.");},n}();n.GridSelectableCursorPreviousCommand=a;v=function(n){function i(){n.apply(this,arguments);this._lifetime=
new r.TriggerableLifetimeManager}return __extends(i,n),i.prototype.beforeDestroy=function(){this._lifetime&&(this._lifetime.dispose(),this._lifetime=null)},i.prototype.getExtension=function(n){var e=n,r=o.RowSelectionMode,u=t(r.Off),i=e&&e.selectableRow,h,l,f,a;if(i){f=c.RowSelectionMode;a=i.selectionMode||f.Off;switch(a){case f.Single:u(r.Single);break;case f.Multiple:u(r.MultipleReplace);break;case f.MultipleToggle:u(r.MultipleAdd);break;default:u(r.Off)}this._activatedColumnKey=i.activatedColumnKey;this._primaryActivateColumnKey=i.primaryActivateColumnKey;this._activateOnSelected=i.activateOnSelected;h=i.disableRequireSingleModeAssistKey;l=i.enableSelectableCursor||t(!1)}return this._activatedColumnKey||(this._activatedColumnKey=t()),this._primaryActivateColumnKey||(this._primaryActivateColumnKey=t()),this._activateOnSelected||(this._activateOnSelected=t(!1)),this._selectableRowActivationExtension=new s.SelectableRowActivateExtension({mode:u,activatedColumnKey:this._activatedColumnKey,
primaryActivateColumnKey:this._primaryActivateColumnKey,activateOnSelected:this._activateOnSelected,overlayFormatter:this._overlayFormatter,disableRequireSingleModeAssistKey:h,enableSelectableCursor:l,hasNextSelectableItem:t(!1),hasPreviousSelectableItem:t(!1),onRowClicked:y?e.onRowClicked:undefined})},i.prototype.getActivatedColumnKey=function(){return this._activatedColumnKey.peek()||this._primaryActivateColumnKey.peek()},i.prototype.initializeExtension=function(){var n=this._widget,s=n.options.extensionsOptions,f=this._lifetime,r,l,v,e,t,u,i,w;y||(e=s.onRowClicked,e&&(r=h.getListSelectableWithClickHandler(n.options.selectableData,$(n.element),e),ko.reactor(f,function(){var t=r.activationState(),n=t.previous;n&&ko.ignoreDependencies(function(){n.metadata.activated(null)})})));t=n._instance.element;t.on(o.EventTypes.RowSelect,l=function(n,t){n.stopPropagation();var i=s.selectableRow.rowSelect;i&&i(n,t);r&&r.onClick({item:t.selected.item,metadata:t.selected})});f.registerForDispose(function(
){t.off(o.EventTypes.RowSelect,l)});t.on(o.EventTypes.RowClick,v=function(t,i){var f=$(t.target),r=f.closest("a"),e=r&&$(i.item).find(r).length>0,u;if(!e){var o=n.options.extensionsOptions,s=o.selectableRow,h=s.selectionMode===c.RowSelectionMode.Single;h&&(t.ctrlKey||t.shiftKey)&&(t.stopPropagation(),t.preventDefault(),u=n.options.selectableData,$(t.target).trigger(b.fxopeninnewtab,{selectableSet:u,item:i.rowMetadata.item}))}});f.registerForDispose(function(){t.off(o.EventTypes.RowClick,v)});u=this._selectableRowActivationExtension;i=u.options;i.enableSelectableCursor&&i.enableSelectableCursor()&&(w={previous:new a({canExecute:i.hasPreviousSelectableItem,commandCallback:function(){return u.previous()}}),next:new p({canExecute:i.hasNextSelectableItem,commandCallback:function(){return u.next()}})},n.options.selectableData._msPortalFxCursor(w))},i.prototype.getName=function(){return"Selectable"},i.prototype.getOrder=function(){return 1},i.prototype.getDependencies=function(){return[new f.
FocusableRowExtension]},i.prototype.registerSubscriptionsToConnectMetadataProperties=function(n,t){var i=this;return this._widget.options.selectableData.selectableItems.subscribe(function(){i._widget._connectMetadataAndDisposeSubscriptions(n,t)})},i.prototype.disallowConnectRowMetadataProperties=function(n,t){var r=-1,u=this._widget.options,i;return(u.selectableData.selectableItems().some(function(n,i){return n.data===t.item?(r=i,!0):!1}),r>=0)?(i=-1,u.items().some(function(t,r){return t===n?(i=r,!0):!1}),i===-1)?!1:r!==i:!0},i.prototype.connectRowMetadataProperties=function(n,t,i){var a=this,e=this._widget,o=[],s=e.options.selectableData.selectableItems().first(function(t){return t.data===n}),h=t,r=i,c,u=function(n){o.push.apply(o,n)},f=e._twoWayBinding.bind(e);return r.link&&h.link&&u(f(r.link,h.link)),u(f(s.isSelected,t.selected)),u(f(t.selected,r.selected)),u([c=ko.computed({read:function(){var n=r.activated();return!(n===null||n===undefined)},write:function(n){var t,i;n?r.activated(
)||(t=a.getActivatedColumnKey(),l(t)&&(i=e.options.columns().first(function(n){return n.activatable&&n.activatable()}),t=l(i)?null:i.itemKey),l(t)||r.activated(t)):r.activated(null)}})]),u(f(t.activated,r.activated)),u(f(s.isActivated,c)),u(f(t.disabled,r.disabled)),u(f(t.useDefaultActivation,r.useDefaultActivation)),o},i}(e.GridExtension);n.SelectableRowExtension=v;u.registerPlugin(c.Extensions.SelectableRow,v)}(c||(c={})),c});define("Viva.Controls/Controls/Lists/Grid1/Viva.Grid1.RightClickableRow",["require","exports","f","../../../Util/Viva.Util","./Viva.Grid1"],function(n,t,i,r,u){"use strict";var f;return function(n){var e=i.Base.EventTypes,t=jQuery,c=window,o=ko.observable,f=ko.dataFor,s=i.disposeDisposable,h=function(n){function i(t){n.call(this);this._disposables=[];t=this._options=t||{};t.disabled===undefined&&(t.disabled=o(!1))}return __extends(i,n),Object.defineProperty(i.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),i.prototype.afterAttachEvents=
function(){var u=this._options,i=this._widget,n="rowRightClick";this._disposables.push(i.element.setEvents([e.fxcontextmenurequest+".azcGrid","tbody[class!=azc-grid-empty] tr",function(t){var e;u.disabled()||(e={rowMetadata:f(this),clientX:t.clientX,clientY:t.clientY},i.trigger(n,r.cloneEvent(t,n),e,t.target),i.options.events(n,e))}],["keydown.azcGrid",function(u){switch(u.which){case 121:if(u.shiftKey){var e=t(u.target).closest("tr")[0],o=t(e).offset(),s={rowMetadata:f(e),clientX:o.left+e.offsetWidth-232,clientY:o.top+10};i.trigger(n,r.cloneEvent(u,n),s,u.target);i.options.events(n,s);u.preventDefault();u.stopPropagation()}}}]))},i.prototype.beforeDestroy=function(){s(this._disposables);this._disposables=[]},i.prototype.getName=function(){return i.Name},i.Name="azc-grid-rightClickableRow",i}(u.Extension);n.RightClickableRowExtension=h}(f||(f={})),f});define("MsPortalImpl.Controls/Controls/Lists/Grid1/Grid1.RightClickableRow",["require","exports","f","./Grid1.Extensibility","./Grid1.SelectableRow",
"MsPortalImpl/UI/Commands/UI.Commands.Base","./Grid1.Impl","Viva.Controls/Controls/Lists/Grid1/Viva.Grid1.RightClickableRow","Viva.Controls/Controls/Lists/Grid1/Viva.Grid1.FocusableRow"],function(n,t,i,r,u,f,e,o,s){"use strict";var h;return function(n){var l=i.Base.EventTypes,a=i.ViewModels,v=a.Controls,y=v.Lists.Grid,p=window,t=jQuery,h=ko.unwrap,c=function(n){function i(){n.apply(this,arguments)}return __extends(i,n),i.prototype.beforeDestroy=function(){this._rightClickHandler&&(this._widget._instance.element.off("rowRightClick",this._rightClickHandler),this._rightClickHandler=null)},i.prototype.getExtension=function(n){var t=n;return this._commands=t.controlCommands,new o.RightClickableRowExtension},i.prototype.initializeExtension=function(){var n=this;this._widget._instance.element.on("rowRightClick",this._rightClickHandler=function(t,i){return n._triggerRightClickEvent(t,i)})},i.prototype.getName=function(){return"RightClickableRow"},i.prototype.getOrder=function(){return 1},i.prototype.
getDependencies=function(){return[new u.SelectableRowExtension]},i.prototype._triggerRightClickEvent=function(n,i){var f=this._widget.options,e=f.selectableData,r=i.rowMetadata,u;return!!r&&!!r.item?(this._updateSelectionFollowingRightClick(r),r.disabled()||this._widget._extensionTrigger("shouldHideContextMenu",r).some(function(n){return!!n}))?!1:(u=t.Event(l.fxrightclick),u.clientX=i.clientX,u.clientY=i.clientY,t(n.target).trigger(u,this._getCommandRightClickEventArgs(e,r.item)),n.preventDefault(),n.stopPropagation(),!0):!1},i.prototype._updateSelectionFollowingRightClick=function(n){var i;if(!n.selected()){var t=this._widget,u=t.options,r=u.selectableData.selectableItems();r.forEach(function(n){n.isSelected(!1)});i=r.first(function(i){return!t.getRowMetadata(i.data).disabled()&&i.data===n.item});i&&(i.isSelected(!0),t._instance.getPlugin(s.FocusableRowExtension.Name).focusRowByRowMetadata(n))}},i.prototype._getCommandRightClickEventArgs=function(n,i){var u=this._widget,y=n.selectableItems(
).filter(function(n){return n.isSelected()}),a=y.map(function(n){return n.data}),e=a[0],v=u.getRowMetadata(i),o,l,r;if(e){var s=h(e.commandGroup),c=h(e.commandGroupOwner),p=a.some(function(n){return h(n.commandGroup)!==s||h(n.commandGroupOwner)!==c});p&&(s=null,c=null)}return o={selectableSet:n,deleteRowCommandTitle:null,markForDelete:null},u._extensionTrigger("enableRowDelete",v).some(function(n){return!!n})&&u._extensionTrigger("getListDataForRightClick",v).forEach(function(n){t.extend(o,n)}),l={entityType:f.ContextMenuEntityType.List,commandGroup:s,commandGroupOwner:c,viewModel:i,listData:o},r=this._commands&&this._commands(),r&&r.length&&t.extend(l,{controlCommands:r}),l},i}(e.GridExtension);n.RightClickableRowExtension=c;r.registerPlugin(y.Extensions.RightClickableRow,c)}(h||(h={})),h});define("_generated/Less/Viva.Controls/Controls/Lists/Viva.Grid1.ContextMenuShortcut.css",["require","exports","module"],function(n,t,i){"use strict";window.fx.injectCss(i,".azc-grid-contextMenuShortcut .azc-grid-contextMenuShortcut-col{width:32px}.azc-grid-contextMenuShortcut table tbody tr:not([aria-disabled=true]) td.azc-grid-contextMenuShortcut-cell{padding:0 4px 0 0;text-align:center}.azc-grid-contextMenuShortcut table tbody tr:not([aria-disabled=true]) td.azc-grid-contextMenuShortcut-cell a{width:100%;height:28px;font-size:23px;margin-right:2px;text-decoration:none;line-height:14px}.azc-grid-contextMenuShortcut table tbody .azc-row-disabled .azc-grid-contextMenuShortcut-cell a{display:none}")}
);define("Viva.Controls/Controls/Lists/Grid1/Viva.Grid1.ContextMenuShortcut",["require","exports","f","MsPortalImpl/Resources/ImplScriptResources","./Viva.Grid1.SelectableRow","../../../Util/Viva.Util","./Viva.Grid1","../../../../_generated/Less/Viva.Controls/Controls/Lists/Viva.Grid1.ContextMenuShortcut.css"],function(n,t,i,r,u,f,e){"use strict";var o;return function(n){var v=i,o=jQuery,k=window,s="azc-grid-contextMenuShortcut-cell",t="tbody tr[data-grid-selectable=true]:not([aria-disabled=true]) .azc-grid-contextMenuShortcut-cell a",y='attr: { "data-grid-contextmenushortcut": true }',p="<col class='azc-grid-contextMenuShortcut-col' />",w="<th class='azc-grid-contextMenuShortcut-header'><\/th>",h="<td class='"+s+" azc-br-muted'><a class='msportalfx-inherit-color' href=\"\" role='button' title='"+r.ContextMenu.ariaLabel+"' aria-label='"+r.ContextMenu.ariaLabel+"'>&#8230<\/a><\/td>",c="azcGridContextMenuShortcut",l="click."+c,a="keydown."+c,d=i.forEachKey,b=function(n){function i(t){n.call(
this);this._options=t||{}}return __extends(i,n),Object.defineProperty(i.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),i.prototype.afterSetTemplates=function(n){var t=n.getHtmlTemplate("bodyRowsCore"),r=n.getHtmlTemplate("header"),u=n.getHtmlTemplate("colgroup"),i=n.getHtmlTemplate("editableBodyRowsCorePerColumn");t.addAttribute("tr","data-bind",y);t.append("tr",h);r.append("tr",w);u.append("colgroup",p);v.isNullOrUndefined(i)||i.append("tr",h)},i.prototype.afterAttachEvents=function(){var e=this,i=this._widget,r=function(n){var r=o(this),u=r.offset(),e=r.closest("tr")[0],s={rowMetadata:ko.dataFor(e),clientX:u.left,clientY:u.top},t="rowContextMenuShortcutClick";i.trigger(t,f.cloneEvent(n,t),s,e);i.options.events(t,s);n.preventDefault()},n=i.element,u;n.on(l,t,r);u=function(n){n.which===32&&r(n)};n.on(a,t,u);this._detachEvents=function(){e._detachEvents=null;n.off(l,t,r);n.off(a,t,u)}},i.prototype.getOrder=function(){return 40},i.prototype.getDependencies=
function(){return[new u.SelectableRowExtension]},i.prototype.beforeDestroy=function(){this._detachEvents&&this._detachEvents()},i.prototype.getName=function(){return i.Name},i.prototype.shouldNotChangeSelection=function(n,t){var i=o(t.target),r=i.closest("tr").attr("aria-selected")==="true",u=!!i.closest("."+s).length;return r&&u?!0:!1},i.prototype.getAdditionalColumns=function(){return 1},i.Name="azc-grid-contextMenuShortcut",i}(e.Extension);n.ContextMenuShortcutExtension=b}(o||(o={})),o});define("MsPortalImpl.Controls/Controls/Lists/Grid1/Grid1.ContextMenuShortcut",["require","exports","f","./Grid1.Extensibility","./Grid1.RightClickableRow","./Grid1.Impl","Viva.Controls/Controls/Lists/Grid1/Viva.Grid1.ContextMenuShortcut"],function(n,t,i,r,u,f,e){"use strict";var o;return function(n){var o=i.ViewModels.Controls.Lists.Grid,s=window,h=jQuery,t=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.beforeDestroy=function(){this._onClick&&(this._widget._instance.
element.off("rowContextMenuShortcutClick",this._onClick),this._onClick=null)},t.prototype.getExtension=function(){return new e.ContextMenuShortcutExtension},t.prototype.initializeExtension=function(){var n=this;this._widget._instance.element.on("rowContextMenuShortcutClick",this._onClick=function(t,i){var r=n._widget.getPlugin("RightClickableRow");return r?r._triggerRightClickEvent(t,i):!1})},t.prototype.getName=function(){return"ContextMenuShortcut"},t.prototype.getOrder=function(){return 1},t.prototype.getDependencies=function(){return[new u.RightClickableRowExtension]},t}(f.GridExtension);n.ContextMenuShortcutExtension=t;r.registerPlugin(o.Extensions.ContextMenuShortcut,t)}(o||(o={})),o});define("MsPortalImpl/Controls/Helpers/Validation",["require","exports","f","Viva.Controls/Controls/Base/Viva.Validators"],function(n,t,i,r){"use strict";var u;return function(n){function o(n){var i,u;switch(n.type){case t.Invalid:i=new r.Invalid(n);break;case t.RegExMatch:i=new r.Match(n);break;case
t.NotRegExMatch:i=new r.NotMatch(n);break;case t.Contains:i=new r.Contains(n);break;case t.NotContains:i=new r.NotContains(n);break;case t.ContainsCharacters:i=new r.ContainsCharacters(n);break;case t.NotContainsCharacters:i=new r.NotContainsCharacters(n);break;case t.HasDigit:i=new r.HasDigit(n);break;case t.HasLetter:i=new r.HasLetter(n);break;case t.HasUpperCaseLetter:i=new r.HasUpperCaseLetter(n);break;case t.HasLowerCaseLetter:i=new r.HasLowerCaseLetter(n);break;case t.HasPunctuation:i=new r.HasPunctuation(n);break;case t.Equals:i=new r.Equals(n);break;case t.CaseInsensitiveComparison:i=new r.CaseInsensitiveComparison(n);break;case t.LocaleAwareCaseInsensitiveComparison:i=new r.LocaleAwareCaseInsensitiveComparison(n);break;case t.LengthRange:i=new r.LengthRange(n);break;case t.MinLength:i=new r.MinLength(n);break;case t.MaxLength:i=new r.MaxLength(n);break;case t.Required:i=new r.Required(n);break;case t.Numeric:i=new r.Numeric(n);break;case t.Range:i=new r.ValueRange(n);break;case
t.MinValue:i=new r.MinValue(n);break;case t.MaxValue:i=new r.MaxValue(n);break;case t.Custom:u=f.getMetadataId(n);i=new r.CustomAsyncValidator(n,u);break;case t.Uri:i=new r.Uri(n)}return i&&n.isEmptyValid&&(i.isEmptyValid=n.isEmptyValid),i}function s(n,t){for(var i,r=n.validators(),u=0;u<t.length;u++)for(i=0;i<r.length;i++)if(t[u]===r[i].fxViewModel){r.splice(i,1);break}n.validators(r)}var u=i.Base,f=u.ProxiedObservables.Internal,e=i.ViewModels,t=e.FormValidationType,h=window,c=jQuery;n.convertValidation=o;n.removeValidations=s}(u||(u={})),u});define("_generated/Less/MsPortalImpl.Controls/Fields/Fields.css",["require","exports","module"],function(n,t,i){"use strict";window.fx.injectCss(i,".fxs-bladestyle-context .azc-form-labelcontainer,.fxs-hubPane .azc-form-labelcontainer{color:#fff}.azc-checkBoxField.azc-checkBoxField-inlineLabel div.azc-checkBox{display:inline-block;width:auto;vertical-align:middle}div.azc-oauthButton-invalid.azc-button{border:2px solid #e81123}.azc-checkBoxField-inlineLabel .azc-form-labelcontainer,.azc-oAuthButton-hidden-textbox{display:none}.azc-checkBoxField-inlineLabel .azc-text-label{margin-left:6px}.azc-checkBoxField-inlineLabel label{line-height:16px;max-width:100%}.azc-checkBoxField-inlineLabelContainer{display:inline-block;vertical-align:middle}.fxc-CheckBoxField .azc-formElementSubLabelContainer{min-height:17px}.fxc-hide-check .azc-validatableControl-valid-validated div.azc-dockedballoon-anchor{display:none}")}
);define("MsPortalImpl.Controls/Fields/Base/Field",["require","exports","f","./FormValidation","./LabelAndBalloonWidget","../../Controls/Base/Loadable","../../../MsPortalImpl/Base/Telemetry","MsPortalImpl/Controls/Helpers/Validation","../../../_generated/Less/MsPortalImpl.Controls/Fields/Fields.css"],function(n,t,i,r,u,f,e,o){"use strict";var s;return function(t){var h=i.Base,c=h.EventTypes,l=h.Diagnostics,d=l.Telemetry,g=window,a=jQuery,ut=l.createLog(n),nt="azc-input",v="msportalfx-form-formelement",tt="azc-formElementSubLabelContainer",it="azc-formElementContainer",s="fxc-hide-check",y="aria-labelledby",p="aria-describedby",w="aria-required",b="focusin.focusTelemetry",k="focusout.focusTelemetry",rt=function(n){function t(t,i,r){var f=this,u;n.call(this,t,i,r);this._disposables=[];u=this.options;this._validationMessages=ko.observableArray([]);u._msPortalFxClearValidation(function(){return f._clearValidation()});u._msPortalFxTriggerValidation(function(){return f.triggerValidation()});
this.valid=u.valid;this._initializeWidgets();this._attachTelemetryEvents()}return __extends(t,n),t.prototype._initializeField=function(){this.element.addClass(v);this._widgetInstances=[];this._createContent()},t.prototype._initializeWidgets=function(){var t=this,n;this._labelHelper=new u.LabelAndBalloonWidgetHelper(this.lifetimeManager,this.options);this._required=this._labelHelper.required;this._initializeField();ko.isObservable(this.options.hideValidationCheck)?(n=this.options.hideValidationCheck,n.subscribe(this.lifetimeManager,function(n){t.element.toggleClass(s,n)}).callback(n())):this.element.toggleClass(s,this.options.hideValidationCheck);this._createLabelAndSubLabel();r.markFormFieldElement(this.element[0],this.options,this.validatableViewModel,this)},t.prototype.dispose=function(){if(!this._checkExistsOrRegisterDestroyId(n.prototype.dispose)){this._widgetInstances=null;var t=this.element;t.removeClass(v);t.removeClass(s);this._container&&this._container.remove();this._disposeOfTelementryEvents(
);i.disposeDisposable(this._disposables);this._disposables=[];n.prototype.dispose.call(this)}},Object.defineProperty(t.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validatableViewModel",{get:function(){return this._widgets[0].validatableViewModel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validatableWidget",{get:function(){return null},enumerable:!0,configurable:!0}),t.prototype.getPerformValidationFromViewModel=function(){return this.options.performValidation()===null||this.options.performValidation()},t.prototype.addValidations=function(){var n=this;this.options.validations().forEach(function(t){var i=o.convertValidation(t);i&&n.validatableViewModel.validators.push(i)})},t.prototype.removeValidations=function(n){o.removeValidations(this.validatableViewModel,n)},t.prototype.linkValidatableControlViewModels=function(){var i=this,n=this.validatableViewModel,t=this.options;this.linkFieldViewModels(
);n.valid.subscribe(this.lifetimeManager,function(i){n.validators().some(function(n){return!n.valid()});t.valid(i)});this.addValidations();t.validations.subscribeArrayEdits(this.lifetimeManager,function(t){var r=[],u=[];t.forEach(function(n){if(n.status==="added"){var t=o.convertValidation(n.value);t&&u.push(t)}else n.status==="deleted"&&r.push(n.value)});n.validators(n.validators().concat(u));r.length>0&&i.removeValidations(r)});n.enableValidation=t.enableValidation;n.enableValidation.subscribe(this.lifetimeManager,function(t){t||n.validators().forEach(function(n){n.validationState(0)})})},t.prototype.validateField=function(n){this.getPerformValidationFromViewModel()&&(this.validatableViewModel.enableValidation()?this.validatableWidget.validate(n):(this.validatableViewModel.enableValidation(!0),this.validatableWidget.validate(!0)))},t.prototype.setupValidationBindings=function(){var t=this,i=this.options,r=this.validatableWidget,n;i.validate.subscribe(this.lifetimeManager,function(){t.
validateField(!0)});i.ensureValidation.subscribe(this.lifetimeManager,function(){t.validateField()});n=i.performValidation;n.subscribe(this.lifetimeManager,function(i){n()!==null&&(t.validatableViewModel.enableValidation(i),i&&r&&r.validate(!0))}).callback(n())},t.prototype.linkFieldViewModels=function(){var n=this.options,t=this.validatableViewModel;n.enabled.subscribe(this.lifetimeManager,function(n){t.disabled(!n)}).callback(n.enabled());t.loading=n.loading;t.dirty=n.dirty},t.prototype.appendControl=function(n){this._container.append(n);var t=this.lifetimeManager;return this},t.prototype.triggerValidation=function(){var e=this,t=[],u=this.validatableViewModel,r;if(u){this.validateField(!0);var i=!0,f=1,n=2;u.validators().forEach(function(r){var u=r.validationState(),o,s;u===3?(o=Q.defer(),t.push(o.promise),s=e.lifetimeManager.createChildLifetime(),r.validationState.subscribe(s,function(t){(t===f||t===n)&&(o.resolve(t===n),s.dispose())})):(u===f||u===n)&&(i=i&&u===n)});t.push(Q(i))}return r=
Q.defer(),Q.all(t).then(function(n){r.resolve(!n.some(function(n){return!n}))}),r.promise},t.prototype._getLabelId=function(){return this._labelHelper.labelId},t.prototype._getBalloonId=function(){return this._labelHelper.balloonId},t.prototype._addWidget=function(n){n&&this._widgetInstances.push(n)},t.prototype._createContent=function(){this._createControlsContainer()},t.prototype._createControlsContainer=function(){this._container=a("<div/>").addClass(it);this._labelHelper.appendWidgetToDom(this.element,this._container);this._container.toggleClass(tt,!this.options.subLabel)},t.prototype._createLabelAndSubLabel=function(){this._attachLabelAndSubLabel()},t.prototype._attachLabelAndSubLabel=function(n){var t,r,i,u;n===void 0&&(n={});t=this._labelHelper;r=this._container;n.inhibitLabel||t.insertLabelBefore(n.insertLabelBefore||r,n);t.insertValidationMessageBelowControlAfter(r,n.showValidationMessagesBelowControl,this._validationMessages);n.inhibitSubLabel||t.insertSubLabelAfter(n.insertSubLabelAfter||
r);i=this.element.find("."+nt);u=n.toAriaLabel||i;u.attr(y,(i.attr(y)||"")+" "+t.labelId);u.attr(p,(i.attr(p)||"")+" "+t.balloonId);var o=this.lifetimeManager,f=this._required,e=this.options.valid;f&&f.subscribe(o,function(n){n?i.attr(w,n):i.removeAttr(w)}).callback(f());e&&e.subscribe(o,function(n){return i.attr("aria-invalid",!n)}).callback(e());this._disposables.push(i.setEvents([c.keydown,function(n){if(n.keyCode===112)return t.toggleBalloon(),!1;n.keyCode===27&&t.toggleBalloon(!1)}],[c.focusout,function(){g.setTimeout(function(){a.contains(i[0],document.activeElement)||t.toggleBalloon(!1)})}]))},t.prototype._clearValidation=function(){var n=this.validatableViewModel;return n&&n.validators().forEach(function(n){n.validationState(0)}),Q()},t.prototype._attachTelemetryEvents=function(){var t=this.options,n,i;if(t.telemetryKeys&&t.telemetryKeys.focus){n=this.element;i=function(i){n.has(i.relatedTarget).length===0&&d.trace({source:e.Source.FormControl,action:e.Action.FormFocused,actionModifier:
t.telemetryKeys.focus})};n.on(b,i);n.on(k,i)}},t.prototype._disposeOfTelementryEvents=function(){var n=this.element;n.off(b);n.off(k)},t}(f.Widget);t.FieldWidget=rt}(s||(s={})),s});define("MsPortalImpl.Controls/Fields/TextField",["require","exports","./Base/Field","Viva.Controls/Controls/Forms/Viva.TextBox","Viva.Controls/Controls/Base/ValidationPlacements/Viva.Css","Viva.Controls/Controls/Base/ValidationPlacements/Viva.DockedBalloon","../Controls/Lists/Base/Controls.Lists.ActionHandler"],function(n,t,i,r,u,f,e){"use strict";var o;return function(n){var l=window,h=jQuery,t=ko.utils,o="azc-textField",s="fxc-TextField",c=function(n){function i(t,i,r){n.call(this,t,i,r)}return __extends(i,n),i.prototype._initializeField=function(){n.prototype._initializeField.call(this);this.element.addClass(o).addClass(s);this.textFieldInit()},i.prototype.dispose=function(){this._textBoxWidget&&(this._textBoxWidget.dispose(),this._textBoxWidget=null,this._textBoxViewModel=null);this._cleanElement(o,s);n.
prototype.dispose.call(this)},Object.defineProperty(i.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"validatableViewModel",{get:function(){return this._textBoxViewModel},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"validatableWidget",{get:function(){return this._textBoxWidget},enumerable:!0,configurable:!0}),i.prototype.textFieldInit=function(){var i=this,l,n=new r.ViewModel,c,a;n.events={};n.showValidationMessagesBelowControl=this.options.showValidationMessagesBelowControl;var o=n.events,v=n.validationPlacements,s=this.options.actionHandler;this._textBoxViewModel=n;c=this.options.actionsEnabled;a=this.lifetimeManager;v.push(new u.Css);v.push(new f.DockedBalloon(f.DockedBalloon.defaultOptions));n.validators.filter(function(n){return!n.valid()&&!!n.message()}).map(function(n){return n.message()}).subscribeAndRun(a,this._validationMessages);s&&(this._actionHandler=e.getOrCreateActionHandler(
ko.unwrap(s)),ko.isObservable(s)&&s.subscribe(this.lifetimeManager,function(n){i._actionHandler=e.getOrCreateActionHandler(n)}),o.enterPressed=function(){var n=i._actionHandler();n&&t.unwrapObservable(c)&&n.activateFirstItem()},o.downPressed=function(){var n=i._actionHandler();n&&t.unwrapObservable(c)&&n.focusFirstItem()},o.focus=function(){var n=i._actionHandler();n&&t.unwrapObservable(c)&&n.pseudoFocusFirstItem()},o.blur=function(){var n=i._actionHandler();n&&n.pseudoBlurFirstItem()},this._actionHandler.subscribe(a,function(t){t&&n.focused()&&t.pseudoFocusFirstItem()}));l=h("<div />");this.appendControl(l);this.linkTextBoxViewModels();this._textBoxWidget=new r.Widget(l,n);this._addWidget(this._textBoxWidget);this.setupValidationBindings()},i.prototype.linkTextBoxViewModels=function(){var n=this._textBoxViewModel;n.value=this.options.value;n.placeholder(this.options.emptyValueText());this.options.emptyValueText.subscribe(this.lifetimeManager,function(t){n.placeholder(t)});n.valueUpdateTrigger=
this.options.valueUpdateTrigger;this._textBoxViewModel.readonly=t.wrap(this.options.readonly);this.linkValidatableControlViewModels()},i}(i.FieldWidget);n.Widget=c}(o||(o={})),o});define("MsPortalImpl.Controls/Controls/Lists/Grid1/Grid1.EditableRow",["require","exports","f","./Grid1.Extensibility","./Grid1.FocusableRow","../../../Fields/Base/FormValidation","./Grid1.Impl","Viva.Controls/Controls/Lists/Grid1/Viva.Grid1.EditableRow","../../../Fields/TextField"],function(n,t,i,r,u,f,e,o){"use strict";var s;return function(n){function p(n){switch(n){case t.Created:return 1;case t.Deleted:return 3;case t.Updated:return 2;case t.None:default:return 0}}function b(n,t){return n===t||n&&t&&n[h]&&n[h]===t[h]}var k=i.Base,d=k.Diagnostics,t=i.Data.EditState,g=i.ViewModels,s=g.Controls.Lists.Grid,l=s.EditableRowPlacement,nt=s.Format,tt=s.HtmlBindingsType,a=i.isUndefined,v=ko.utils,it=new d.Log("ImplGrid.EditableRowExtension"),y=o.EditableRowExtension.Name,w,h,c;n.getVivaEditableRowState=p,function(
n){n[n.Hold=0]="Hold";n[n.Release=1]="Release"}(w||(w={}));h="__gridGuid";c=function(n){function i(){n.apply(this,arguments);this._creatingEmptyRow=!1}return __extends(i,n),i.prototype.beforeDestroy=function(){var n=this._detach;n&&n()},i.prototype.getExtension=function(n){var i=n,t=i.editableRow||{},r=t.placement,u={placement:r,automaticRowChangeEventListener:!0,allowEditExistingItems:!!t.allowEditExistingItems,allowEditCreatedItems:!!t.allowEditCreatedItems};return this._editableExtn=new o.EditableRowExtension(u)},i.prototype.initializeExtension=function(){var u=this,f=this._widget,e=f.lifetimeManager,n=f.options,o=f._instance,t=o.getPlugin(y),d=n.extensionsOptions,i=d.editableRow,r=t.createdItems,s=this._ensureValidation.bind(this),w={rowAdd:function(i,r){r.preventExitEditing();s(r.targets,t,function(){n.rowAdd&&n.rowAdd(i,r);r.editableRow.rowMetadata.editing(!1)})},rowEdit:function(f,e){var h=e.editableRow,o=h.rowMetadata,c;o.emptyRow(!1);h.existingItem||(c=n.createdItems().some(function(
n){return b(n,o.item)}),c||i.addCreated(o.item));s(null,t);i.placement===l.Bottom&&r().length<ko.unwrap(i.maxBufferedRows)&&u._ensureNewRow(t)}},k=o.element,h,c,p;k.on(w);this._detach=function(){u._detach=null;k.off(w)};h=i.validate;h&&h.subscribe(e,function(){s(f.element,t)});c=function(){var t=n.addEmptyRow(),i;t&&(i=o.getRowMetadata(t),i.editing(!0),i.emptyRow(!0),r.push(t))};v.arrayPushAll(r,n.createdItems());c();n.addEmptyRow.subscribe(e,function(){c()});n.createdItems.subscribeArrayEdits(e,function(n){if(n=v.adjustArrayEdits(n),n.length){var e=r(),s=!1;r.valueWillMutate();n.forEach(function(n){var i=!a(n.moved),r,u,t;switch(n.status){case"added":r=e.some(function(t){return b(t,n.value)});(i||!r)&&e.splice(n.index,0,n.value);break;case"deleted":u=e.splice(n.index,1)[0];i||(s=!0,t=o.getRowMetadata(u),t.editing(!1),t.editState(0))}});r.valueHasMutated();s&&(e.length<ko.unwrap(i.maxBufferedRows)&&u._ensureNewRow(t),u._ensureValidation(f.element,t))}});p=i.maxBufferedRows;ko.isObservable(
p)&&p.subscribe(e,function(){return u._onMaxBufRowsChange()})},i.prototype.getName=function(){return"EditableRow"},i.prototype.getOrder=function(){return 1},i.prototype.getDependencies=function(){return[new u.FocusableRowExtension]},i.prototype.columnAdded=function(n,t){var r=this._widget,i,u=n.editableFormat;a(u)?(it.verbose("The EditableRowExtension was loaded but no editable format was specified. Using the default."),i=r._getFormatter(nt.HtmlBindings,{htmlBindingsType:tt.TextBox})):i=r._getFormatter(u,n.editableFormatOptions||{});t.editableFormatter=i},i.prototype.columnRemoved=function(){},i.prototype.connectRowMetadataProperties=function(n,i,r){var u=this,f=[];return f.push(ko.computed(function(){var n=r.editState();ko.ignoreDependencies(function(){var r=p(n);i.editState(r);i.editing(n===t.Created||n===t.Updated);r===3&&u._ensureValidation(u._widget.element,u._widget._instance.getPlugin(o.EditableRowExtension.Name))})})),f},i.prototype.getAdditionalItems=function(){return this._editableExtn.
createdItems()},i.prototype.registerSubscriptionsToConnectMetadataProperties=function(n,t){var i=this;return this._editableExtn.createdItems.subscribe(function(){i._widget._connectMetadataAndDisposeSubscriptions(n,t)})},i.prototype.enableRowDelete=function(){var n=this._widget.options.extensionsOptions;return n.editableRow.enableRowDelete!==!1},i.prototype.shouldHideContextMenu=function(n){return n.item===this._getEmptyRowItem()},i.prototype.getListDataForRightClick=function(){var n={},i=this._widget.options.extensionsOptions,t=i.editableRow;return n.deleteRowCommandTitle=t.deleteRowCommandTitle,n.markForDelete=function(n){t.markForDelete(n)},n},i.prototype._ensureValidation=function(n,i,r){var e=this,u=this._widget.options.extensionsOptions;n&&(f.gatherFormFieldViewModels(n).forEach(function(n){var i=n.rowMetadata;i.editState&&i.editState()!==t.None&&n.performValidation()!==null&&n.performValidation(!0)}),r&&f.ensureFormFieldValidation(n,!1).then(function(n){if(n){r();var t=u.editableRow;
t.placement===l.Top&&i.createdItems().length<ko.unwrap(t.maxBufferedRows)&&e._ensureNewRow(i)}}));f.ensureFormFieldValidation(this._widget.element,!1).then(function(n){var t=u.editableRow;t.valid&&t.valid(n)})},i.prototype._getEmptyRowItem=function(){var n=this;return this._editableExtn.createdItems().first(function(i){return n._widget.getRowMetadata(i).editState()===t.None})},i.prototype._ensureNewRow=function(n){var i=this,t;if(!this._creatingEmptyRow){if(t=this._widget.options.extensionsOptions,t.editableRow.enableRowAdd===!1)return;this._emptyNewRowExists(n)||(this._creatingEmptyRow=!0,t.editableRow.create().finally(function(){i._creatingEmptyRow=!1}))}},i.prototype._emptyNewRowExists=function(n){var t=this;return n.createdItems().some(function(n){var i=t._widget._instance.getRowMetadata(n);return i.emptyRow()})},i.prototype._onMaxBufRowsChange=function(){var i=this._widget,f=i.options.extensionsOptions.editableRow,r=f.maxBufferedRows(),n=i._instance.getPlugin(y),t=n.createdItems().
length,u=this._emptyNewRowExists(n);t<r&&!u?this._ensureNewRow(n):t>r&&u&&n.createdItems.splice(t-1,1)},i}(e.GridExtension);n.EditableRowExtension=c;r.registerPlugin(s.Extensions.EditableRow,c)}(s||(s={})),s});define("_generated/Less/Viva.Controls/Controls/Forms/Viva.SearchBox.css",["require","exports","module"],function(n,t,i){"use strict";window.fx.injectCss(i,'.azc-searchBox{position:relative;display:inline-block;font-size:12px;padding-right:30px;height:23px;font-family:az_ea_font,wf_segoe-ui_normal,"Segoe UI","Segoe WP",Tahoma,Arial,sans-serif}.azc-searchBox.azc-searchBox-button-state-hidden .azc-button,.azc-searchBox.azc-searchBox-state-hidden{display:none}.azc-searchBox ::-ms-clear{display:none}.azc-searchBox.azc-searchBox-button-state-hidden{padding-right:0}.azc-searchBox .azc-button{height:23px;width:23px;min-width:23px;font-size:16px;line-height:normal;vertical-align:top;margin-left:0;padding:0;border:none;top:0;position:absolute}.azc-searchBox .azc-button .azc-searchBox-button-icon{position:absolute;top:-1px;left:6px}.azc-searchBox-wrapper{width:100%;height:100%;position:relative;float:left;padding:0}.azc-searchBox-wrapper .azc-searchBox-input{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:100%}.azc-searchBox-wrapper .azc-searchBox-input .azc-textBox-wrapper{padding-right:0;width:100%}.azc-searchBox-wrapper .azc-searchBox-input .azc-textBox-wrapper input{display:inline-block;padding-right:0}.azc-searchBox-search-icon{position:absolute;width:14px;height:14px;opacity:.3;top:4px;left:6px;pointer-events:none;display:none}.azc-searchBox-search-icon-visible .azc-searchBox-search-icon{display:block}.azc-searchBox-search-icon-visible .azc-textBox-wrapper input{padding-left:24px}')}
);define("Viva.Controls/Controls/Forms/Viva.SearchBox",["require","exports","../Base/Viva.ValueUpdateTrigger","./Viva.TextBox","./Viva.Button","../Base/Viva.Base","../Base/Viva.ValidatableControl","MsPortalImpl/Base/Base.KeyboardHelper","MsPortalImpl/Generated/SvgStartupDefinitions","../../../_generated/Less/Viva.Controls/Controls/Forms/Viva.SearchBox.css"],function(n,t,i,r,u,f,e,o,s){"use strict";var h;return function(n){var p=s.Content.SvgStartup,g=window,c=jQuery,h="azc-searchBox",w="azc-searchBox-state-hover",a="azc-searchBox-state-hidden",v="azc-searchBox-button-state-hidden",b="__azc-searchBox",k="<div class='azc-searchBox-wrapper' data-bind='css: { \"azc-searchBox-search-icon-visible\": data.searchIconVisible }'><div class='azc-searchBox-search-icon msportalfx-svg-flip-horizontal'>"+p.search.data+"<\/div><div class='azc-searchBox-input' data-bind='azcTextBox: $ctl._textBoxViewModel'><\/div><\/div><button data-bind='azcButton: $ctl._buttonViewModel'><div class='azc-searchBox-button-icon'>&times;<\/div><\/button>",
t=ko.observable,d=0,y=function(n){function i(){n.apply(this,arguments);this.queryString=t("");this.visible=t(!0);this.closeButtonVisible=t(!0);this.searchIconVisible=t(!0);this.placeholder=t("Search...")}return __extends(i,n),i}(e.ViewModel),l;n.ViewModel=y;l=function(n){function t(t,f,e){n.call(this,t,f,c.extend({viewModelType:y},e));this.element.addClass(h).html(k);this._name=this.options.name||b+d++;this._button=this.element.find("button");this._input=this.element.find(".azc-searchBox-input");this.options.keyDownEvent=this.options.keyDownEvent||c.noop;this._textBoxViewModel=new r.ViewModel;this._textBoxViewModel.value=this.options.queryString;this._textBoxViewModel.valueUpdateTrigger=i.ValueUpdateTrigger.Input;this._textBoxViewModel.placeholder=this.options.placeholder;this._buttonViewModel=new u.ViewModel;this._buttonViewModel.isDefault(!0);this._buttonViewModel.visible=this.options.closeButtonVisible;this._attachEvents();this._initializeComputeds();this._bindDescendants();this._afterCreate(
)}return __extends(t,n),t.prototype.dispose=function(){this._checkExistsOrRegisterDestroyId(n.prototype.dispose)||(this._detachEvents(),this._cleanElement(h,w,a,v),n.prototype.dispose.call(this))},Object.defineProperty(t.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),t.prototype._getElementToFocus=function(){var n=this.element.find("input");return n.length>0?n[0]:null},t.prototype._initializeComputeds=function(){var n=this;this._addDisposablesToCleanUp(ko.computed(function(){var t=n.options.disabled(),i=n.options.dirty();n._buttonViewModel.disabled(t);n._textBoxViewModel.disabled(t);n._textBoxViewModel.dirty(i)}));this._addDisposablesToCleanUp(ko.computed(function(){n.element.toggleClass(a,!n.options.visible())}));this._addDisposablesToCleanUp(ko.computed(function(){n.element.toggleClass(v,!n.options.closeButtonVisible())}))},t.prototype._attachEvents=function(){var n=this;this._detachEvents();this._buttonClickHandler=function(){n.options.queryString(
"");n.options.visible(!1)};this._inputKeyDownHandler=function(t){c.contains(n._input[0],document.activeElement)&&(o.getModifierKeys(t)===0&&t.which===27&&(n.options.queryString(""),t.preventDefault()),n.options.keyDownEvent(t))};this._button.on("click."+h,this._buttonClickHandler);this.element.on("keydown.azcSearchBox",this._inputKeyDownHandler)},t.prototype._detachEvents=function(){this._buttonClickHandler&&(this._button.off("click."+h,this._buttonClickHandler),this._buttonClickHandler=null);this._inputKeyDownHandler&&(this.element.off("keydown.azcSearchBox",this._inputKeyDownHandler),this._inputKeyDownHandler=null)},t}(e.Widget);n.Widget=l;ko.bindingHandlers.azcSearchBox=f.Widget.getBindingHandler(l)}(h||(h={})),h});define("_generated/Less/Viva.Controls/Controls/Lists/Viva.Grid1.Filterable.css",["require","exports","module"],function(n,t,i){"use strict";window.fx.injectCss(i,".azc-grid-filterable.azc-grid.azc-grid-headerHidden:not(.azc-grid-groupable) .azc-grid-filterable-searchBox{margin-bottom:14px}.azc-grid-filterable.azc-grid.azc-grid-filterable-active .azc-grid-reorderRow-cell div{visibility:hidden}.azc-grid-filterable.azc-grid .azc-grid-filterable-searchBox{display:block}.azc-grid-filterable.azc-grid .azc-grid-filterable-searchBox.azc-searchBox-state-hidden{display:none}.azc-grid-filterable.azc-grid .azc-grid-filterable-match{font-style:normal}")}
);define("Viva.Controls/Controls/Lists/Grid1/Viva.Grid1.Filterable",["require","exports","f","./Viva.Grid1.FocusableRow","./Viva.Grid1.Formatters","./Viva.Grid1","MsPortalImpl/Resources/ImplScriptResources","MsPortalImpl/Base/Base.KeyboardHelper","../../Forms/Viva.SearchBox","../../../../_generated/Less/Viva.Controls/Controls/Lists/Viva.Grid1.Filterable.css"],function(n,t,i,r,u,f,e,o,s){"use strict";var h;return function(n){var p=i.Util,c=jQuery,l=window,w=300,b=" ",a="azc-grid-filterable-active",t="azc-grid-filterable",k="<div class='azc-grid-filterable-searchBox' data-bind='azcSearchBox: $ctl.getPlugin(\""+t+"\")._searchBoxVM'><\/div>",v="###EXISTING_TEMPLATE_BODY_CORE###",d='<!-- ko ifnot: $ctl.getPlugin("'+t+'").options.serverFilter() -->'+('<!-- ko if: $ctl.getPlugin("'+t+'").filterActive() -->')+('<!-- ko if: $ctl.getPlugin("'+t+'").results().length -->')+"<tbody class='azc-grid-groupdata' role='rowgroup'>"+("<!-- ko template: { name: 'bodyRows', foreach: $ctl.getPlugin(\""+t+'").results() } --><!-- /ko -->')+
"<\/tbody><!-- /ko -->"+('<!-- ko ifnot: $ctl.getPlugin("'+t+'").results().length -->')+"<!-- ko if: data.items().length --><tbody class='azc-grid-empty' data-bind='if: data.noRowsMessage'><tr><td class='azc-br-muted' data-bind='attr: { colspan: $ctl._getTotalColumns() }, html: data.noRowsMessage'><\/td><\/tr><\/tbody><!-- /ko --><!-- /ko --><!-- /ko --><!-- /ko -->"+('<!-- ko if: $ctl.getPlugin("'+t+'").options.serverFilter() || !$ctl.getPlugin("'+t+'").filterActive() -->')+v+"<!-- /ko -->",g="(['|\"]?)([\"|']?trustedHtml[\"|']?:)(.*),",nt="$1$2 "+('$ctl.getPlugin("'+t+'").filterActive() ')+('? $ctl.getPlugin("'+t+'")._filterableCellFormat($parentContext.$parentContext.$index, $index, $parent, $data) ')+": $3,",tt='<em class="azc-grid-filterable-match fxs-highlight">$&<\/em>',h=ko.observable,y=ko.observableArray,it=ko.computed,rt=function(n){function i(t){n.call(this);this._options=c.extend(this._getDefaultFilterableOptions(),t);this._results=y([]);this._filterActive=h(!1);this._displayedCols=
[];this._colMap={};this._colNumMap={};this._resultTokenMap={}}return __extends(i,n),Object.defineProperty(i.prototype,"filterActive",{get:function(){return this._filterActive},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"results",{get:function(){return this._results},enumerable:!0,configurable:!0}),i.prototype.afterSetTemplates=function(n){var u=n.getHtmlTemplate("table"),f=n.getTemplate("bodyCore"),e=d.replace(v,f),t=n.getTemplate("bodyCellContent"),i=new RegExp(g),r=t;t.match(i)&&(r=t.replace(i,nt));u.prepend(".azc-grid-container",k);n.setTemplate("bodyCore",e);n.setTemplate("bodyCellContent",r)},i.prototype.afterCreate=function(){var n=this,t=this._widget;[function(){n._searchBoxVM.visible(n._options.searchBoxVisible())},function(){var t=c.trim(n._searchBoxVM.queryString());n._queryTimeout&&l.clearTimeout(n._queryTimeout);n._queryTimeout=l.setTimeout(
function(){n._queryTimeout=null;n._resetResults();n._filterHandler(t)},n.options.valueUpdateDelayTimeout())},function(){var i=t.options.columns();n._colMap={};n._colNumMap={};i.forEach(function(t,i){n._colMap[t.itemKey]=t;n._colNumMap[t.itemKey]=i;n._displayedCols.push(t.itemKey)})},function(){t.element.toggleClass(a,n._filterActive())},function(){var i=t.options.items();n._filterActive.peek()&&n._results(n._getResultItems(n._parseQueryString(n._searchBoxVM.queryString.peek())))}].forEach(function(i){it(i,n,{disposeWhenNodeIsRemoved:t.element[0]})});t.lifetimeManager.registerForDispose(this.options.serverFilter.subscribe(function(){n._resetAndFilterResults(c.trim(n._searchBoxVM.queryString()))}))},i.prototype.beforeCreate=function(){var n=this;this._searchBoxVM=new s.ViewModel;this._searchBoxVM.queryString=this.options.queryString;this._searchBoxVM.closeButtonVisible=this.options.searchBoxCloseButtonVisible;this._searchBoxVM.placeholder=this.options.searchBoxPlaceholder;this._searchBoxVM.
keyDownEvent=function(t){var u=n._widget.getPlugin(r.FocusableRowExtension.Name),i=o.getModifierKeys(t);u&&t.which===9&&(i===0||i===4)&&u._focus(t);i===0&&t.which===13&&n._resetAndFilterResults(c.trim(n._searchBoxVM.queryString()))}},i.prototype.beforeDestroy=function(){this._widget.element.removeClass(a)},i.prototype.getDefaultRowMetadataProperties=function(){return{}},i.prototype.getName=function(){return i.Name},i.prototype.getOrder=function(){return 100},i.prototype.shouldNotAllowDrag=function(){return this._widget.element.hasClass(a)?!0:!1},i.prototype._parseQueryString=function(n){for(var i=n.split(b),t=0;t<i.length;t++)this._resultTokenMap[i[t]]=[];return i},i.prototype._resetAndFilterResults=function(n){this._queryTimeout&&(l.clearTimeout(this._queryTimeout),this._queryTimeout=null,this._resetResults());this._filterHandler(n)},i.prototype._filterHandler=function(n){this.options.serverFilter()&&this.options.filterCallback()?this.options.filterCallback()(n):n===""?this._filterActive(
!1):(this._filterActive(!0),this._results(this._getResultItems(this._parseQueryString(p.encodeHtml(n)))))},i.prototype._getResultItems=function(n){var t=this,o=this._getSearchableColumns(),r,s,h=[],u=[],i,f,e;return this._widget.options.items().forEach(function(c,l){for(u=[],f=0;f<o.length;f++)if(r=o[f],c.hasOwnProperty(r))for(s=t._getFormattedItemValue(c[r],{item:c,rowMetadata:t._widget.getRowMetadata(c),rowNumber:function(){return l},columnNumber:function(){return t._colNumMap[r]},column:t._colMap[r]}),e=0;e<n.length;e++)i=n[e],s.toLowerCase().indexOf(i.toLowerCase())!==-1&&(u.indexOf(i)===-1&&u.push(i),t._resultTokenMap[i].indexOf(c)===-1&&t._resultTokenMap[i].push(c));u.length===n.length&&h.push(c)}),h},i.prototype._filterableCellFormat=function(n,t,i,r){var o=i.item,s=r.itemKey,l=o[s],a={item:i.item,rowNumber:n,columnNumber:t,rowMetadata:i,column:r},f=this._getFormattedItemValue(l,a),v=this._getSearchableColumns(),h,u,e=[],c;for(u in this._resultTokenMap)h=this._resultTokenMap.hasOwnProperty(
u)&&this._resultTokenMap[u].indexOf(o)!==-1&&v.indexOf(s)!==-1,h&&e.push(this._regexStringEscape(u));return e.length&&(c="("+e.join("|")+")",f=this._highlightMatches(f,c)),f},i.prototype._highlightMatches=function(n,t){var i=n;return i.replace(new RegExp(t,"gi"),tt)},i.prototype._regexStringEscape=function(n){var t=new RegExp("([!\"#$%&'()*+,./:;<=>?@[\\]^`{|}~\\\\])","g");return n.replace(t,"\\$1")},i.prototype._getFormattedItemValue=function(n,t){var i,r;if(t.column&&t.column.filterFormatter)r=t.column.filterFormatter(n,t);else{i=ko.toJS(n);switch(typeof i){case"object":r=u.text(JSON.stringify(i),t);break;default:r=u.text(i,t)}}return r},i.prototype._getSearchableColumns=function(){return this.options.searchableColumns().length?this.options.searchableColumns():this._displayedCols},i.prototype._resetResults=function(){this._results.removeAll();this._resultTokenMap={}},i.prototype._getDefaultFilterableOptions=function(){return{searchableColumns:y([]),searchBoxVisible:h(!0),searchBoxPlaceholder:
h(e.Viva.Grid.Filterable.placeholder),searchBoxCloseButtonVisible:h(!0),queryString:h(""),serverFilter:h(!1),filterCallback:h(null),valueUpdateDelayTimeout:h(w)}},i.Name=t,i}(f.Extension);n.FilterableExtension=rt}(h||(h={})),h});define("MsPortalImpl.Controls/Controls/Lists/Grid1/Grid1.Filterable",["require","exports","f","./Grid1.Extensibility","./Grid1.Impl","MsPortalImpl/Resources/ImplScriptResources","Viva.Controls/Controls/Lists/Grid1/Viva.Grid1.Filterable"],function(n,t,i,r,u,f,e){"use strict";var o;return function(n){var s=i.ViewModels.Controls.Lists.Grid,h=300,t=ko.observable,c=ko.observableArray,o=function(n){function i(){n.apply(this,arguments)}return __extends(i,n),i.prototype.getExtension=function(n){var u=n,i=u&&u.filterable,r;return i&&(r={searchBoxCloseButtonVisible:i.searchBoxCloseButtonVisible||t(!0),searchBoxPlaceholder:i.searchBoxPlaceholder||t(f.Viva.Grid.Filterable.placeholder),searchBoxVisible:i.searchBoxVisible||t(!0),searchableColumns:i.searchableColumns||c([]),queryString:
i.queryString||t(""),serverFilter:i.serverFilter||t(!1),valueUpdateDelayTimeout:i.valueUpdateDelayTimeout||t(h)}),this._options=r,new e.FilterableExtension(r)},i.prototype.getName=function(){return"Filterable"},i.prototype.getOrder=function(){return 0},i.prototype.columnAdded=function(n,t){t.filterFormatter=null;var i=n.filterableFormat;i!==undefined&&(t.filterFormatter=this._widget._getFormatter(i,n.filterableFormatOptions||{}))},i}(u.GridExtension);n.FilterableExtension=o;r.registerPlugin(s.Extensions.Filterable,o)}(o||(o={})),o});define("Viva.Controls/Controls/Lists/Grid1/Viva.Grid1.FocusableRowHover",["require","exports","u","./Viva.Grid1.FocusableRow","../../../Util/Viva.Util","./Viva.Grid1"],function(n,t,i,r,u,f){"use strict";var e;return function(n){var i=MsPortalFx,h=jQuery,e=window,c='css: { "azc-external-hovered": $data === $ctl.getPlugin("azc-grid-hoverableRow")._hoveredRowMetadata() }',t=ko.observable,o=ko.unwrap,s=ko.dataFor,l=i.disposeDisposable,a=function(n){function f(i)
{n.call(this);this._disposables=[];this._options=i||{};this._hoverIDKey=this._options.hoverIDKey||t();this._hoveredID=this._options.hoveredID||t();this._hoveredRowMetadata=t(null);this._backupIdMax=0}return __extends(f,n),Object.defineProperty(f.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),f.prototype.beforeCreate=function(){this._focusableRowExtension=this._widget.getPlugin(r.FocusableRowExtension.Name);this._focusableRowExtension.externalHover=!0},f.prototype.afterSetTemplates=function(n){var t=n.getHtmlTemplate("bodyRowsCore");t.addAttribute("tr","data-bind",c)},f.prototype.getDefaultRowMetadataProperties=function(){return{hovered:t(!1)}},f.prototype.afterAttachEvents=function(){var t=this,n=this,i=this._widget.element;this._disposables.push(i.setEvents(["rowFocus.azcHovered",function(t,i){n._onRowFocus(t,i)}],["mouseenter.azcHovered","> .azc-grid-container .azc-grid-full > tbody > tr[role=row]:not([aria-disabled=true])",function(i){var r;
!t._preventMouseHandler&&i.currentTarget&&(r=s(i.currentTarget),n._hoveredRowMetadata(r))}],["mouseleave.azcHovered",function(){t._preventMouseHandler||n._hoveredRowMetadata(null)}],["focus.azcHovered",function(t){if(!n._hoveredRowMetadata()){var i;t.currentTarget&&(i=s(t.currentTarget),n._hoveredRowMetadata(i),n._focusedByEvent=!0)}}],["blur.azcHovered","tbody.azc-grid-groupdata",function(){n._focusedByEvent&&n._hoveredRowMetadata()&&(n._hoveredRowMetadata(null),n._focusedByEvent=!1)}]))},f.prototype.afterCreate=function(){var n=this,i,u=this,r,t;this._rebuildIdRowMetadaMap();t=this._widget;t.options.items.subscribeArrayChanges(t.lifetimeManager,function(u){r=o(u[n._hoverIDKey()]);r||(r=(n._backupIdMax++).toString());i=t.getRowMetadata(u);i.hoverID=r;n._idRowMetadataMap[r]=i},function(r){i=t.getRowMetadata(r);delete n._idRowMetadataMap[i.hoverID]});t._addDisposablesToCleanUp([this._hoveredID.subscribe(function(t){n.hoverRowByHoverId(t)}),this._hoveredRowMetadata.subscribe(function(t){
var i=t?t.hoverID:null;i!==n._hoveredID.peek()&&n._hoveredID(i)})])},f.prototype.getOrder=function(){return 30},f.prototype.getDependencies=function(){return[new r.FocusableRowExtension(this.options)]},f.prototype.beforeDestroy=function(){l(this._disposables);this._disposables=[];this._resetPreventMouseHandlerTimer()},f.prototype.getName=function(){return f.Name},f.prototype.hoverRowByHoverId=function(n){var t=this._getRowMetadataFromHoverID(n);this.hoverRowByRowMetadata(t)},f.prototype.hoverRowByRowMetadata=function(n,t){if(this._hoveredRowMetadata.peek()!==n){if(this._inHoverRowByRowMetadata){console.error(" FocusableRowHoverExtension hoverRowByRowMetadata go into recursive called. Please verify."+i.Base.Utilities.getCurrentCallStack(!0));return}try{if(this._inHoverRowByRowMetadata=!0,this._hoveredRowMetadata(n),n){var r={hovered:n};this._widget.trigger("rowHover",t?u.cloneEvent(t,"rowHover"):h.Event("rowHover"),r);this._widget.options.events("hover",r)}}finally{this._inHoverRowByRowMetadata=
!1}}},f.prototype._resetPreventMouseHandlerTimer=function(){this._preventMouseHandler=!1;this._preventMouseHandlerTimer!==null&&(e.clearTimeout(this._preventMouseHandlerTimer),this._preventMouseHandler=null)},f.prototype._onRowFocus=function(n,t){var r=this,i,u=this._hoveredRowMetadata(),f=this._hoverIDKey();this._focusedByEvent=!!n;this._focusedByEvent&&(this._resetPreventMouseHandlerTimer(),this._preventMouseHandler=!0,this._preventMouseHandlerTimer=e.setTimeout(function(){r._resetPreventMouseHandlerTimer()},250));t.focused?(i=t.focused,this.hoverRowByRowMetadata(i,n)):this.hoverRowByRowMetadata(null)},f.prototype._getRowMetadataFromHoverID=function(n){var t;return i.isNullOrUndefined(n)||(t=this._idRowMetadataMap[n]),t||null},f.prototype._rebuildIdRowMetadaMap=function(){var i=this,r=this._widget._getAllRowMetadata(),u=this._hoverIDKey.peek(),n,t={};this._backupIdMax=0;r.forEach(function(r){n=o(r.item[u]);n=n?n.toString():(i._backupIdMax++).toString();t[n]=r;r.hoverID=n});this._idRowMetadataMap=
t},f.Name="azc-grid-hoverableRow",f}(f.Extension);n.FocusableRowHoverExtension=a}(e||(e={})),e});define("MsPortalImpl.Controls/Controls/Lists/Grid1/Grid1.FocusableRowHover",["require","exports","f","./Grid1.Extensibility","./Grid1.Impl","Viva.Controls/Controls/Lists/Grid1/Viva.Grid1.FocusableRowHover"],function(n,t,i,r,u,f){"use strict";var e;return function(n){var o=i.ViewModels.Controls.Lists.Grid,t=ko.observable,e=function(n){function i(){n.apply(this,arguments)}return __extends(i,n),i.prototype.beforeDestroy=function(){},i.prototype.getExtension=function(n){var r=n,i=r.hoverable||{};return new f.FocusableRowHoverExtension({focusable:i.focusable||t(!0),hoverIDKey:i.hoverIDKey||t(),hoveredID:i.hoveredID||t()})},i.prototype.initializeExtension=function(){},i.prototype.getName=function(){return"FocusableRowHover"},i.prototype.getOrder=function(){return 0},i}(u.GridExtension);n.FocusableRowHoverExtension=e;r.registerPlugin(o.Extensions.Hoverable,e)}(e||(e={})),e});define("MsPortalImpl.Controls/Controls/Lists/Grid1/Grid1.FormatterHtmlBindings",
["require","exports","f","../../Base/Formatters","./Grid1.Extensibility","./Grid1.Impl","Viva.Controls/Controls/Lists/Grid1/Viva.Grid1.Formatters","MsPortalImpl/Base/Base.KnockoutTemplateSanitizer"],function(n,t,i,r,u,f,e,o){"use strict";var s;return function(n){function l(n,i,r){var u=i||"";switch(n){case t.MultiselectDropDown:case t.TextBox:case t.CheckBox:case t.DropDown:case t.GroupDropDown:case t.CheckBoxRowSelection:return"<div data-bind='formElement: $data' data-grid-formelement='"+t[n]+"'><\/div>"}return r?u:o.sanitizeHTML("Controls.Grid.FormatterHtmlBindingsExtension",u).sanitizedMarkup}function a(n,i,r){switch(i){case t.MultiselectDropDown:return s.multiselectDropDown(n,r);case t.TextBox:return s.textBox(n,r);case t.CheckBox:return s.checkBox(n,r);case t.DropDown:return s.dropDown(n,r);case t.GroupDropDown:return s.groupDropDown(n,r);case t.CheckBoxRowSelection:return s.rowSelectionCheckBox(n);case t.Default:default:return function(n,t,i){return{value:t,settings:i}}}}var c=i.
ViewModels.Controls.Lists.Grid,v=c.Format,t=c.HtmlBindingsType,s=r.ControlViewModels,h;n.getTrustedMarkup=l;n.getHtmlBindingsViewModel=a;h=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.getName=function(){return"FormatterHtmlBindings"},t.prototype.getOrder=function(){return 0},t.prototype.getSafeFormatter=function(n,t,i){switch(n){case v.HtmlBindings:return e.htmlBindings(l(t.htmlBindingsType,t.htmlBindingsTemplate,i),a(this._widget.lifetimeManager,t.htmlBindingsType,t.htmlBindingsData))}return null},t}(f.GridExtension);n.FormatterHtmlBindingsExtension=h;u.defaultPlugins.push(h)}(s||(s={})),s});define("_generated/Less/Viva.Controls/Controls/Lists/Viva.Grid1.Groupable.css",["require","exports","module"],function(n,t,i){"use strict";window.fx.injectCss(i,'.azc-grid-groupable.azc-grid.azc-grid-headerHidden .azc-grid-groupdata:first-of-type tr.azc-grid-groupheader td{border-top-width:0}.azc-grid-groupable.azc-grid .azc-grid-groupdata:first-of-type tr.azc-grid-groupheader td{border-top-width:1px}.azc-grid-groupable.azc-grid .azc-grid-groupdata tr.azc-grid-groupheader td{padding-top:15px;font-size:10px;font-family:az_ea_font,wf_segoe-ui_semibold,"Segoe UI Semibold","Segoe WP Semibold","Segoe UI","Segoe WP",Tahoma,Arial,sans-serif;text-transform:uppercase;border-top-width:0}.azc-grid-groupable.azc-grid .azc-grid-groupdata tr.azc-grid-groupheader:hover{background-color:inherit}.azc-grid-groupable.azc-grid .azc-grid-groupdata tr:not(.azc-grid-groupheader) td[role=gridcell]:first-of-type{padding-left:30px}')}
);define("Viva.Controls/Controls/Lists/Grid1/Viva.Grid1.Groupable",["require","exports","f","u","./Viva.Grid1.Formatters","./Viva.Grid1","MsPortalImpl/Resources/ImplScriptResources","../../../../_generated/Less/Viva.Controls/Controls/Lists/Viva.Grid1.Groupable.css"],function(n,t,i,r,u,f,e){"use strict";var o;return function(n){function h(n){return n=o(n),c(n)?"":n}function w(n,t,i){var r=[],u=[],f=[];return t.forEach(function(t){var i=h(t[n]),f=i.toString();u.indexOf(f)===-1&&(r.push(i),u.push(f))}),r.forEach(function(n){f.push(new v(n,i))}),f}function b(n,t,i){var r=[],u=[];return t===0?u=n:(n.forEach(function(n){n.sortFormatter?r.push(n.sortFormatter(o(n.value))):r.push(o(n.value))}),i?r.sort(i):r.sort(),t===2&&r.reverse(),r.forEach(function(t){n.forEach(function(n){var i=n.sortFormatter?n.sortFormatter(o(n.value)):o(n.value);t.toString()===i.toString()&&u.push(n)})})),u}function k(n,t,i){var r,u,f;n.options.items().forEach(function(e){r="";f=h(e[i]);t.forEach(function(n){u=h(n.value);
f.toString()===u.toString()&&(r=u)});n.getRowMetadata(e).groupId(r)})}function d(n,t){if(t===null||t===r)throw new Error("groupId cannot be null or undefined when fetching group items.");return l(function(){var i=[],u=o(t).toString(),r;return n.options.items().forEach(function(t){r=h(n.getRowMetadata(t).groupId);r.toString()===u&&i.push(t)}),i})}var c=i.isNullOrUndefined,s=ko.observable,l=ko.computed,o=ko.toJS,a=jQuery,t="azc-grid-groupable",p="<!-- ko if: data.items().length -->"+('<!-- ko foreach: $ctl.getPlugin("'+t+'").groups -->')+"<tbody class='azc-grid-groupdata' role='rowgroup'><tr class='azc-grid-groupheader'>"+("<td class='azc-br-muted' data-bind='trustedHtml: $ctl.getPlugin(\""+t+'")._headerCellFormat(formatter, value), attr: { "aria-label": value, colspan: $ctl._getTotalColumns() }\'><\/td>')+"<\/tr>"+('<!-- ko if: $ctl.getPlugin("'+t+'").getItemsByGroup(value)().length -->')+("<!-- ko template: { name: 'bodyRows', foreach: $ctl.getPlugin(\""+t+'").getItemsByGroup(value)() } --><!-- /ko -->')+
"<!-- /ko -->"+('<!-- ko ifnot: $ctl.getPlugin("'+t+'").getItemsByGroup(value)().length -->')+"<tr><td data-bind='attr: { colspan: $ctl._getTotalColumns() }, html: $vm.noRowsMessage' class='azc-br-muted'><\/td><\/tr><!-- /ko --><\/tbody><!-- /ko -->"+('<!-- ko if: $ctl.getPlugin("'+t+'").getItemsByGroup("")().length -->')+"<tbody class='azc-grid-groupdata' role='rowgroup'><tr class='azc-grid-groupheader'>"+("<td class='azc-br-muted' data-bind='trustedHtml: $ctl.getPlugin(\""+t+'").options.noGroupLabel(), attr: { "aria-label": $ctl.getPlugin("'+t+"\").options.noGroupLabel(), colspan: $ctl._getTotalColumns() }'><\/td>")+"<\/tr>"+("<!-- ko template: { name: 'bodyRows', foreach: $ctl.getPlugin(\""+t+'").getItemsByGroup("")() } --><!-- /ko -->')+"<\/tbody><!-- /ko --><!-- /ko -->",v=function(){function n(n,t,i){this.value=n;this.formatter=t||u.text;this.sortFormatter=i}return n}(),y;n.Group=v;y=function(n){function i(t){n.call(this);this._groupItems={};this._options=a.extend(this._getDefaultGroupOptions(
),t);c(this._options.groups)&&(this._options.groups=s(null))}return __extends(i,n),Object.defineProperty(i.prototype,"groups",{get:function(){return this._groups},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),i.prototype.afterSetTemplates=function(n){n.setTemplate("bodyCore",p)},i.prototype.beforeCreate=function(){var n=this;this._groups=l(function(){var t=[],i=n.options.groups(),r;return i?t=i:(r=n.options.headerFormatter||u.text,t=w(n.options.groupKey(),n._widget.options.items(),r)),k(n._widget,t,n.options.groupKey()),b(t,n.options.sortOrder(),n.options.sortFunction)})},i.prototype.beforeDestroy=function(){var n=this;this._groups&&(this._groups.dispose(),this._groups=null);this._groupItems&&(Object.getOwnPropertyNames(this._groupItems).forEach(function(t){var i=n._groupItems[t];i&&(a.isFunction(i.dispose)&&i.dispose(),n._groupItems[t]=null)}),this._groupItems=null)},i.prototype.getItemsByGroup=
function(n){return n=o(n),this._groupItems[n]||(this._groupItems[n]=d(this._widget,n)),this._groupItems[n]},i.prototype.getDefaultRowMetadataProperties=function(){return{groupId:s("")}},i.prototype.getName=function(){return i.Name},i.prototype.getOrder=function(){return 70},i.prototype._getDefaultGroupOptions=function(){return{groupKey:s(""),headerFormatter:u.text,groups:s(null),noGroupLabel:function(){return e.Viva.Grid.Groupable.noGroupLabel},sortOrder:s(1),sortFunction:null}},i.prototype._headerCellFormat=function(n,t){return n(t)},i.Name=t,i}(f.Extension);n.GroupableExtension=y}(o||(o={})),o});define("MsPortalImpl.Controls/Controls/Lists/Grid1/Grid1.Groupable",["require","exports","f","./Grid1.Extensibility","./Grid1.Impl","Viva.Controls/Controls/Lists/Grid1/Viva.Grid1","Viva.Controls/Controls/Lists/Grid1/Viva.Grid1.Groupable"],function(n,t,i,r,u,f,e){"use strict";var o;return function(n){function o(n){var i,r=t.SortFunction;switch(n){case r.DateTime:i=function(n,t){var i=new Date(
n).getTime(),r=new Date(t).getTime();return i<r?-1:i>r?1:0};break;case r.SettingListGroupOrder:i=function(n,t){var i=s.SettingList.Group.support;return n===i?-1:t===i?1:0};break;default:i=null}return i}var s=i.Resources.Strings.Part,t=i.ViewModels.Controls.Lists.Grid,f=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.beforeDestroy=function(){},t.prototype.getExtension=function(n){var u=n,i=this._widget,r=i.element[0],t=u.groupable;return new e.GroupableExtension({groupKey:t.groupKey,headerFormatter:i._getFormatter(t.headerFormat,t.headerFormatOptions),groups:ko.computed(function(){var n;return t&&t.groups&&(n=[],t.groups().forEach(function(t){var u=i._getFormatter(t.format,t.formatOptions),r=null;t.sortFormat&&(r=i._getFormatter(t.sortFormat,t.sortFormatOptions));n.push(new e.Group(t.value,u,r))})),n},this,{disposeWhenNodeIsRemoved:r}),noGroupLabel:i._getFormatter(t.noGroupLabelFormat,t.noGroupLabelFormatOptions),sortFunction:o(t.sortFunction),sortOrder:
ko.computed(function(){var n=1;return t&&t.sortOrder&&(n=t.sortOrder()),n},this,{disposeWhenNodeIsRemoved:r})})},t.prototype.initializeExtension=function(){},t.prototype.getName=function(){return"Groupable"},t.prototype.getOrder=function(){return 0},t.prototype.connectRowMetadataProperties=function(n,t,i){var r=[];return r.push.apply(r,this._widget._twoWayBinding(i.groupId,t.groupId)),r},t}(u.GridExtension);n.GroupableExtension=f;n.getSortFunction=o;r.registerPlugin(t.Extensions.Groupable,f)}(o||(o={})),o});define("_generated/Less/Viva.Controls/Controls/Lists/Viva.Grid1.Hierarchical.css",["require","exports","module"],function(n,t,i){"use strict";window.fx.injectCss(i,".azc-grid.azc-grid-hierarchical .azc-grid-hierarchical-cell-flexcontainer{display:-webkit-flex;display:flex;-webkit-align-items:center;align-items:center}.azc-grid.azc-grid-hierarchical .azc-grid-hierarchical-cell-flexcontainer .azc-grid-hierarchical-icon,.azc-grid.azc-grid-hierarchical .azc-grid-hierarchical-cell-flexcontainer .azc-grid-hierarchical-indent{display:inline-block;flex:0 0 auto;width:16px;height:16px;top:3px}.azc-grid.azc-grid-hierarchical .azc-grid-hierarchical-cell-flexcontainer .azc-grid-hierarchical-icon .azc-grid-hierarchical-icon-collapsed{margin-top:3px;margin-left:5.5px;width:0;height:0;background:0 0;border-style:solid;border-width:5px 0 5px 5px;border-top-color:transparent!important;border-right-color:transparent!important;border-bottom-color:transparent!important}.azc-grid.azc-grid-hierarchical .azc-grid-hierarchical-cell-flexcontainer .azc-grid-hierarchical-icon .azc-grid-hierarchical-icon-expanded{margin-top:5.5px;margin-left:3px;width:0;height:0;background:0 0;border-style:solid;border-width:5px 5px 0;border-right-color:transparent!important;border-bottom-color:transparent!important;border-left-color:transparent!important}.azc-grid.azc-grid-hierarchical .azc-grid-hierarchical-cell-flexcontainer .azc-grid-cellContent{flex:1 1 auto}.azc-grid.azc-grid-hierarchical .azc-grid-hierarchical-cell-flexcontainer thead tr th.azc-grid-hierarchical-header>a{padding-left:26px}")}
);define("Viva.Controls/Controls/Lists/Grid1/Viva.Grid1.Hierarchical",["require","exports","f","./Viva.Grid1","./Viva.Grid1.FocusableRow","MsPortalImpl/Base/Base.KeyboardHelper","../../../../_generated/Less/Viva.Controls/Controls/Lists/Viva.Grid1.Hierarchical.css"],function(n,t,i,r,u,f){"use strict";var e;return function(n){function a(){return{hierarchy:null}}function v(n){return n.expandable&&(n.expandable()===!0||n.expandable()===undefined)}function o(n,t,i){var r=ko.dataFor(t),u=r?r.item:null,f=n.hierarchy;return u&&v(u)?(i?u.expanded()||f.expand(r.item):u.expanded()&&f.collapse(r.item),!0):!1}var t=jQuery,p=window,s='css: { "azc-grid-hierarchical-toplevel": item.depth() === 0 }',h='css: { "azc-grid-hierarchical-header": hierarchical }',e="tr[data-grid-focusable]",c="<div class='azc-grid-hierarchical-cell-flexcontainer'><!-- ko if: hierarchical --><!-- ko foreach: new Array($parent.item.depth()) --><div class='azc-grid-hierarchical-indent'><\/div><!-- /ko --><div class='azc-grid-hierarchical-icon' data-bind='if: $parent.item.expandable() === true || $parent.item.expandable() === undefined, click: function () { $parent.item.expanded() ? $ctl.getPlugin(\"azc-grid-hierarchical\").options.hierarchy.collapse($parent.item) : $ctl.getPlugin(\"azc-grid-hierarchical\").options.hierarchy.expand($parent.item); }, clickBubble: false, attr: { tabindex: $parent.item.expandable() === true ? $tabIndex() : $focusIndex() }'><div data-bind='css: {\"azc-grid-hierarchical-icon-collapsed\": !$parent.item.expanded(), \"azc-grid-hierarchical-icon-expanded\": $parent.item.expanded() }'><\/div><\/div><!-- /ko --><div class='azc-grid-cellContent' data-bind='css: { \"azc-grid-cell-ellipse\": $data.enableEllipse, \"azc-grid-cell-fullheight\": $data.fullHeight }, trustedHtml: $ctl._cellFormat($parentContext.$parentContext.$index, $index, $parent, $data)'><\/div><\/div>",
l=i.disposeDisposable,y=function(n){function i(i){n.call(this);this._disposables=[];this._options=t.extend(a(),i)}return __extends(i,n),Object.defineProperty(i.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),i.prototype.afterSetTemplates=function(n){var t=n.getHtmlTemplate("bodyRowsCore"),i=n.getHtmlTemplate("headerCell");i.addAttribute("th","data-bind",h);t.addAttribute("tr","data-bind",s);n.setTemplate("bodyCellContent",c)},i.prototype.afterCreate=function(){},i.prototype.afterAttachEvents=function(){var n=this;this._disposables.push(this._widget.element.setEvents(["keydown.azcGrid",e,function(i){var h=t(i.target),u=h.closest(e),c=f.getModifierKeys(i),r,s;if(c===0&&u&&u.length>0){r=!0;s=n.options;switch(i.which){case 37:r=o(s,u[0],!1);break;case 39:r=o(s,u[0],!0);break;default:r=!1}r&&(i.preventDefault(),i.stopPropagation())}}]))},i.prototype.beforeDestroy=function(){l(this._disposables);this._disposables=[]},i.prototype.getName=function(){return i.
Name},i.prototype.getOrder=function(){return 18},i.prototype.getDependencies=function(){return[new u.FocusableRowExtension]},i.prototype.getDefaultColumnProperties=function(){return{hierarchical:!1}},i.prototype.shouldNotAllowSelectAll=function(){return!0},i.Name="azc-grid-hierarchical",i}(r.Extension);n.HierarchicalExtension=y}(e||(e={})),e});define("MsPortalImpl.Controls/Controls/Lists/Grid1/Grid1.Hierarchical",["require","exports","f","./Grid1.Extensibility","./Grid1.Impl","Viva.Controls/Controls/Lists/Grid1/Viva.Grid1.Hierarchical"],function(n,t,i,r,u,f){"use strict";var e;return function(n){var e=i.ViewModels.Controls.Lists.Grid,o=window,s=jQuery,t=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.getExtension=function(n){var t=n,i=t&&t.hierarchical;return new f.HierarchicalExtension(i)},t.prototype.initializeExtension=function(){},t.prototype.beforeDestroy=function(){},t.prototype.getName=function(){return"Hierarchical"},t.prototype.getOrder=function(
){return 0},t}(u.GridExtension);n.HierarchicalExtension=t;r.registerPlugin(e.Extensions.Hierarchical,t)}(e||(e={})),e});define("_generated/Less/Viva.Controls/Controls/Viva.Pager.css",["require","exports","module"],function(n,t,i){"use strict";window.fx.injectCss(i,".azc-pager ul{list-style:none;margin:0;padding:0;overflow:auto}.azc-pager ul li{float:left;text-align:center}.azc-pager ul li:last-child{margin-right:0}.azc-pager ul li a{display:block;padding:0 12px;font-size:11px;line-height:23px;color:inherit;text-decoration:none}.azc-pager ul li.azc-pager-arrow,.azc-pager ul li.azc-pager-page{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.azc-pager ul li.azc-pager-arrow{margin-left:5px;width:30px;opacity:.5}.azc-pager ul li.azc-pager-arrow:hover{opacity:.75}.azc-pager ul li.azc-pager-arrow a{background-color:#ccc}.azc-pager ul li.azc-pager-arrow a[href]:hover{background-color:#f5f5f5}.azc-pager ul li.azc-pager-arrow a img{border:0}.azc-pager ul li.azc-pager-arrow.azc-pager-arrow-previous a span:before{content:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2IiBoZWlnaHQ9IjExIiB2aWV3Qm94PSIwIDAgMTEgMTciPg0KICAgIDxwYXRoIGZpbGw9IiMzMjM4M2YiIGQ9Ik05LjUgMGwxLjQgMS40LTcuMSA3LjEgNy4xIDcuMUw5LjUgMTcgMSA4LjV6Ii8+DQo8L3N2Zz4NCg==)}.azc-pager ul li.azc-pager-arrow.azc-pager-arrow-next a span:before{content:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2IiBoZWlnaHQ9IjExIiB2aWV3Qm94PSIwIDAgMTEgMTciPg0KICAgIDxwYXRoIGZpbGw9IiMzMjM4M2YiIGQ9Ik0yLjQxNCAxN0wxIDE1LjU4Nmw3LjA3MS03LjA3MUwxIDEuNDQzIDIuNDE0LjAyOWw4LjQ4NSA4LjQ4NnoiLz4NCjwvc3ZnPg0K)}.azc-pager ul li.azc-pager-page[aria-selected=true] a{background-color:#e5e5e5}.azc-pager ul li.azc-pager-input{width:50px}.azc-pager ul li.azc-pager-input .azc-pager-input-textBox{height:23px;padding-right:0!important}.azc-pager ul li.azc-pager-input input{text-align:center;border-right-width:1px!important}.azc-pager ul li[aria-disabled=true]{opacity:.1!important}")}
);define("Viva.Controls/Controls/Viva.Pager",["require","exports","./Base/Viva.Validators","./Base/ValidationPlacements/Viva.Css","./Forms/Viva.TextBox","./Base/Viva.Base","MsPortalImpl.Controls/Resources/MsPortalImplResources","../../_generated/Less/Viva.Controls/Controls/Viva.Pager.css"],function(n,t,i,r,u,f,e){"use strict";var o;return function(n){var k=window,h=jQuery,c="azc-pager",l="azc-pager-arrow",a="azc-pager-arrow-previous",v="azc-pager-arrow-next",t="azc-pager-input-textBox",w="<ul role='navigation' aria-label='"+e.Grid.pagination+"'><!-- ko if: $ctl._longPager -->"+("<li class='azc-pager-input'><div class='"+t+"' data-bind='azcTextBox: $ctl._textBoxViewModel'><\/div><\/li>")+"<li class='azc-pager-page'><a role='button' data-bind='text: data.numberOfPages, attr: { \"data-page-id\": data.numberOfPages(), href: $ctl._isCurrentPage(data.numberOfPages()) ? null : \"\" }'><\/a><\/li><!-- /ko --><!-- ko ifnot: $ctl._longPager --><!-- ko foreach: $ctl._pages --><li class='azc-pager-page' data-bind='attr: { \"aria-selected\": $ctl._isCurrentPage($data) ? \"true\" : \"false\" }'><a role='button' data-bind='text: $data, attr: { \"data-page-id\": $data, href: $ctl._isCurrentPage($data) ? null : \"\" }'><\/a><\/li><!-- /ko --><!-- /ko --><!-- ko if: $ctl._showArrows -->"+
("<li class='"+l+" "+a+'\' data-bind=\'attr: { "aria-disabled": $ctl._isCurrentPageFirst() ? "true" : "false" }\'><a role=\'button\' data-bind=\'attr: { title: data.text.previous, "aria-label": data.text.previous, href: $ctl._isCurrentPageFirst() ? null : "" }\'><span><\/span><\/a><\/li>')+("<li class='"+l+" "+v+'\' data-bind=\'attr: { "aria-disabled": $ctl._isCurrentPageLast() ? "true" : "false" }\'><a role=\'button\' data-bind=\'attr: { title: data.text.next, "aria-label": data.text.next, href: $ctl._isCurrentPageLast() ? null : "" }\'><span><\/span><\/a><\/li>')+"<!-- /ko --><\/ul>",o=ko.observable,b=ko.observableArray,y=function(n){function t(t){t===void 0&&(t={});n.call(this);this.currentPage=t.currentPage||o(1);this.numberOfPages=t.numberOfPages||o(1);this.maxPages=t.maxPages||o(20);this.text=t.text}return __extends(t,n),t}(f.ViewModel),s,p;n.ViewModel=y;s=function(n){function f(t,f,e){n.call(this,t,f,h.extend({viewModelType:y},e));this.options.text=this.options.text||this._getDefaultResourceStrings(
);this.element.addClass(c).html(w);var o=new u.ViewModel,s=o.validators;this._textBoxViewModel=o;o.validationPlacements.push(new r.Css);s.push(new i.ValueRange(null,1,this.options.numberOfPages));s.push(new p);this._attachEvents();this._initializeComputeds();this._bindDescendants()}return __extends(f,n),f.prototype.dispose=function(){this._checkExistsOrRegisterDestroyId(n.prototype.dispose)||(this._detachEvents(),this._cleanElement(c),n.prototype.dispose.call(this))},Object.defineProperty(f.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"_longPager",{get:function(){return this.options.numberOfPages()>this.options.maxPages()},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"_showArrows",{get:function(){return this.options.numberOfPages()>1},enumerable:!0,configurable:!0}),f.prototype._initializeComputeds=function(){var t=this,n=this.options,i=this._textBoxViewModel;this._pages=b();this._addDisposablesToCleanUp(
ko.computed(function(){var r=t._pages.peek(),i,u;for(t._pages.valueWillMutate(),r.splice(0,r.length),i=1,u=Math.min(n.numberOfPages(),n.maxPages());i<=u;i++)r.push(i);t._pages.valueHasMutated()}));i.events={enterPressed:function(t){i.validationState()===2&&n.currentPage(parseInt(t,10))}};this._addDisposablesToCleanUp(ko.computed(function(){i.value(n.currentPage().toString())}))},f.prototype._attachEvents=function(){var i=this,n;this._detachEvents();n=this.options;this.element.on("click","ul li.azc-pager-page a[href]",this._clickPageEventHandler=function(t){n.currentPage(parseInt(h(t.currentTarget).data("page-id"),10));t.preventDefault()}).on("click","ul li."+a+" a[href]",this._clickArrowPreviousEventHandler=function(t){n.currentPage(n.currentPage()-1);t.preventDefault()}).on("click","ul li."+v+" a[href]",this._clickArrowNextEventHandler=function(t){n.currentPage(n.currentPage()+1);t.preventDefault()}).on("blur","."+t+" input",this._inputBlurEventHandler=function(){i._textBoxViewModel.value(
n.currentPage().toString());i._textBoxViewModel.validationState(2)})},f.prototype._detachEvents=function(){var n=this.element,f=this._clickPageEventHandler,i,r,u;f&&(n.off("click",f),this._clickPageEventHandler=null);i=this._clickArrowPreviousEventHandler;i&&(n.off("click",i),this._clickArrowPreviousEventHandler=null);r=this._clickArrowNextEventHandler;r&&(n.off("click",r),this._clickArrowNextEventHandler=null);u=this._inputBlurEventHandler;u&&(n.off("blur","."+t+" input",u),this._inputBlurEventHandler=null)},f.prototype._isCurrentPage=function(n){return n===this.options.currentPage()},f.prototype._isCurrentPageFirst=function(){return 1===this.options.currentPage()},f.prototype._isCurrentPageLast=function(){return this.options.numberOfPages()===this.options.currentPage()},f.prototype._getDefaultResourceStrings=function(){return{previous:e.Pager.previous,next:e.Pager.next}},f}(f.Widget);n.Widget=s;p=function(n){function t(t){n.call(this,null,t)}return __extends(t,n),t.prototype._validate=
function(n){return/^[0-9]*$/.test(n)?2:1},t}(i.Validator);ko.bindingHandlers.azcPager=f.Widget.getBindingHandler(s)}(o||(o={})),o});define("_generated/Less/Viva.Controls/Controls/Lists/Viva.Grid1.Pageable.css",["require","exports","module"],function(n,t,i){"use strict";window.fx.injectCss(i,'.azc-grid-pageable.azc-grid .azc-grid-pageable-loadMoreContainer{display:block;height:38px;text-decoration:none;text-align:center}.azc-grid-pageable.azc-grid .azc-grid-pageable-loadMoreContainer .azc-grid-pageable-loadMoreLabel{font-family:az_ea_font,wf_segoe-ui_normal,"Segoe UI","Segoe WP",Tahoma,Arial,sans-serif;font-size:12px;line-height:38px}.azc-grid-pageable.azc-grid .azc-grid-pageable-loadMoreContainer .azc-grid-pageable-loadMoreIcon{display:inline-block;margin-top:10px}.azc-grid-pageable.azc-grid .azc-grid-pageable-loadMoreContainer .azc-grid-pageable-loadMoreIcon:before{content:url(Content/static/azc-validatableControl-pending.gif)}.azc-grid-pageable.azc-grid .azc-grid-pageable-pager{float:right}.azc-grid-pageable.azc-grid.azc-grid-pageable-onePage .azc-grid-pageable-pager{display:none}')}
);define("Viva.Controls/Controls/Lists/Grid1/Viva.Grid1.Pageable",["require","exports","f","./Viva.Grid1","MsPortalImpl.Controls/Resources/MsPortalImplResources","../../../../_generated/Less/Viva.Controls/Controls/Lists/Viva.Grid1.Pageable.css"],function(n,t,i,r,u){"use strict";var f;return function(n){var o=jQuery,b=window,t="azc-grid-pageable",s=t+"-loadMoreContainer",h="."+s+"[href]",c=t+"-loadMoreLabel",k="."+c,l=t+"-loadMoreIcon",d="."+l,g=t+"-loading",nt=t+"-showLoadingIcon",a=t+"-onePage",e=t+"-full",v='<!-- ko ifnot: $ctl.getPlugin("azc-grid-pageable").options.pagerViewModel --><a class=\'azc-grid-pageable-loadMoreContainer\' data-bind=\'attr: { href: $ctl.getPlugin("azc-grid-pageable").options.loading() ? null : "#" }, visible: $ctl.getPlugin("azc-grid-pageable").options.showLabel\'><span class=\'azc-grid-pageable-loadMoreLabel\' data-bind=\'visible: !$ctl.getPlugin("azc-grid-pageable").options.loading(), text: $ctl.getPlugin("azc-grid-pageable").options.label\'><\/span><span class=\'azc-grid-pageable-loadMoreIcon\' data-bind=\'visible: $ctl.getPlugin("azc-grid-pageable").options.loading, css: { "azc-grid-pageable-showLoadingIcon": $ctl.getPlugin("azc-grid-pageable").options.loading }\'><\/span><\/a><!-- /ko --><!-- ko if: $ctl.getPlugin("azc-grid-pageable").options.pagerViewModel --><div class=\'azc-grid-pageable-pager\' data-bind=\'azcPager: $ctl.getPlugin("azc-grid-pageable").options.pagerViewModel\'><\/div><!-- /ko -->',
y="<!-- ko template: { name: ko.pureComputed(function () { return data.items().length ? 'bodyCore' : ($ctl.getPlugin(\"azc-grid-pageable\").options.loading() ? 'bodyCore' : 'bodyNoItems'); }), data: $data } --><!-- /ko -->",f=ko.observable,p=i.disposeDisposable,w=function(n){function i(t){n.call(this);this._disposables=[];this._options=o.extend(this._getDefaultPageableOptions(),t)}return __extends(i,n),Object.defineProperty(i.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),i.prototype.afterSetTemplates=function(n){var t=n.getHtmlTemplate("table");t.append(".azc-grid-container",v);n.setTemplate("body",y)},i.prototype.afterCreate=function(){var t=this,n=this.options.pagerViewModel;n&&this._disposables.push(ko.computed(function(){var i=t._widget.element;i.toggleClass(a,n.numberOfPages()===1);i.addClass(e)}))},i.prototype.afterAttachEvents=function(){var n=this;this._disposables.push(this._widget.element.setEvents(["click.azcPageableGrid",h,function(
t){t.preventDefault();t.stopPropagation();var i=n.options;!i.loading()&&i.onLoadMoreData&&i.onLoadMoreData()}]))},i.prototype.beforeDestroy=function(){p(this._disposables);this._disposables=[];this._widget.element.removeClass(e)},i.prototype.getName=function(){return i.Name},i.prototype.getOrder=function(){return 20},i.prototype.shouldNotAllowSelectAll=function(){return!0},i.prototype._getDefaultPageableOptions=function(){return{label:f(u.Grid.loadMore),showLabel:f(!0),loading:f(!1)}},i.Name=t,i}(r.Extension);n.PageableExtension=w}(f||(f={})),f});define("MsPortalImpl.Controls/Controls/Lists/Grid1/Grid1.Pageable",["require","exports","f","./Grid1.Extensibility","./Grid1.Impl","MsPortalImpl.Controls/Resources/MsPortalImplResources","Viva.Controls/Controls/Viva.Pager","Viva.Controls/Controls/Lists/Grid1/Viva.Grid1.Filterable","Viva.Controls/Controls/Lists/Grid1/Viva.Grid1.Pageable"],function(n,t,i,r,u,f,e,o,s){"use strict";var h;return function(n){function a(n){var t,r;return n&&(t=n.metadata(
),t&&(r=t.totalItemCount,!i.Base.Utilities.isNullOrUndefined(r)))?r:0}var t=i.ViewModels.Controls.Lists.Grid.PageableType,v=f.Grid,h=ko.observable,c=i.Base.Utilities.getUniqueId,l;n.DefaultItemsPagePage=10;l=function(i){function r(){i.apply(this,arguments);this._options=null;this._type=null;this._dataNav=null;this._filterQS=h(null);this._currentRequestId=null}return __extends(r,i),r.prototype.getExtension=function(i){var u=this,f=i,r=f&&f.pageable;if(r&&(this._dataNav=r.dataNavigator),!this._validateSequential()&&!this._validatePageable())throw new Error("Pageable extension cannot work without a valid data navigator. Provide a valid data navigator to fetch data.");this._type=r.type;switch(r.type){case t.Pageable:this._options={loading:h(!1),pagerViewModel:new e.ViewModel,itemsPerPage:r.itemsPerPage?r.itemsPerPage:h(n.DefaultItemsPagePage)};break;case t.Sequential:default:this._options={label:r.label?r.label:h(v.loadMore),showLabel:r.showLabel?r.showLabel:h(!0),loading:h(!1),onLoadMoreData:
function(){u._currentRequestId=c();u._onLoadMoreData(u._currentRequestId).catch(function(){})}}}return new s.PageableExtension(this._options)},r.prototype.initializeExtension=function(){if(!(this._type===t.Sequential&&this._validateSequential()||this._type===t.Pageable&&this._validatePageable()))throw new Error("Pageable extension cannot work without a valid data navigator. Provide a valid data navigator to fetch data.");var n=this._filterableExtn=this._widget._instance.getPlugin(o.FilterableExtension.Name);n&&n.options.serverFilter()&&this._filterQS(n.options.queryString())},r.prototype.resetExtension=function(){var n=this,i=this._filterableExtn&&this._filterableExtn.options,r;return i&&!i.filterCallback()&&i.filterCallback(function(t){if(n._filterQS()!==t)return n._filterQS(t),n.resetExtension()}),r=this._type===t.Sequential&&this._validateSequential()?this._resetAndLoadData():this._type===t.Pageable&&this._validatePageable()?this._resetLoadPage():Q(),r.catch(function(){}),r},r.prototype.
beforeDestroy=function(){this._lifetime&&(this._lifetime.dispose(),this._lifetime=null)},r.prototype.getName=function(){return"Pageable"},r.prototype.getOrder=function(){return 0},r.prototype._validateSequential=function(){return this._dataNav&&!!this._dataNav.loadByContinuationToken},r.prototype._validatePageable=function(){return this._dataNav&&!!this._dataNav.loadBySkipTake},r.prototype._loadPage=function(){var n=this,i=c(),t=this._options;this._currentRequestId=i;var u=t.pagerViewModel.currentPage(),r=t.itemsPerPage(),f=this._getSortData();return t.loading(!0),Q(this._dataNav.loadBySkipTake((u-1)*r,r,this._filterQS(),f)).then(function(){if(n._currentRequestId===i){var t=n._dataNav.items();t=t?t.slice(0):[];n._widget.options.items(t)}}).finally(function(){n._currentRequestId===i&&t.loading(!1)})},r.prototype._attachSubscriptions=function(){var r=this;if(this._lifetime=this._widget.lifetimeManager.createChildLifetime(),this._type===t.Pageable){var i=this._options,n=i.pagerViewModel,u=
a(this._dataNav),f=i.itemsPerPage(),e=n.currentPage(),o=n.numberOfPages();ko.reactor(this._lifetime,function(){var s=a(r._dataNav),t=i.itemsPerPage(),h=n.currentPage();ko.ignoreDependencies(function(){if(t){var i=(s+t-1)/t|0||1;i!==o&&(o=i,n.numberOfPages(i))}(s!==u||t!==f||h!==e)&&(u=s,f=t,e=h,t&&h&&r._loadPage().catch(function(){}))})})}},r.prototype._resetCurrentPageSubscription=function(){this._lifetime&&(this._lifetime.dispose(),this._lifetime=null);this._options.pagerViewModel.currentPage(1);this._attachSubscriptions()},r.prototype._resetLoadPage=function(){return this._resetCurrentPageSubscription(),this._loadPage()},r.prototype._onLoadMoreData=function(n){var t=this,i=this._options;return i.loading(!0),Q(this._dataNav.loadByContinuationToken()).then(function(){t._currentRequestId===n&&t._widget.options.items.push.apply(t._widget.options.items,t._dataNav.items())}).finally(function(){t._currentRequestId===n&&(i.loading(!1),t._dataNav.metadata()&&t._dataNav.metadata().continuationToken||
i.showLabel(!1))})},r.prototype._resetAndLoadData=function(){var n=this._getSortData();return this._currentRequestId=c(),this._dataNav.resetLoadByContinuationToken&&this._dataNav.resetLoadByContinuationToken(this._filterQS(),n),this._options.showLabel(!0),this._widget.options.items([]),this._onLoadMoreData(this._currentRequestId)},r.prototype._getSortData=function(){var n=this._widget.options.sortByList;return n?n():null},r}(u.GridExtension);n.PageableExtension=l;r.registerPlugin(i.ViewModels.Controls.Lists.Grid.Extensions.Pageable,l)}(h||(h={})),h});define("_generated/Less/Viva.Controls/Controls/Lists/Viva.Grid1.ReorderRow.css",["require","exports","module"],function(n,t,i){"use strict";window.fx.injectCss(i,".azc-grid-reorderRow.azc-grid table thead tr th:nth-child(2)>a{padding-left:0}.azc-grid-reorderRow col.azc-grid-reorderRow-col{width:16px}.azc-grid-reorderRow table tbody tr[draggable]{-webkit-user-drag:element}.azc-grid-reorderRow table tbody tr td.azc-grid-reorderRow-cell{padding-left:5px;padding-right:6px}.azc-grid-reorderRow table tbody tr td:nth-child(2){padding:0}.azc-grid-reorderRow.azc-grid-reorderRow-enabled table tbody tr:not([aria-disabled=true]):hover td.azc-grid-reorderRow-cell div{margin-top:4px}.azc-grid-reorderRow.azc-grid-reorderRow-enabled table tbody tr:not([aria-disabled=true]):hover td.azc-grid-reorderRow-cell div:before{content:url(Content/static/azc.grid.reorderrowextension.handle-hover.svg);width:5px;height:17px}.azc-grid-reorderRow.azc-grid-reorderRow-enabled table tbody tr:not([aria-disabled=true])[aria-selected=true]:hover td.azc-grid-reorderRow-cell div:before{content:url(Content/static/azc.grid.reorderrowextension.handle-active.svg)}.azc-grid-reorderRow .azc-grid-reorderRow-line{position:absolute;width:100%;height:3px;display:none}.azc-grid-reorderRow.azc-grid-reorderRow-active .azc-grid-reorderRow-line{display:block}")}
);define("Viva.Controls/Controls/Lists/Grid1/Viva.Grid1.ReorderRow",["require","exports","f","../../../Util/Viva.Util","./Viva.Grid1.FocusableRow","./Viva.Grid1","../../../../_generated/Less/Viva.Controls/Controls/Lists/Viva.Grid1.ReorderRow.css"],function(n,t,i,r,u,f){"use strict";var e;return function(n){var e=jQuery,h=window,t="azc-grid-reorderRow-active",s="azc-grid-reorderRow-enabled",c='attr: { "data-grid-reorder": true }',l="<div class='azc-grid-reorderRow-line azc-bg-muted'><\/div>",a="<col class='azc-grid-reorderRow-col' />",v="<th class='azc-grid-reorderRow-header'><\/th>",y="<td class='azc-grid-reorderRow-cell azc-br-muted'><div><\/div><\/td>",p="application/x-azc-grid-row",w=ko.observable,b="data:image/gif;base64,R0lGODlhAQABAJEAAAAAAP///////wAAACH5BAEAAAIALAAAAAABAAEAAAICVAEAOw==",o={},k=function(n){function f(t){n.call(this);this._options=t=t||{};t.disabled===undefined&&(t.disabled=w(!1));this._gridGuid=i.getUniqueId()}return __extends(f,n),Object.defineProperty(f.prototype,
"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),f.prototype.afterCreate=function(){var n=this;this._widget.element.append(l);ko.computed(function(){n._widget.element.toggleClass(s,!n.options.disabled())})},f.prototype.afterSetTemplates=function(n){var t=n.getHtmlTemplate("bodyRowsCore"),i=n.getHtmlTemplate("header"),r=n.getHtmlTemplate("colgroup");t.addAttribute("tr","data-bind",c);t.prepend("tr",y);i.prepend("tr",v);r.prepend("colgroup",a)},f.prototype.afterAttachEvents=function(){var n=this,u=this;this._widget.element.on("dragstart","[draggable]",this._dragstartEventHandler=function(t){if(!n._widget._extensionTrigger("shouldNotAllowDrag").some(function(n){return!!n})){r.DataTransfer.isLegacyDataTransfer()&&h.getSelection().removeAllRanges();var f=i.getUniqueId(),e=t.target,u=new r.DataTransfer(t.originalEvent.dataTransfer),s=document.createElement("img");s.src=b;o[f]={rowMetadata:ko.dataFor(e),element:e};u.effectAllowed="move";u.setDragImage(s,-25,-25);
u.setData(n._getMimeType(),f)}}).on("drop",this._dropEventHandler=function(t){var i=new r.DataTransfer(t.originalEvent.dataTransfer),f=i.types;if(f.some(function(t){return t===n._getMimeType()})){i.dropEffect="move";var e=i.getData(n._getMimeType()).split(";"),s=e.map(function(n){return o[n].rowMetadata}),u={rowMetadata:s,clientX:t.originalEvent.pageX,clientY:t.originalEvent.pageY,position:n._positionLine(t)};t.preventDefault();setTimeout(function(){n._widget.trigger("rowReorder",r.cloneEvent(t,"rowReorder"),u);n._widget.options.events("reorder",u)},0)}}).on("dragend",this._dragendEventHandler=function(){o={};n._widget.element.removeClass(t)}).on("mouseenter.azcGrid","tbody tr[data-grid-reorder=true]:not([aria-disabled=true]) td.azc-grid-reorderRow-cell",this._mouseenterEventHandler=function(){u.options.disabled()||e(this).closest("[role=row]").attr("draggable","true")}).on("mouseleave.azcGrid","tbody tr[data-grid-reorder=true]:not([aria-disabled=true]) td.azc-grid-reorderRow-cell",this.
_mouseleaveEventHandler=function(){e(this).closest("[role=row]").removeAttr("draggable")});e("html").on("dragover",this._dragoverEventHandler=function(i){if(e.contains(n._widget.element[0],i.target)){var f=new r.DataTransfer(i.originalEvent.dataTransfer),u=f.types;u&&u.some(function(t){return t===n._getMimeType()})&&(n._positionLine(i),i.preventDefault())}else n._widget.element.hasClass(t)&&n._widget.element.removeClass(t)})},f.prototype.getOrder=function(){return 21},f.prototype.getDependencies=function(){return[new u.FocusableRowExtension]},f.prototype.beforeCreate=function(){var n=this,t=["azc-grid-editableRow"];this._widget.options.extensions.forEach(function(i){if(t.indexOf(i.getName())>=0)throw new Error("The extension "+i.getName()+" is not compatible with the extension "+n.getName()+".");})},f.prototype.beforeDestroy=function(){this._widget.element.removeClass(t).removeClass(s);this._dragstartEventHandler&&(this._widget.element.off("dragstart",this._dragstartEventHandler),this.
_dragstartEventHandler=null);this._dropEventHandler&&(this._widget.element.off("drop",this._dropEventHandler),this._dropEventHandler=null);this._dragendEventHandler&&(this._widget.element.off("dragend",this._dragendEventHandler),this._dragendEventHandler=null);this._dragoverEventHandler&&(this._widget.element.off("dragover",this._dragoverEventHandler),this._dragoverEventHandler=null);this._mouseenterEventHandler&&(this._widget.element.off("mouseenter.azcGrid",this._mouseenterEventHandler),this._mouseenterEventHandler=null);this._mouseleaveEventHandler&&(this._widget.element.off("mouseleave.azcGrid",this._mouseleaveEventHandler),this._mouseleaveEventHandler=null)},f.prototype.getName=function(){return f.Name},f.prototype.getAdditionalColumns=function(){return 1},f.prototype._getMimeType=function(){return(p+"-"+this._gridGuid).toLowerCase()},f.prototype._positionLine=function(n){var s=e(n.target),r=null,i,f;if(s.hasClass("azc-grid-reorderRow-line"))r=this._savedIndex;else if(e.contains(this.
_widget.element[0],n.target)){if(this._widget.element.hasClass(t)||this._widget.element.addClass(t),i=s.closest("[data-grid-reorder=true]"),f=n.originalEvent,i.length===0){var h=this._widget.element.find("[data-grid-reorder=true]"),c=h.first(),v=h.last();i=f.pageY<=c.offset().top?c:v}r=i.index();var l=i.outerHeight(),o=i.offset(),u=i.position(),a=this._widget.element.find(".azc-grid-reorderRow-line");o.top=Math.floor(o.top);u.top=Math.floor(u.top);f.pageY-o.top<l/2?a.css("top",Math.round(u.top)):(a.css("top",Math.round(u.top+l)),r++);this._savedIndex=r}else this._widget.element.removeClass(t);return r},f.Name="azc-grid-reorderRow",f}(f.Extension);n.ReorderRowExtension=k}(e||(e={})),e});define("MsPortalImpl.Controls/Controls/Lists/Grid1/Grid1.ReorderRow",["require","exports","f","./Grid1.Extensibility","./Grid1.Impl","Viva.Controls/Controls/Lists/Grid1/Viva.Grid1.ReorderRow"],function(n,t,i,r,u,f){"use strict";var e;return function(n){var e=i.ViewModels.Controls.Lists.Grid,t=function(n)
{function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.beforeDestroy=function(){this._handler&&(this._widget._instance.element.off("rowReorder",this._handler),this._handler=null)},t.prototype.getExtension=function(n){var t=n||{},i=t.reorderRow||{},r=i.disabled;return new f.ReorderRowExtension({disabled:r})},t.prototype.initializeExtension=function(){var t=this._widget,n=t.options;t._instance.element.on("rowReorder",this._handler=function(i,r){var b=n.extensionsOptions||{},h=b.reorderRow||{},k=h.automaticallyReorderRows,c=h.rowReorder,l=r.rowMetadata,y,f,s,p,w;if(k!==!1){var u=n.items.peek(),e=[],a=Math.min(u.length,Math.max(0,r.position)),v=0,o=!1;for(l.forEach(function(n){e.push(n.item)}),y=function(n){return e.indexOf(n)>=0?!0:!1},f=0,s=0;f<u.length;f++,s++)p=u[f],y(p)&&(o||(n.items.valueWillMutate(),o=!0),u.splice(f,1),f--,s<a&&v++);o&&(u.splice.apply(u,[a-v,0].concat(e)),n.items.valueHasMutated())}c&&(w={rowMetadata:l.map(function(n){return t.getRowMetadata(n.item)}
),position:r.position},c(i,w))})},t.prototype.getName=function(){return"ReorderRowExtension"},t.prototype.getOrder=function(){return 0},t}(u.GridExtension);n.ReorderRowExtension=t;r.registerPlugin(e.Extensions.ReorderRow,t)}(e||(e={})),e});define("_generated/Less/Viva.Controls/Controls/Lists/Viva.Grid1.ResizableColumn.css",["require","exports","module"],function(n,t,i){"use strict";window.fx.injectCss(i,'.azc-grid.azc-grid-resizableColumn .azc-grid-tableContainer{position:relative}.azc-grid.azc-grid-resizableColumn .azc-grid-resizableColumn-handle{position:absolute;right:-5px;top:0;height:40px;width:10px;cursor:ew-resize;z-index:1;display:-webkit-flex;display:flex;-webkit-justify-content:center;justify-content:center}.azc-grid.azc-grid-resizableColumn .azc-grid-resizableColumn-handle .azc-grid-resizableColumn-handle-line{width:1px;height:100%;opacity:0}.azc-grid.azc-grid-resizableColumn .azc-grid-resizableColumn-ghostLine{position:absolute;width:1px;top:0;z-index:1}.azc-grid.azc-grid-resizableColumn .azc-grid-show-handles .azc-grid-resizableColumn-handle .azc-grid-resizableColumn-handle-line,.azc-grid.azc-grid-resizableColumn thead:hover .azc-grid-resizableColumn-handle-line,.azc-grid.azc-grid-resizableColumn.azc-grid-resizing .azc-grid-resizableColumn-handle-line{opacity:1}.azc-grid.azc-grid-resizableColumn.azc-grid-resizing *{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.azc-grid.azc-grid-resizableColumn .azc-grid-headerlabel:after{content:"\\00a0"}')}
);define("Viva.Controls/Controls/Lists/Grid1/Viva.Grid1.ResizableColumn",["require","exports","./Viva.Grid1","../../../../_generated/Less/Viva.Controls/Controls/Lists/Viva.Grid1.ResizableColumn.css"],function(n,t,i){"use strict";var r;return function(n){var t=jQuery,u=window,e="azc-grid-resizing",s="<!-- ko if: $ctl.getPlugin(\"azc-grid-resizableColumn\").options.resizable() && hasHandle() --><div class='azc-grid-resizableColumn-handle'><div class='azc-grid-resizableColumn-handle-line azc-bg-muted'><\/div><\/div><!-- /ko -->",f=ko.observable,r=ko.dataFor,o=ko.isObservable,h=function(n){function i(i){n.call(this);this._options=t.extend(this._getDefaultResizableColumnOptions(),i)}return __extends(i,n),Object.defineProperty(i.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),i.prototype.afterSetTemplates=function(n){var t=n.getHtmlTemplate("headerCell");t.append("div",s)},i.prototype.afterCreate=function(){var n=this,t=this._widget.options.columns();
t.length>0&&(this._lastColumnObject=t[t.length-1],this._lastColumnObject.hasHandle(!1));this._columnsSubscription=this._widget.options.columns.subscribe(function(t){t.length&&(n._lastColumnObject&&n._lastColumnObject.hasHandle(!0),n._lastColumnObject=t[t.length-1],n._lastColumnObject.hasHandle(!1))})},i.prototype.afterAttachEvents=function(){var n=this,i=this;this._widget.element.on("mousedown.azcGridResizableColumn",".azc-grid-resizableColumn-handle",this._mouseDownEventHandler=function(i){var e,u,f,s;(n._mouseDownPosition=i.pageX,n._handle=t(i.currentTarget),n._columns=n._widget.element.find("th"),e=n._handle.parent().closest("th"),f=r(e[0]),i.preventDefault(),f.disableResizable())||(u=n._getNextResizableColumn(n._columns,n._widget.options.columns.indexOf(f)+1),u!==null)&&(s=r(u[0]),o(f.width)&&o(s.width))&&n._resizeStart(e,u)})},i.prototype.getName=function(){return i.Name},i.prototype.getOrder=function(){return 16},i.prototype.beforeDestroy=function(){this._mouseDownEventHandler&&(
this._widget.element.off("mousedown.azcGridResizableColumn",this._mouseDownEventHandler),this._mouseDownEventHandler=null);this._mouseUpEventHandler&&(t(u.document).off("mouseup.azcGridResizableColumn",this._mouseUpEventHandler),this._mouseUpEventHandler=null);this._mouseMoveEventHandler&&(t(u.document).off("mousemove.azcGridResizableColumn",this._mouseMoveEventHandler),this._mouseMoveEventHandler=null);this._columnsSubscription&&(this._columnsSubscription.dispose(),this._columnsSubscription=null);this._widget.element.removeClass(e)},i.prototype.getDefaultColumnProperties=function(){return{disableResizable:f(!1),hasHandle:f(!0)}},i.prototype._getDefaultResizableColumnOptions=function(){return{resizable:f(!0),resizeToPercent:f(!0),minWidth:20}},i.prototype._resizeStart=function(n,i){var f=this,h,w=this._widget.element.find(".azc-grid-tableHeader"),b=this._widget.element.find(".azc-grid-tableContent"),o=t("<div class='azc-grid-resizableColumn-ghostLine azc-bg-selected'><\/div>"),s=this._widget.
element.find(".azc-grid-tableContainer"),c=n.offset().left+this._options.minWidth,l=i.offset().left+i.width()-this._options.minWidth,a,v,y,p;h=this._handle.find(".azc-grid-resizableColumn-handle-line");a=h.offset().left;v=this._tableOffset(s,a);o.offset({left:v});o.css("position","absolute");y=w.height();p=b.height();o.height(y+p);s.append(o);t(u.document).on("mousemove.azcGridResizableColumn",this._mouseMoveEventHandler=function(n){var t=n.pageX,i=Math.min(Math.max(t,c),l);n.preventDefault();f._widget.element.addClass(e);o.offset({left:i})});t(u.document).one("mouseup.azcGridResizableColumn",this._mouseUpEventHandler=function(h){var a,w,b,v,k,y,d,p,nt=h.pageX,g=[],tt=Math.min(Math.max(nt,c),l),it=r(i[0]),rt=r(n[0]);t(u.document).off("mousemove.azcGridResizableColumn",f._mouseMoveEventHandler);f._mouseMoveEventHandler=null;f._widget.element.removeClass(e);o.remove();w=n.width();b=i.width();p=tt-f._mouseDownPosition;v=w+p;k=b-p;f._options.resizeToPercent()?(a=s.width(),d=f._convertToPercent(
a,k),y=f._convertToPercent(a,v),it.width(d)):(f._columns.each(function(n,i){var u=t(i),f=r(i);f.hasOwnProperty("width")?g.push(u.width().toString()+"px"):u.width(u.width())}),f._widget.options.columns().forEach(function(n,t){n.width(g[t])}),y=v.toString()+"px");rt.width(y)})},i.prototype._getCol=function(n){return t(".col"+this._columns.index(n))},i.prototype._getNextResizableColumn=function(n,t){var e=this._widget.options.columns(),u,o,f,i;if(t===e.length)u=null;else if(f=e[t],f.hasOwnProperty("disableResizable")&&!f.disableResizable()){for(i=0;i<n.length;i++)if(r(n.eq(i)[0]).columnId===f.columnId){o=n.eq(i);break}u=o}else t++,u=this._getNextResizableColumn(n,t);return u},i.prototype._convertToPercent=function(n,t){if(n>0)return(t/n*100).toString()+"%"},i.prototype._tableOffset=function(n,t){return t-n.offset().left},i.Name="azc-grid-resizableColumn",i}(i.Extension);n.ResizableColumnExtension=h}(r||(r={})),r});define("MsPortalImpl.Controls/Controls/Lists/Grid1/Grid1.ResizableColumn",[
"require","exports","f","./Grid1.Extensibility","./Grid1.Impl","Viva.Controls/Controls/Lists/Grid1/Viva.Grid1.ResizableColumn"],function(n,t,i,r,u,f){"use strict";var e;return function(n){var e=i.ViewModels.Controls.Lists.Grid,t=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.beforeDestroy=function(){},t.prototype.getExtension=function(n){var t=n,i=t&&t.resizableColumn;return new f.ResizableColumnExtension(i)},t.prototype.getName=function(){return"ResizableColumn"},t.prototype.getOrder=function(){return 0},t}(u.GridExtension);n.ResizableColumnExtension=t;r.registerPlugin(e.Extensions.ResizableColumn,t)}(e||(e={})),e});define("_generated/Less/Viva.Controls/Controls/Lists/Viva.Grid1.Scrollable.css",["require","exports","module"],function(n,t,i){"use strict";window.fx.injectCss(i,".azc-grid.azc-grid-scrollable{width:100%;height:100%;overflow:hidden}.azc-grid.azc-grid-scrollable div.azc-grid-container{width:100%;height:100%;overflow:hidden;display:-webkit-flex;display:flex;-webkit-flex-direction:column;flex-direction:column}.azc-grid.azc-grid-scrollable div.azc-grid-container div.azc-grid-tableContainer{width:100%;height:100%;overflow:hidden;padding-top:40px;position:relative;-webkit-flex:1 1 auto;flex:1 1 auto;display:-webkit-flex;display:flex;-webkit-flex-direction:column;flex-direction:column}.azc-grid.azc-grid-scrollable div.azc-grid-container div.azc-grid-tableContainer div.azc-grid-tableScrollContainer{width:100%;height:100%;overflow:auto;-webkit-flex:1 1 auto;flex:1 1 auto}.azc-grid.azc-grid-scrollable div.azc-grid-container div.azc-grid-tableContainer div.azc-grid-tableScrollContainer table.azc-grid-tableHeader{position:absolute;top:0;left:0}.azc-grid.azc-grid-scrollable div.azc-grid-container div.azc-grid-tableContainer tr.azc-grid-scrollable-above+tr[role=row] td{border-top-width:1px;border-top-style:solid}")}
);define("Viva.Controls/Controls/Lists/Grid1/Viva.Grid1.Scrollable",["require","exports","f","MsPortalImpl/Base/Base.FeatureDetection","../../../Util/Viva.Resize","./Viva.Grid1","../../../../_generated/Less/Viva.Controls/Controls/Lists/Viva.Grid1.Scrollable.css"],function(n,t,i,r,u,f){"use strict";var e;return function(n){var a=jQuery,e=window,v="<!-- ko template: { name: ko.pureComputed(function () { return  $ctl.getPlugin(\"azc-grid-scrollable\").asyncItems().length ? 'bodyCore' : 'bodyNoItems'; }), data: $data } --><!-- /ko -->",y="<tbody class='azc-grid-groupdata' role='rowgroup'><tr class='azc-grid-scrollable-above'><\/tr><!-- ko foreach: $ctl.getPlugin(\"azc-grid-scrollable\").asyncItems --><!-- ko template: { name: template, data: item() } --><!-- /ko --><!-- /ko --><\/tbody>",p="<tr class='azc-grid-scrollable-loading'><td class='azc-br-muted' data-bind='attr: { colspan: $ctl._getTotalColumns() }'><\/td><\/tr>",w="<tr class='azc-grid-scrollable-error'><td class='azc-br-muted' data-bind='attr: { colspan: $ctl._getTotalColumns() }'><\/td><\/tr>",
s=ko.observable,b=ko.observableArray,o=ko.utils,t=Math.floor,h=Math.min,k=i.forEachKey,d=i.disposeDisposable,c=function(){function n(n,t,i){var r=this;this.index=n;this.item=s(i);this.state=s(t);this.template=ko.pureComputed(function(){switch(r.state()){case 0:return"bodyRowsLoading";case 2:return"bodyRowsError";case 1:default:return"bodyRows"}})}return n}(),l;n.AsyncItem=c;l=function(n){function f(t){n.call(this);this._disposables=[];this._options=a.extend(this._getDefaultScrollableOptions(),t);this.virtualScrolling&&(this.asyncItems=b([]),this._resetAsyncItemCache())}return __extends(f,n),Object.defineProperty(f.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"virtualScrolling",{get:function(){return!!this.options.dataProvider},enumerable:!0,configurable:!0}),f.prototype.afterCreate=function(){var n=this,t=this._widget.element;this._scrollContainer=t.find(".azc-grid-tableScrollContainer");this._disposables.push(
this._scrollContainer.setEvents(["scroll.azcGridScrollable",function(){n._update()}]));this.virtualScrolling&&(this._lastWidth=t.width(),this._lastHeight=t.height(),u.track(this._widget.lifetimeManager,t,function(t,i){n._onResize(t,i)}),this._disposables.push(this.options.dataProvider.totalItemCount.subscribe(function(){n._resetAsyncItemCache();n._update()})));this._update()},f.prototype.afterSetTemplates=function(n){this.virtualScrolling&&k({body:v,bodyCore:y,bodyRowsLoading:p,bodyRowsError:w},function(t,i){n.setTemplate(t,i)})},f.prototype.getDefaultColumnProperties=function(){return{}},f.prototype.beforeDestroy=function(){this._updateViewportAsyncTimeout&&(e.clearTimeout(this._updateViewportAsyncTimeout),this._updateViewportAsyncTimeout=null);d(this._disposables);this._disposables=[];this._asyncItemCache=null;this._latestRequest=null},f.prototype.getName=function(){return f.Name},f.prototype.getOrder=function(){return 15},f.prototype.shouldNotAllowSelectAll=function(){return this.virtualScrolling?
!0:!1},f.prototype.reset=function(){this._resetAsyncItemCache();this.virtualScrolling&&this._widget.options.items.removeAll();var n=this._scrollContainer;n&&(n.scrollLeft(0),n.scrollTop(0),this._update())},f.prototype._onResize=function(n,t){t===this._lastHeight?n!==this._lastWidth&&(this._lastWidth=n,this._updateHeader()):(this._lastHeight=t,this._lastWidth=n,this._update())},f.prototype._getDefaultScrollableOptions=function(){return{dataProvider:null}},f.prototype._resetAsyncItemCache=function(){this._asyncItemCache=[];this._asyncItemCache.length=f._asyncItemCacheSize},f.prototype._updateHeader=function(){var t,r,u,f,n=this._scrollContainer;n&&(t=n.find(".azc-grid-tableHeader"),t.length&&(r=-n.scrollLeft(),t.css("left",r<0?r+"px":""),u=i.truncate(n[0].offsetWidth-n[0].clientWidth),t.css("width",u>0?"calc(100% - "+u+"px)":""),f=t.outerHeight(),n.parent(".azc-grid-tableContainer").css("padding-top",f+"px")))},f.prototype._update=function(){this._updateHeader();this.virtualScrolling&&this.
_updateViewportAsync()},f.prototype._updateViewportAsync=function(){var n=this,t=this._options.updateViewportAsyncDebounceTime||f._updateViewportAsyncDebounceTime;this._updateViewportAsyncTimeout?e.clearTimeout(this._updateViewportAsyncTimeout):t=0;this._updateViewportAsyncTimeout=e.setTimeout(function(){if(n._updateViewportAsyncTimeout)try{n._updateViewport();n._updateHeader()}catch(t){}},t)},f.prototype._getRowHeight=function(){var t,n;return n=this._scrollContainer.find(".azc-grid-full td"),n.length&&(t=n.outerHeight()),t||this._options.defaultRowHeight||f._defaultRowHeight},f.prototype._getTotalScrollHeight=function(n,i){var u,e;return e=t(f._maxElementHeightFactor*r.getMaxElementHeight()),u=t(n*i),h(u,e)},f.prototype._updateContentHeight=function(n){var t=this._widget.element.find(".azc-grid-tableContent");t.height(n)},f.prototype._updateAboveRowHeight=function(n){var t=this._scrollContainer.find(".azc-grid-scrollable-above");t.css("height",n||"")},f.prototype._updateViewport=function(
){var n,s,c,r,v,l,a,u,e,y,p,w,b,o;n=this.options.dataProvider.totalItemCount();i.isNullOrUndefined(n)&&(n=f._defaultRequestCount);s=this._getRowHeight();c=this._getTotalScrollHeight(n,s);this._updateContentHeight(c);o=this._scrollContainer[0];r=o.clientHeight;v=o.scrollTop||0;l=o.scrollHeight||c||r;r&&(a=t(n*(v/l)),u=Math.ceil(r/s),e=Math.max(a-u,0),y=h(a+u+u,n),p=y-e,w=t(l*(e/n)),this._updateAboveRowHeight(w),b=this._request(e,p),this._render(b))},f.prototype._render=function(n){var t=o.compareArrays(this.asyncItems(),n,{sparse:!0}),i=o.createArraySplices(t);o.applyArraySplices(this.asyncItems,i)},f.prototype._updateGridItems=function(n){var i,r,t;n&&n.length&&(t=this._widget.options,i=t.items.peek(),i?(r=[i.length,0],n.forEach(function(n){i.indexOf(n)<0&&r.push(n)}),r.length>2&&t.items.splice.apply(t.items,r)):t.items(n))},f.prototype._request=function(n,t){for(var h=this,r=[],f,o=this._asyncItemCache,e,i,s,u=0;u<t;u++)e=n+u,s=e%o.length,i=o[s],i&&i.index===e||(i=new c(e,0,null),o[s]=
i,i.state()===2&&i.state(0)),r.push(i);return t>0&&(f=this.options.dataProvider.fetch(n,t),this._latestRequest=f,f.then(function(n){var t=[];r.forEach(function(i,r){var u=n[r];u?(i.item(u),i.state(1),t.push(u)):i.state(2)});f===h._latestRequest&&h._updateGridItems(t)},function(){r.forEach(function(n){n.state()!==1&&n.state(2)})})),r},f.prototype.shouldRetainRowMetadata=function(){return!0},f.prototype.scrollTo=function(n){this._scrollContainer[0].scrollTop=n/this._options.dataProvider.totalItemCount.peek()*this._scrollContainer[0].scrollHeight;this._updateViewport()},f.Name="azc-grid-scrollable",f._updateViewportAsyncDebounceTime=256,f._asyncItemCacheSize=2048,f._defaultRowHeight=36,f._maxElementHeightFactor=.8,f._defaultRequestCount=100,f}(f.Extension);n.ScrollableExtension=l}(e||(e={})),e});define("MsPortalImpl.Controls/Controls/Lists/Grid1/Grid1.Scrollable",["require","exports","f","./Grid1.Extensibility","./Grid1.Impl","Viva.Controls/Controls/Lists/Grid1/Viva.Grid1.Filterable","Viva.Controls/Controls/Lists/Grid1/Viva.Grid1.Scrollable"],
function(n,t,i,r,u,f,e){"use strict";var o;return function(n){var o=i.ViewModels.Controls.Lists.Grid,s=ko.observable,t=function(n){function t(){n.apply(this,arguments);this._filterQueryString=s(null)}return __extends(t,n),t.prototype.getExtension=function(n){var i=this,r=n,t=r&&r.scrollable,u={dataProvider:null};return t.dataNavigator&&(this._dataNavigator=t.dataNavigator,u.dataProvider={totalItemCount:ko.pureComputed(function(){var n,i=t.dataNavigator.metadata();return i&&(n=i.totalItemCount),n}),fetch:function(n,r){var u;return u=i._widget.options.sortByList?i._widget.options.sortByList():null,t.dataNavigator.loadBySkipTake(n,r,i._filterQueryString(),u).then(function(){return t.dataNavigator.items()})}}),this._azcScrollableExtension=new e.ScrollableExtension(u),this._azcScrollableExtension},t.prototype.initializeExtension=function(){var n=this,i=this._widget._instance.getPlugin(f.FilterableExtension.Name),t;i&&(t=i.options,t.serverFilter()&&this._filterQueryString(t.queryString()),t.
filterCallback()||t.filterCallback(function(t){if(n._filterQueryString()!==t)return n._filterQueryString(t),n._dataNavigator&&n._dataNavigator.metadata(null),n.resetExtension()}))},t.prototype.resetExtension=function(){var n=this;return Q().then(function(){n._azcScrollableExtension.reset()})},t.prototype.beforeDestroy=function(){this._azcScrollableExtension=null},t.prototype.getName=function(){return"Scrollable"},t.prototype.getOrder=function(){return 0},t}(u.GridExtension);n.ScrollableExtension=t;r.registerPlugin(o.Extensions.Scrollable,t)}(o||(o={})),o});define("_generated/Less/Viva.Controls/Controls/Lists/Viva.Grid1.SortableColumn.css",["require","exports","module"],function(n,t,i){"use strict";window.fx.injectCss(i,".azc-grid-sortableColumn .azc-grid-sortableColumn-target{display:-webkit-flex;display:flex;-webkit-flex:1 1 auto;flex:1 1 auto;cursor:pointer}.azc-grid-sortableColumn .azc-grid-sortableColumn-image-container{display:flex;-webkit-flex:0 0 auto;flex:0 0 auto;-webkit-align-items:center;align-items:center;-webkit-justify-content:center;justify-content:center;position:absolute;top:0;right:9px}.azc-grid-sortableColumn .azc-grid-sortableColumn-sortImage{width:11px;height:38px}.azc-grid-sortableColumn .azc-grid-headerlabel{-webkit-flex:1 1 calc(100% - 11px);flex:1 1 calc(100% - 11px);margin-right:22px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:15px}")}
);define("Viva.Controls/Controls/Lists/Grid1/Viva.Grid1.SortableColumn",["require","exports","f","./Viva.Grid1.FocusableRow","./Viva.Grid1","MsPortalImpl/Resources/ImplScriptResources","MsPortalImpl/Base/Base.KeyboardHelper","../../../../_generated/Less/Viva.Controls/Controls/Lists/Viva.Grid1.SortableColumn.css"],function(n,t,i,r,u,f,e){"use strict";var o;return function(n){var l=i.Base,h=l.Images,c=l.EventTypes,a=i.ViewModels.Controls.Lists.Grid,t=a.SortOrder,b=window,s=".azc-grid-sortableColumn-target",o=f.Viva.Grid.Sortable,v="<span class='azc-grid-sortableColumn-target' data-bind='attr: { tabindex: $tabIndex, title: $ctl.getPlugin(\"azc-grid-sortableColumn\")._getTitle(sortOrder()), \"aria-sort\": $ctl.getPlugin(\"azc-grid-sortableColumn\")._getAria(sortOrder())}'><div class='azc-grid-headerlabel' data-bind='text: name'><\/div><div class='azc-grid-sortableColumn-image-container'><div class='azc-grid-sortableColumn-sortImage' data-bind='image: $ctl.getPlugin(\"azc-grid-sortableColumn\")._getImage(sortOrder(), $data), css: sortOrder() === 0 ? \"fxs-fill-secondary\" : \"azc-fill-text\"'><\/div><\/div><\/span>",
y=ko.observable,p=i.disposeDisposable,w=function(n){function u(t){n.call(this);this._disposables=[];this._options=t||{}}return __extends(u,n),u.prototype.setInstance=function(t){n.prototype.setInstance.call(this,t)},Object.defineProperty(u.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),u.prototype.afterSetTemplates=function(n){var t=n.getTemplate("headerCellContent");n.setTemplate("headerCellContent","<!-- ko if: sortable -->"+v+"<!-- /ko --><!-- ko ifnot: sortable -->"+t+"<!-- /ko -->")},u.prototype.afterCreate=function(){var t=this._options,i=this._widget,r=i.options,n;t.sortClientSide&&(n=r.sortByList(),n&&n.length&&t.sortCallback(n),r.sortByList.subscribe(i.lifetimeManager,function(n){t.sortCallback(n)}))},u.prototype.afterAttachEvents=function(){var n=this,u=this._widget.getPlugin(r.FocusableRowExtension.Name),f=this._widget.element;this._disposables.push(f.setEvents([c.click,s,function(r){var u=ko.dataFor(this),h=u.itemKey,f=n._widget.options.
sortByList,c=r.ctrlKey,s=u.sortOrder()===t.Ascending?t.Descending:t.Ascending,e={itemKey:u.itemKey,sortOrder:s},o;r.preventDefault();c?(o=i.find(f(),function(n){return n.itemKey===h}),o?f.replace(o,e):f.push(e)):(n._resetColumns(),f([e]));u.sortOrder(s)}],[c.keydown,s,function(n){e.getModifierKeys(n)===0&&(n.which===13||n.which===32)&&($(this).trigger(c.click),n.preventDefault())}],["keydown.azc-grid-sortableColumn",s,u?function(n){var t=$(n.currentTarget),i=f.find(s).last();t[0]===i[0]&&n.which===9&&e.getModifierKeys(n)===0&&u._focus(n)}:null]))},u.prototype._resetColumns=function(){var n=this._widget.options,i=n.sortByList();i.length!==0&&n.columns().forEach(function(n){n.sortOrder(t.Unsorted)})},u.prototype._getImage=function(n){switch(n){case t.Ascending:return h.CaretUp();case t.Descending:return h.CaretDown();default:return h.CaretUp()}},u.prototype._getAria=function(n){switch(n){case t.Ascending:return o.ascending.toLowerCase();case t.Descending:return o.descending.toLowerCase()
default:return null}},u.prototype._getTitle=function(n){switch(n){case t.Ascending:return o.ascending;case t.Descending:return o.descending;default:return o.unsorted}},u.prototype.getDefaultColumnProperties=function(){return{sortable:!0,sortOrder:y(t.Unsorted)}},u.prototype.beforeDestroy=function(){p(this._disposables);this._disposables=[]},u.prototype.getName=function(){return u.Name},u.Name="azc-grid-sortableColumn",u}(u.Extension);n.SortableColumnExtension=w}(o||(o={})),o});define("MsPortalImpl.Controls/Controls/Lists/Grid1/Grid1.SortableColumn",["require","exports","f","./Grid1.Extensibility","./Grid1.Impl","Viva.Controls/Controls/Lists/Grid1/Viva.Grid1.SortableColumn"],function(n,t,i,r,u,f){"use strict";var e;return function(n){var e=i.ViewModels.Controls.Lists.Grid,t=function(n){function t(){n.apply(this,arguments);this._dataNavigator=null}return __extends(t,n),t.prototype.getExtension=function(n){var i=n,r=i&&i.sortableColumn,t=r.dataNavigator;return t&&(this._dataNavigator=t),new
f.SortableColumnExtension({sortClientSide:!t,sortCallback:r.sortCallback||null})},t.prototype.initializeExtension=function(){},t.prototype.afterCreate=function(){var n=this,t=this._widget.options.sortByList;t.subscribe(this._widget.lifetimeManager,function(){var t=n._dataNavigator;t&&t.resetNavigation()})},t.prototype.beforeDestroy=function(){},t.prototype.getName=function(){return"SortableColumn"},t.prototype.getOrder=function(){return 0},t}(u.GridExtension);n.SortableColumnExtension=t;r.registerPlugin(e.Extensions.SortableColumn,t)}(e||(e={})),e});define("MsPortalImpl.Controls/Controls/Lists/Grid1/Grid1",["require","exports","./Grid1.Impl","MsPortalImpl.Controls/Controls/Lists/Grid1/Grid1.ContextMenuShortcut","MsPortalImpl.Controls/Controls/Lists/Grid1/Grid1.EditableRow","MsPortalImpl.Controls/Controls/Lists/Grid1/Grid1.Extensibility","MsPortalImpl.Controls/Controls/Lists/Grid1/Grid1.Filterable","MsPortalImpl.Controls/Controls/Lists/Grid1/Grid1.FocusableRow","MsPortalImpl.Controls/Controls/Lists/Grid1/Grid1.FocusableRowHover",
"MsPortalImpl.Controls/Controls/Lists/Grid1/Grid1.Formatter","MsPortalImpl.Controls/Controls/Lists/Grid1/Grid1.FormatterHtmlBindings","MsPortalImpl.Controls/Controls/Lists/Grid1/Grid1.Groupable","MsPortalImpl.Controls/Controls/Lists/Grid1/Grid1.Hierarchical","MsPortalImpl.Controls/Controls/Lists/Grid1/Grid1.Pageable","MsPortalImpl.Controls/Controls/Lists/Grid1/Grid1.ReorderRow","MsPortalImpl.Controls/Controls/Lists/Grid1/Grid1.ResizableColumn","MsPortalImpl.Controls/Controls/Lists/Grid1/Grid1.RightClickableRow","MsPortalImpl.Controls/Controls/Lists/Grid1/Grid1.Scrollable","MsPortalImpl.Controls/Controls/Lists/Grid1/Grid1.SelectableRow","MsPortalImpl.Controls/Controls/Lists/Grid1/Grid1.SortableColumn"],function(n,t,i){"use strict";var r;return function(n){var t,r,u;n.x=5;t=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(i.GridExtension);n.GridExtension=t;r=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(i.Widget);n.Widget=r;u=function(
n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(i.TrustedWidget);n.TrustedWidget=u}(r||(r={})),r})