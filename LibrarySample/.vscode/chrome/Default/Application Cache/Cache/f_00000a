define("HubsExtension/ArmHelpers/ArmApiEndpoints",["require","exports","f","i"],function(n,t,i,r){"use strict";var u;return function(t){function c(i){return f.multiCloudEnabled&&!i&&e.Diagnostics.createLog(n).error("Cloud name missing, ArmApi call may fail"),t.armEndpoints.first(function(n){return f.isEqualCloudName(n.cloudName,i)})}var f=r.Extension,e=i.Base,o=window,u=o.fx.environment,s=u.armInvokeApi,h=(u.armEndpoint||"").replace(/\/$/,"");t.armEndpoints=u&&u.armEndpoints||[];f.multiCloudEnabled||(t.armEndpoints=[{cloudName:e.Constants.DefaultCloudName,uri:h,invokeApi:s}]);t.getArmEndpointObject=c}(u||(u={})),u});define("HubsExtension/Common/AssetTypeCache",["require","exports","f","i","../ArmHelpers/ArmApiEndpoints","FxHubs/RpcEndPoints"],function(n,t,i,r,u,f){"use strict";var e;return function(n){function k(n){return{assetTypesInformation:t.assetTypes.get(n),isPartialSet:t.isPartialSet}}function nt(n){if(!c.get(n)){var t=Q.defer();c.set(n,t.promise);Q(y()).then(function(){t.resolve(
k(n))},function(n){t.reject(n)},function(){t.notify(k(n))})}return c.get(n)}function d(){return o||(o=p.getRegisteredAssetTypesInformationEndPoint.acquireObject(b,w,h).then(function(n){return g(n&&n.getValue()).finally(function(){n.dispose()})})),o}function tt(n,i){var u=n.toLowerCase(),r;return t&&(r=t.assetTypes.get(i).first(function(n){var t=n.resourceType;return t&&s.isEqualCloudName(n.cloudName,i)&&t.toLowerCase()===u}),r)?Q.resolve(r):p.getResourceTypeAssetTypeInformationEndPoint.invoke(b,w,{resourceTypes:[n],cloudName:i}).then(function(n){if(n&&n.length){var r=n[0];if(r.assetType)return t&&(r.cloudName=i,t.assetTypes.get(i).push(r)),Q.resolve(r)}throw new Error("Did not receive any asset type information from the shell");})}function a(n){return t&&!t.isPartialSet?Q.resolve({assetTypesInformation:t.assetTypes.get(n),isPartialSet:t.isPartialSet}):nt(n)}function it(n){return a(n).then(function(n){var t={};return(n&&n.assetTypesInformation||[]).map(function(n){var i=n.resourceType;i&&
(t[i.toLowerCase()]=n.icon||e.Images.Polychromatic.ResourceDefault())}),t})}function rt(n){return a(n).then(function(n){return n.assetTypesInformation=(n.assetTypesInformation||[]).filter(function(n){return!!n.resourceType}),n})}function v(i){var r=!1,f=i.isPartialSet;if(t&&(i.assetTypesInformation.every(function(i){var u=t.assetTypes.get(i.cloudName).first(function(n){return e.Utilities.deepEquals(n,i)});if(!u){r=!0;n.onlyPartialResultsAvailable(!0);return!1}return!0}),!r))n.onlyPartialResultsAvailable(f);t={assetTypes:new s.CloudMap,isPartialSet:f};i.assetTypesInformation.forEach(function(n){n.extensionName===e.Constants.ExtensionNames.Hubs?u.armEndpoints.forEach(function(i){var r=e.Utilities.clone(n,!0);r.cloudName=i.cloudName;t.assetTypes.getOrSet(i.cloudName,[]).push(r)}):t.assetTypes.getOrSet(n.cloudName,[]).push(n)})}function y(){return Q(d()).then(function(n){return v(n),n},h,function(n){return v(n),n})}function ut(){o&&(t=h,c=new s.CloudMap,o=h,y(),l.forEach(function(n){n()}))}
function ft(n){l.push(n)}function et(n){l.remove(n)}var e=i.Base,s=r.Extension,p=f.AssetTypes,h=undefined,w=e.Constants.Shell,b=e.Rpc.Internal.client,g=ko.utils.unwrapObservable,t,c=new s.CloudMap,o,l=[];n.onlyPartialResultsAvailable=ko.observable();n.getRegisteredAssetTypesInformation=d;n.getResourceTypeAssetTypeInformation=tt;n.getRegisteredAssetTypes=a;n.getRegisteredResourceTypesIcons=it;n.getRegisteredResourceTypes=rt;n.updateCache=v;n.primeRegisteredAssetTypesCache=y;n.assetTypeCacheUpdated=ut;n.registerAssetTypeCacheUpdatedCallback=ft;n.unregisterAssetTypeCacheUpdatedCallback=et}(e||(e={})),e});define("HubsExtension/ArmHelpers/ArmApisStartup",["require","exports","f","i","FxHubs/RpcEndPoints","../Common/AssetTypeCache","./ArmApiEndpoints"],function(n,t,i,r,u,f,e){"use strict";var o;return function(t){function gt(n){var t=e.getArmEndpointObject(n);return t||it.endpointNotFound(n),t.uri}function p(n){return e.getArmEndpointObject(n).invokeApi}function a(n){return n.replace(wi,"")}
function di(n){return n.replace(bi,o)}function c(n){return n.toLowerCase()}function gi(n,t){var r=i.trimEnd(t,o)+i.ensurePrefix(n,o),u=pi.exec(r);return u||it.invalidUrlEndpoint(r),r=u[1]?u[1]+o:"",r+=di(a(u[7])),!u[1]&&u[7].startsWith(o)&&(r=o+r),u[8]&&(r+=u[8]),r}function v(n,t){return ei.isUriAbsolute(n)?n:gi(n,gt(t))}function nr(n){return{reason:n.trim(),extension:d}}function w(n){var t,r,i,u;return n?(t=c(n.extension||st),t=t===c(d)?"":"("+t+") ",r=n.reason||"unknown",i=""+t+r,i.length<=60)?i:(t=g(g(g(t,"extension",""),"microsoft","ms"),"azure","az"),i=""+t+r,i.length<=60)?i:(u=Math.max(0,57-t.length),""+t+r.substr(0,u)+"..."):null}function ni(n,i,r,u){n.length>t.maxBatchCallCount&&it.batchLimitExceeded();var f=n.map(function(n){return{httpMethod:"GET",relativeUrl:n}}),e={requests:f},o=v("batch"+bt,r);return y({cloudName:r,contentType:t.applicationJson,headers:{accept:t.applicationJson},isBackgroundTask:i,invokeApi:null,setAuthorizationHeader:!0,setTelemetryHeader:w(u),type:"POST",
uri:o,data:ht(e)}).then(function(n){return(n.content||{}).responses||[]})}function ut(n,i,r,u,f,e){if(!n.length)return Q();var o=n.pop(),s=v(o,f);return y({cloudName:f,contentType:t.applicationJson,headers:{accept:t.applicationJson},isBackgroundTask:u,invokeApi:p(f),setAuthorizationHeader:!0,setTelemetryHeader:w(e),type:"GET",uri:s}).then(function(t){var s=t.content,h=s&&s.value,c;return s?(h?(c=s.nextLink,c&&n.push(c)):r({api:o,reason:"Expected response.value not found."}),h&&i(h)):r({api:o,reason:"Expected response not found."}),ut(n,i,r,u,f,e)},function(t){return r({api:o,reason:t}),ut(n,i,r,u,f,e)})}function ti(n,t,i,r,u,f){return ut(n,t,i,r,u,f)}function ii(n,i,r,u,f,e,o,s){var c=v(n,e),h={headers:{accept:t.applicationJson},isBackgroundTask:u,invokeApi:s!==!1?p(e):null,setAuthorizationHeader:!0,setTelemetryHeader:w(o),type:i,uri:c,cloudName:e};return r&&(h.contentType=t.applicationJson,h.data=typeof r=="string"?r:ht(r)),f&&(h.dataType=f),y(h)}function tr(n,t,i,r,u,f,e){return ii(n,
t,i,r,"json",u,f,e).then(function(n){return n.content})}function ft(n,t,i,r,u,f){if(!n.length)return Q();var e=n.slice(0,20);return n.splice(0,20),ni(e,r,u,f).then(function(o){var s=[],h;return o.forEach(function(n,r){n=n||{};var u=n.content,f=u.value,o=u.nextLink;u&&f?(t(f),o&&s.push(o)):i({api:e[r],reason:n})}),h=Q(),s.length&&(h=ti(s,t,i,r,u,f)),h.then(function(){return ft(n,t,i,r,u,f)})},function(o){return i({api:e.join("|"),reason:o}),ft(n,t,i,r,u,f)})}function ir(n,t){var i={assetTriplet:n,cloudName:t};return hi.mapAssetIdToResourceIdEndPoint.invoke(ot.client,st,i)}function rr(){return yt+kt}function ur(n,t,i){var r;return h.isSubscriptionId(t)?[h.parseSubscriptionDescriptor(t).subscription]:ct(t)?(r=h.parseResourceGroupDescriptor(t),i&&i("resourcegroup eq '{0}'".format(r.resourceGroup)),[r.subscription]):lt(t)&&!h.isTenantResource(t)?(r=at(t),i&&i("resourcegroup eq '{0}'".format(r.resourceGroup)),[r.subscription]):n}function fr(n,t,i){li(b,function(t){return n.cloudName===t.cloudName&&
n.extensionName===t.extensionName&&n.assetType===t.assetType&&s.Utilities.deepEquals(n.assetId,t.assetId)})||(b.push(n),fi.hubsNotifyAssetDeletedDefinition.invoke(i||ot.client,ri,{cloudName:n.cloudName,extensionName:n.extensionName,reason:t,assetId:n.assetId,assetType:n.assetType}).finally(function(){Q.delay(2e3).then(function(){b.remove(n)})}))}var s=i.Base,k=s.Constants,ri=k.Shell,et=s.Diagnostics,ui=r,fi=ui.AssetManager,ei=s.Resources,ot=s.Rpc.Internal,oi=et.Telemetry,si=s.Net2,h=i.ViewModels.Services.ResourceTypes,hi=u.AssetTypes,ci=window,lr=ci.fx.environment,d=k.ExtensionNames.Hubs,st=k.Shell,g=i.replaceAll,y=si.Internal.ajaxExtended,ht=JSON.stringify,ct=h.isResourceGroupId,lt=h.isResourceId,at=h.parseResourceDescriptor,li=i.find,ai="$filter",pt,wt,l,bt,b,er,or,sr,hr,cr;t.applicationJson="application/json";var vt="microsoft.authorization",nt="-preview",yt="/locations";t.armApiVersion_april2014="2014-04-01";t.armApiVersion_april2014Preview=t.armApiVersion_april2014+nt;t.armApiVersion_july2014Preview=
"2014-07-01"+nt;t.armApiVersion_nov2015="2015-11-01";t.armApiVersion_july2015="2015-07-01";pt="2016-06-01";t.resourceTypeApiVersion=t.armApiVersion_april2014;wt=t.armApiVersion_april2014;t.armApiQueryParameter="api-version";t.armApiVersionQueryStringRaw=t.armApiQueryParameter+"="+t.armApiVersion_april2014Preview;l="?"+t.armApiVersionQueryStringRaw;t.armApiVersionQueryStringRawNov2015=t.armApiQueryParameter+"="+t.armApiVersion_nov2015;bt="?"+t.armApiVersionQueryStringRawNov2015;t.armApiVersionQueryStringRawJune2016=t.armApiQueryParameter+"="+pt;var kt="?"+t.armApiVersionQueryStringRawJune2016,vi=t.armApiQueryParameter+"="+t.armApiVersion_july2014Preview,yi="?"+vi;t.providersSegment="/providers";t.subscriptionsSegment="/subscriptions";t.subscriptionIdPathFormatter=t.subscriptionsSegment+"/{0}";t.resourceGroupsSegment="/resourcegroups";t.resourceProviderWithSubscriptionFormatter=t.subscriptionIdPathFormatter+t.providersSegment+"/{1}";var pi=/^((https?:)(\/\/\/?)([\w]*(?::[\w]*)?@)?([\d\w\.-]+)(?::(\d+))?)?([^?]*)?(?:(.*)?)$/i,
wi=/^[\s\/\/]*|[\/\/]*$/g,bi=/\/\//g,dt=" and ",o="/";t.maxBatchCallCount=20;var tt="",ki={batchLimitExceeded:tt,invalidUrlEndpoint:tt,endpointNotFound:tt},it=r.getErrorMap(ki),rt;t.getArmEndpointUri=gt;t.getArmInvokeApi=p;t.trimLeadingSpacesAndSlashes=a;t.getAbsoluteArmUri=v;t.makeResourceManagerTelemetry=nr;t.shortenTelemetryForAjax=w;t.callBatch=ni;t.callWithContinuation=ti;t.callRaw=ii;t.call=tr;t.callBatchWithContinuation=ft;t.mapAssetIdFromHubs=ir;t.listLocationsApi=rr;t.filterSubscriptionsByScope=ur;b=[];t.internalNotifyAssetDeleted=fr,function(n){function i(){return""+t.subscriptionsSegment+kt}function r(n){return(t.subscriptionIdPathFormatter+yt).format(n)+l}n.list=i;n.listLocationsApi=r}(er=t.Subscriptions||(t.Subscriptions={})),function(n){function i(n){return"/"+a(n)+t.providersSegment+"/"+vt+"/permissions?"+t.armApiQueryParameter+"="+t.armApiVersion_july2015}n.getPermissionsApi=i}(or=t.Permissions||(t.Permissions={})),function(n){function i(n,i,r,u,f){var o;f===void 0&&(f=
null);var h="eventTimestamp",c=new s.UriBuilder((t.subscriptionIdPathFormatter+t.providersSegment+"/microsoft.insights/eventtypes/management/{1}").format(i,n)),e=h+" ge '"+r.toISOString()+"' "+dt+" "+h+" le '"+u.toISOString()+"'";return f&&f.length>0&&(e=f+dt+e),o=c.query,o.setParameter(t.armApiQueryParameter,wt),o.setParameter(ai,e),c.toString()}function r(n,t,r,u){return u===void 0&&(u=null),i("values",n,t,r,u)}function u(n,t,r,u){return u===void 0&&(u=null),i("digestEvents",n,t,r,u)}n.getEventsApi=r;n.getEventDigestsApi=u}(sr=t.Events||(t.Events={})),function(n){function i(n){return(""+t.subscriptionIdPathFormatter+t.providersSegment+"/"+vt+"/classicAdministrators").format(n)+yi}n.listClassicAdministratorsApi=i}(hr=t.ClassicAdministrators||(t.ClassicAdministrators={})),function(i){function e(n){return(t.subscriptionIdPathFormatter+t.resourceGroupsSegment).format(n)+l}function h(n){return o+a(n)+l}function w(n,i){var r=new s.UriBuilder(o+a(n)),f=r.query;return f.getParameter(t.armApiQueryParameter)?
Q(r.toString()):u(r.path,i).then(function(n){return f.setParameter(t.armApiQueryParameter,n),r.toString()})}function r(n){var t,f,r,e,u;if(!t)for(f=n.split(o),r=f.length-1;r>0;){if(e=f.slice(0,r).join(o),u=i.resourceTypeApiVersionDictionary,u[e]){t=u[e];u[n]=t;break}r--}return t}function u(u,e){if(ct(u))return Q.resolve(t.armApiVersion_april2014Preview);if(lt(u)){var s=at(u),h=c(s.provider+o+s.types.join(o)),a;return rt||(rt=f.getRegisteredResourceTypes(e).then(function(n){n.assetTypesInformation.forEach(function(n){var t=n.resourceType,r=n.apiVersion;t&&r&&(i.resourceTypeApiVersionDictionary[c(t)]=r)})})),rt.then(function(){if(a=i.resourceTypeApiVersionDictionary[h]||r(h),a)return a;oi.trace({source:d,action:"MissingApiVersion",actionModifier:h});var f=t.resourceProviderWithSubscriptionFormatter.format(s.subscription,s.provider)+l,w=v(f,e);return Q(y({uri:w,invokeApi:p(e),type:"GET",headers:{accept:t.applicationJson},setAuthorizationHeader:!0,setTelemetryHeader:"getLatestApiVersion",cloudName:
e})).then(function(n){var u=n&&n.content&&n.content.resourceTypes||[];return u.forEach(function(n){var t=n.apiVersions||[],u=t.first(function(n){return n&&!c(n).endsWith(nt)}),r=c(s.provider+o+n.resourceType);i.resourceTypeApiVersionDictionary[r]||(i.resourceTypeApiVersionDictionary[r]=u||t[0])}),i.resourceTypeApiVersionDictionary[h]||r(h)||t.resourceTypeApiVersion},function(i){return et.createLog(n).warning(u+" using api ver "+t.resourceTypeApiVersion+". Error "+i.responseText),t.resourceTypeApiVersion})})}}i.resourceTypeApiVersionDictionary={"aspera.transfers/services":"2016-03-25","citrix.cloud/accounts":"2015-01-01","cloudyn.analytics/accounts":"2016-03-01","conexlink.mycloudit/accounts":"2015-06-15","hive.streaming/services":"2016-03-18","lombiq.dotnest/sites":"2015-01-01","microsoft.bingmaps/mapapis":"2015-07-02","microsoft.visualstudio/account/project":"2014-02-26","newrelic.apm/accounts":"2014-10-01","pokitdok.platform/services":"2016-05-17","raygun.crashreporting/apps":"2015-01-01",
"signiant.flight/accounts":"2015-06-29","trendmicro.deepsecurity/accounts":"2015-06-15"};i.resourceGroupsInSubscriptionApi=e;i.resourceGroupApi=h;i.resourceApi=w;i.getLatestApiVersion=u}(cr=t.Resources||(t.Resources={}))}(o||(o={})),o});define("HubsExtension/ArmHelpers/Models/ArmResourceGroup",["require","exports","f"],function(n,t,i){"use strict";var r;return function(t){function f(n){if(!n.id)return null;var i=n.tags||{},t=n.properties||{};return{id:n.id,location:n.location,name:n.name,tags:i,properties:t,lockState:t.lockState,provisioningState:t.provisioningState}}var r=i.Base,u=r.Diagnostics,e=u.createLog(n);t.toResourceGroup=f}(r||(r={})),r});define("HubsExtension/Notifications/EventSubscriptionService",["require","exports","f","../ArmHelpers/ArmApisStartup"],function(n,t,i,r){"use strict";var u;return function(n){function l(n,i){if(!n.operationNameRegex&&!n.source&&!n.status&&!n.subStatus)throw new Error("At least one criteria must be specified.");var r=h.getUniqueId();return t.push(
{cookie:r,criteria:n,callback:i}),r}function a(n){var i=t.filter(function(t){return t.cookie!==n});t=i}function u(n,t){return!n==!t&&n.toLowerCase()===t.toLowerCase()}function v(n,t){var i=t.operationNameRegex,r;if(i&&(r=new RegExp(i,"ig"),!r.test(n.operationName)))return!1;var f=t.source,e=t.status,o=t.subStatus;return f&&!u(n.source,f)||e&&!u(n.status,e)||!c(o)&&!u(n.subStatus,o)?!1:!0}function y(n){for(var r,u=t.slice(),i=0,f=u.length;i<f;i++)r=u[i],v(n,r.criteria)&&r.callback(n,this)}function o(n,t){var i=n.stableSort(function(n,t){return e(n.timestamp)-e(t.timestamp)});i.forEach(y,t)}function p(n,t,i,r){var u="microsoft.resources",h=u+"/subscriptions/resourcegroups",e="/delete",s=function(t,i){o([{operationName:i,status:"succeeded",source:u,correlationId:null,timestamp:new Date,assetId:t,isLocalEvent:!0}],n)};return f.isResourceGroupId(r)?s(r,h+e):f.isResourceId(r)&&s(r,e),Q(!0)}var s=i.Base,h=s.Utilities,f=i.ViewModels.Services.ResourceTypes,c=i.isNullOrUndefined,e=i.toSeconds,w=
r.mapAssetIdFromHubs,t=[];n.subscribeToArmEvent=l;n.removeArmEventSubscription=a;n.matchEvents=o;n.createResourceDeletedEvent=p}(u||(u={})),u});define("HubsExtension/HubsCommon",["require","exports","f"],function(n,t,i){"use strict";var r;return function(n){function s(t){var i="";return t?(i=(t.status||t.state||"").toLowerCase(),!!~[n.subscriptionEnabledStatus,n.subscriptionActiveStatus,n.subscriptionWarnedStatus,n.subscriptionPastDueStatus].indexOf(i)):!1}function h(){return t||(t={},(o.fx.environment.armSubscriptionQuotaIds||[]).forEach(function(n){t[n.toLocaleLowerCase()]=!0})),t}var f=i.Base,e=f.Constants.ExtensionNames,o=window,r="ResourceGroup",u="Blade",t;n.extensionName=e.Hubs;n.marketplaceExtensionName=e.Marketplace;n.resourceGroupPartName=r+"MapPinnedPart";n.resourceGroupMapBlade=r+"Map"+u;n.resourceGroupEventsBlade=r+"Events"+u;n.deploymentDetailsBlade="DeploymentDetails"+u;n.subscriptionEnabledStatus="enabled";n.subscriptionActiveStatus="active";n.subscriptionWarnedStatus="warned";
n.subscriptionDisabledStatus="disabled";n.subscriptionPastDueStatus="pastdue";n.whatsNewFeedUriFormat=f.Resources.getAppRelativeUri("api/WhatsNew?count={0}");n.hasValidStatus=s;n.getArmSubscriptionQuotaIds=h}(r||(r={})),r});define("HubsExtension/Telemetry",["require","exports","f"],function(n,t,i){"use strict";var r;return function(n){function h(n,t){i.extendArrayIntoMap(n,t)}var t="Browse",c=t+"Blade",s="Create",l=s+"Deployment",u="Resource",r="Item",a="Type",f="Activated",e="Deactivated",v=u+"List"+r,o=u+"Map",y="Permissions",p="SetSelectedSubscriptions",w="Started",b,k,d;(function(n){h(n,[c,c+"Columns",s+"Hub","Gallery","HubsObservables",o,"Search"])})(b=n.Source||(n.Source={})),function(n){h(n,["ApplySearchFilter",t+w,t+r+f,t+r+e,t+a+f,t+a+e,t+"ColumnsSaved","Build"+u+"Cache","Check"+y,"ExecuteQuery","Get"+y,l+"End",l+"Start",s+"FlowLaunched","GetTenants","Initial"+p,"Set"+p,u+"CacheSize",v+f,v+e,o+w,o+r+f,o+r+e,])}(k=n.Action||(n.Action={})),function(n){h(n,["Canceled","Default","Failed",
"Search","Succeeded","UnknownError",])}(d=n.ActionModifier||(n.ActionModifier={}))}(r||(r={})),r});define("HubsExtension/Common/HubsObservables",["require","exports","f","i","../ArmHelpers/ArmApisStartup","../ArmHelpers/ArmApiEndpoints","./AssetTypeCache","../ArmHelpers/Models/ArmResourceGroup","HubsExtension/Common/CommonClientStrings","../Notifications/EventSubscriptionService","../HubsCommon","../Telemetry","HubsExtension/SubscriptionsFilter/SubscriptionsFilterClientStrings","HubsExtension/Notifications/NotificationsClientStrings"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){"use strict";var y;return function(t){function y(n){return n.toLowerCase()}function ti(t,r){return i.require(n.normalize(t)).then(function(n){return r(n)})}function gi(n,t,i,r,u,f,e){u>r?i.reject("{0} failed. No more retry attempts.".format(n)):Q(t()).then(i.resolve,function(o){return ut("Retry {0}, Count {1}, Error {2}".format(n,u,nt(o))),i.progress(),setTimeout(function(){gi(n,t,i,r,u+1,f,e*(1+f))},e),Q(w)})}function nu(
n,t,i,r,u){i===void 0&&(i=3);r===void 0&&(r=150);u===void 0&&(u=1);var f;return u<0&&di.backoffNeg(),f=vr.Deferred(),gi(n,t,f,i,1,u,r),Q(f.promise())}function nr(){if(!dt){var n=function(){return k.Net2.ajax({uri:br,type:"POST",dataType:"json",contentType:"application/json",isBackgroundTask:!0})};dt=nu("Getting tenants",n)}return dt}function ri(n,t){var i=y(n.status||""),r=y(t.status||"");if(i!==r){if(i===ii)return 1;if(r===ii)return-1}return n.subscriptionName.localeCompareIgnoreCase(t.subscriptionName)||n.subscriptionID.localeCompareIgnoreCase(t.subscriptionID)}function tu(n){var t=[],r="GetResourceGroups",u=ht(r),e=ci(et.slice(),function(n){var i=n.map(o.toResourceGroup).filter(function(n){return!!n});t=t.concat(i)},function(n){var t=n.api||"",u=n.reason||{},f=u.jqXHR||{},e=f&&f.status,o=e===0;o||(vi(r+" failed for api: "+t+" reason: "+nt(u)),!~[wt.Unauthorized,wt.Forbidden,wt.NotFound].indexOf(e)||i.remove(et,function(n){return y(n||"")===y(t)}))},!0,n,bt("getResourceGroups")),f=!1;
return e.then(function(){return ct(u),f=!0,t}).finally(function(){f||lt(u)})}function iu(n){var f=function(){return tu(n)},t,e;return et?f():(t=p(n).data().subscriptions.map(function(n){return n.subscriptionID}),e=t.map(function(u){return r.Security.hasPermission(pt.buildSubscriptionIdFromSubscriptionName(u),[ni+"/read"],n).then(function(n){n||i.remove(t,u)})}),Q.allSettled(e).then(function(){return et=t.map(u.Resources.resourceGroupsInSubscriptionApi),f()}))}function ru(n){var t=ft.get(n),r=t&&t.Subscriptions,u=r&&r.data(),f;u&&u.subscriptions&&(f=(t.SelectedSubscriptions.data()||[]).map(ui),r.data({subscriptions:i.union(f.stableSort(ri),u.subscriptions.stableSort(ri),function(n,t){return n.subscriptionID.localeCompareIgnoreCase(t.subscriptionID)===0})}))}function uu(n){return p(n).dataPromise.then(function(){return lr.getSelectedSubscriptions(at.client,n).then(function(t){st(n).data(t);ru(n);tt.trace({source:bi,action:ki.InitialSelectedSubscriptions,data:{cloudName:n,count:t?t.length:
-1}})})})}function fu(n){var r,u,i;return t.loadDataFromServer&&(u=p(n),i=g(n),r=i.dataPromise,!r&&i.loadData&&(r=u.dataPromise.then(function(){return u.data().subscriptions.length?iu(n):Q(w)}).then(function(n){i.data({resourceGroups:n});i.loadData=!1}).finally(function(){i.dataPromise=w}),i.dataPromise=r)),r||Q(w)}function eu(){return nr().then(function(n){return n.length})}function ou(){var n=ht(ki.GetTenants);nr().then(function(t){ct(n,(t||[]).length);hi.updateTenantInfoEndPoint.invoke(at.client,kt,{tenantList:t});yi=t.length},function(t){lt(n);vi("Failed for tenant info: "+nt(t))});f.armEndpoints.forEach(function(n){var t=n.cloudName;ft.set(t,{Subscriptions:{dataPromise:w,data:it({subscriptions:[]}),map:{}},SelectedSubscriptions:{dataPromise:w,data:it([])},ResourceGroups:{loader:fu,loadData:!0,dataPromise:w,data:it({resourceGroups:[]})},SpecDataSet:{data:it({})}});p(t).dataPromise=or(t);st(t).dataPromise=uu(t)});h.subscribeToArmEvent({source:pi,operationNameRegex:ni+"/*"},function(
n,t){var i=n.assetId;pt.isResourceGroupId(i)&&n.source===ni+"/delete"?y(n.status)===kr&&fr(t,i):ur(t)})}function su(n,t){yt.sharedObservablesEndPoint.registerObjectFactory(n,{allowedOrigin:w,allowRemoteChanges:!1,handler:function(n,i){return t(n,i.srcWindowId)}})}function hu(n,t){var r=yt.getDescriptor(t).cloudName,u=ft.get(r),i=u[n];if(i)return i.loader&&i.loader(r),i.data;di.unknown(n)}function cu(n){return p(n).data}function lu(n){return p(n).dataPromise}function tr(n,t){var r,u,i;return n&&(n=n.toUpperCase(),u=p(t),i=u.map,i&&(r=i[n])),r}function au(n,t){if(!n)return Q.reject("Invalid subscription id "+n);var i=p(t);return i.dataPromise.then(function(){var i=tr(n,t);return i?Q(i):Q.reject("Subscription with id "+n+" not found")})}function vu(n){return rr(n).then(function(t){return ir(n).then(function(n){var r=n()||[],i=r.length;return!i||i===t.length?a.allSubscriptionsSelectedText:i===1?r[0].uniqueDisplayName:a.multipleSubscriptionsSelectedText.format(i)})})}function ir(n){var t=st(
n);return t.dataPromise.then(function(){return t.data})}function yu(n,t){st(n).data(t)}function rr(n){var t=p(n);return t.dataPromise.then(function(){return t.data().subscriptions.map(fi)})}function pu(n){var t=g(n);return t.loader(n),t.data}function wu(n){return gt?gt:gt=er(n).then(function(n){var t={};return i.extendArrayIntoMap(t,n,function(n){return n.name},function(n){return n.displayName}),t})}function bu(n){return g(n).loader(n)}function ur(n){var t=g(n);t.loadData||(t.loadData=!0,t.loader(n))}function fr(n,t){var r=g(n);r.loadData||(r.dataPromise||Q()).then(function(){var n=r.data;n({resourceGroups:i.remove(n().resourceGroups||[],function(n){return pt.compareResourceGroupId(n.id,t)})})})}function ku(){e.primeRegisteredAssetTypesCache()}function er(n){var t="GetLocations",i=ht(t);return u.call(u.listLocationsApi(),"GET",wr,!1,n,bt("getLocations")).then(function(n){return(ct(i),n&&n.value)?n.value:(ut("No locations?!"),[])},function(n){return lt(i),ut(t+" failure: "+nt(n)),[]})}function ui(
n){var t=n.subscriptionPolicies;return{subscriptionName:n.displayName,subscriptionID:n.subscriptionId,tenantID:n.tenantId,status:n.state,subscriptionPolicies:t,requireRdfe:du(t),authorizationSource:n.authorizationSource}}function du(n){return li("rdfe")==="false"?!1:!n||!c.getArmSubscriptionQuotaIds()[(n.quotaId||"").toLocaleLowerCase()]}function or(n){var t=[],i={},r=!1,u=at.client,f=ht("GetSubscriptions"),e=ci([yr.list()],function(n){t=t.concat(n)},function(n){r=!0;i[n.api]=n.reason},!1,n,bt("fetchSubscriptions"));return e.then(function(){var d,s,a,c,e,l,o,w;if(r)lt(f),d={title:b.title,description:b.error,timestamp:new Date,status:vt.Error,cloudName:n},si.showModalNotification.invoke(u,kt,{notification:d,primaryButtonText:b.primaryButtonText,primaryButtonClickAction:2}),ut("Error getting subscriptions '{0}'.".format(nt(i)));else{s=function(n,t){return n[t]=typeof n[t]=="undefined"?1:n[t]+1,n};ct(f,{cloudName:n,count:t.length,states:t.reduce(function(n,t){return s(n,y(t.state))},{}),quotaIds:
t.reduce(function(n,t){return s(n,t.subscriptionPolicies&&t.subscriptionPolicies.quotaId&&y(t.subscriptionPolicies.quotaId))},{}),authorizationSources:t.reduce(function(n,t){return s(n,t.authorizationSource&&y(t.authorizationSource))},{})});var rt=t.length,h={subscriptions:[]},g={};if(rt){if(ai("showremainingcredit")&&ti("./SubsCreditCheck",function(n){n.checkRemainingCredit(t)}),a=t.filter(function(n){return y(n.state)===wi}),a.length&&ai("showpastduewarning")&&ti("./PastDueSubsCheck",function(n){n.raiseWarningForPastDueSubs(a)}),c=li("subscriptions"),e=t,c){var v=e.length,tt=y(c),it=function(n,t){var i=y(n||"");return i.indexOf(t)!==-1};e=e.filter(function(n){return it(n.displayName,tt)||it(n.subscriptionId,tt)});l={status:vt.Warning,title:b.filteredTitle,description:""};o=void 0;v?e.length?v===e.length?o=b.notFiltered:(l.status=vt.Information,o=b.filtered):o=b.allFiltered:o=b.notFilterable;l.description=o.format(c,v,e.length);dr.internalPublish(l,n)}h.subscriptions=e.map(ui).stableSort(
ri);h.subscriptions.map(fi).forEach(function(n){g[n.subscriptionId.toUpperCase()]=n})}else k.Security.getUserInfo().then(function(t){ti("./NoSubsChecks",function(i){i.handleNoSubsInDirectory(t,yi,n)})});w=p(n);w.data(h);w.map=g;hi.updateSubscriptionInfoEndPoint.invoke(u,kt,h)}})}function fi(n,t,i){var f=n.subscriptionID,r=n.subscriptionName,u=n.status&&y(n.status)===ii?s.disabledSubscriptionLabelFormat.format(r):r;return i.filter(function(n){return n.subscriptionName===r}).length>1&&(u=s.subscriptionNameAndIdLabelFormat.format(u,f)),{subscriptionId:f,uniqueDisplayName:u,displayName:r,tenantId:n.tenantID,state:n.status,subscriptionPolicies:n.subscriptionPolicies,authorizationSource:n.authorizationSource}}var sr=i.Azure,k=i.Base,hr=k.Constants,cr=i.ViewModels,ei=k.Diagnostics,tt=ei.Telemetry,lr=r.Azure,ar=k.Resources,at=k.Rpc.Internal,oi=i.Hubs.Notifications,vt=oi.NotificationStatus,yt=r.Extension,si=r.Hubs.Notifications,hi=HubsExtension.Internal.Azure,vr=i.Helpers,yr=u.Subscriptions,pt=
cr.Services.ResourceTypes,wt=k.Net2.HttpStatusCode,it=ko.observable,ci=u.callWithContinuation,pr=yt.CloudMap,wi;t.loadDataFromServer=!0;var wr=undefined,w=null,rt=ei.createLog(n),li=i.getFeatureValue,ai=i.isFeatureEnabled,ut=rt.warning.bind(rt),vi=rt.error.bind(rt),b=v.SubscriptionsNotification,bt=function(n){return u.makeResourceManagerTelemetry("HubsObservables."+n)},kt=hr.Shell,dt,br=ar.getAppRelativeUri("/api/tenants"),yi,gt,pi="microsoft.resources",ni=pi+"/subscriptions/resourcegroups",kr=sr.ResourceManager.DeploymentStates.Succeeded;wi=y(c.subscriptionPastDueStatus);var ft=new pr,et,ot=function(n){return ft.get(n)},p=function(n){return ot(n).Subscriptions},st=function(n){return ot(n).SelectedSubscriptions},g=function(n){return ot(n).ResourceGroups},gu=function(n){return ot(n).SpecDataSet},bi=l.Source.HubsObservables,ki=l.Action,ht=function(n){return tt.startTrace({source:bi,action:n})},ct=function(n,t){return tt.completeTrace(n,t)},lt=function(n,t){return tt.cancelTrace(n,t)},nt=
JSON.stringify,ii=c.subscriptionDisabledStatus,dr=si.InternalClientNotification,nf=oi.ClientNotification,d="",gr={unknown:d,getFailed:d,negPrice:d,notDecimal:d,badDecimal:d,backoffNeg:d},di=r.getErrorMap(gr);t.getTenantsCount=eu;t.initializeObservables=ou;t.registersObservables=su;t.getObservable=hu;t.getSubscriptionsObservable=cu;t.getSubscriptionsPromise=lu;t.getSubscriptionInfo=tr;t.getSubscriptionInfoPromise=au;t.getSelectedSubscriptionsLabel=vu;t.getSelectedSubscriptions=ir;t.pingSelectedSubscriptionsList=yu;t.getSubscriptions=rr;t.getResourceGroupsObservable=pu;t.getLocationDisplayNames=wu;t.getResourceGroupsPromise=bu;t.invalidateResourceGroups=ur;t.removeResourceGroup=fr;t.createRegisteredAssetTypeCache=ku;t.getLocations=er;t.toHubsExtensionSubscription=ui;t.fetchSubscriptions=or;t.toMsPortalFxSubscription=fi}(y||(y={})),y});define("HubsExtension/ArmHelpers/ArmApis",["require","exports","f","./ArmApisStartup"],function(n,t,i,r){"use strict";var u;return function(t){function u(n)
{for(var i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t];return n.format(i)}function d(n){return n.replace("'","''")}function it(n){return n.toLowerCase()}var a=i.Base,ei=a.Diagnostics,v=i.ViewModels.Services.ResourceTypes,oi=a.Net2,lt=r.Resources,f="/",l="&",c="?",fr=ei.createLog(n),w="$filter",si=v.linkTagPrefix,hi="$top=1",o=r.armApiQueryParameter,er=r.armApiVersion_april2014,rt=r.armApiVersion_april2014Preview,or=r.resourceTypeApiVersion,at=r.armApiVersionQueryStringRaw,s=c+at,g=l+at,vt=o+"="+r.armApiVersion_july2014Preview,sr=c+vt,hr=l+vt,yt=o+"=2015-01-01",y=c+yt,cr=l+yt,pt=o+"="+r.armApiVersion_july2015,lr=c+pt,ar=l+pt,ci=o+"=2015-10-01",wt=c+ci,li=r.armApiVersionQueryStringRawNov2015,b=c+li,bt=r.armApiVersionQueryStringRawJune2016,ai=c+bt,vi=l+bt,yi=o+"=2016-02-01",pi=l+yi,nt=r.subscriptionsSegment,k=r.subscriptionIdPathFormatter,ut=r.resourceGroupsSegment,h=r.providersSegment,p="/resources",ft="/deployments",et=r.resourceProviderWithSubscriptionFormatter,kt=h+"/Microsoft.Resources/links",
dt="Microsoft.Portal/dashboards",wi=f+dt,tt="Microsoft.ClassicCompute",gt="Microsoft.ClassicNetwork",bi=[tt+"/virtualMachines",tt+"/domainNames","Microsoft.ClassicStorage/storageAccounts",gt+"/virtualNetworks",gt+"/reservedIps"],ki=h+f+tt,vr=r.applicationJson,ot=" and ",st=" or ",ht="tagname eq '{0}'",ni="tagvalue eq '{0}'",ti="subscriptionId eq",ii="substringof('{0}', name)",di="substringof('{0}', resourcegroup)",ri=" '{0}'",gi=ti+ri,ct="resourceType eq",ui=ct+ri,e=r.trimLeadingSpacesAndSlashes,nr,fi,tr,ir,rr,ur;(function(n){function t(n){return u(k,n)+ai}function i(n){return u(k+"/tagnames?$expand=tagvalues",n)+vi}n.getSubscriptionApi=t;n.subscriptionTagsApi=i})(nr=t.Subscriptions||(t.Subscriptions={})),function(n){function i(n){return n?u(t,n)+s:h+s}function r(n){var i="?$expand=metadata"+pi;return n?u(t,n)+i:h+i}function f(n){return h+u("/{0}",n)+s}function e(n,t){return u(et,n,t)+"/register"+s}function o(n,t){return u(et,n,t)+"/unregister"+s}function c(n,t){return u(et,n,t)+s}var t=
k+h;n.listResourceProvidersApi=i;n.listResourceProvidersWithMetadataApi=r;n.getResourceProviderApi=f;n.registerResourceProvidersApi=e;n.unregisterResourceProvidersApi=o;n.getResourceProviderWithSubscriptionApi=c}(fi=t.ResourceProviders||(t.ResourceProviders={})),function(n){function t(n,t,i){return nt+"/"+n+ut+"/"+t+ft+"/"+i}function i(n){return f+e(n)+ft+b}function r(n){return f+e(n)+b}function u(n,t){return f+e(n)+h+"/microsoft.resources"+ft+f+t+"/validate"+b}function o(n){return f+e(n)+"/cancel"+b}function s(n){return f+e(n)+"/operations"+b}function c(n){return f+e(n)+b}n.buildDeploymentUri=t;n.listDeploymentsApi=i;n.singleDeploymentApi=r;n.validateDeploymentApi=u;n.cancelDeploymentApi=o;n.deploymentOperationsApi=s;n.singleDeploymentOperationApi=c}(tr=t.Deployments||(t.Deployments={})),function(n){function et(n,t){var i=t.filter(function(n){return!!n}).join(ot);i&&n.query.setParameter(w,i)}function at(n,t){var i=t.filter(function(n){return!!n}).map(function(n){return u("({0})",n)}).
join(ot);i&&n.query.setParameter(w,i)}function vt(n){return u(t,n)+s}function yt(n){return u("{0}{1}{2}",n,ft,y)}function pt(n,t){return u("{0}{1}/{2}/{3}",n,ft,t,y)}function bt(n){return u("{0}{1}",n,y)}function kt(n){return f+e(n)+p+s}function dt(n,t){var i=nt+"/"+e(n)+p+s;return!t||(i=i+l+hi),i}function gt(n){var t=new a.UriBuilder(u(b,n)),i=bi.map(function(n){return" "+ct+" '"+n+"'"});return t.query.setParameter(w,i.join(" or")),t.toString()+g}function ti(n,i,r){var f=new a.UriBuilder(u(t,n));return et(f,[u(ht,d(i)),r?u(ni,d(r)):null]),f.toString()+g}function ri(n,t,i){var r=new a.UriBuilder(u(b,n));return et(r,[u(ht,d(t)),i?u(ni,d(i)):null]),r.toString()+g}function ei(n){return f+e(n)+"/moveresources"+y}function ci(n){return f+e(n)+"/validateMoveResources"+y}function li(n){return f+e(n)+h+f+tt+"/validateSubscriptionMoveAvailability"+wt}function ai(n){return nt+"/"+(e(n)+ki)+"/moveSubscriptionResources"+wt}function vi(n,i){return u(t+"/{1}"+p,n,i)+s}function yi(n,t,i,r){var f=new a.
UriBuilder(p),e=[n.map(function(n){return u(gi,n)}).join(st),t?u(ui,it(t)):null,i?u("("+ii+st+di+")",d(it(i))):null];return r&&(e=e.concat(r)),f.query.setParameter(o,rt),at(f,e),f.toString()}function pi(n,t,i){var s=n.resourceTypeName.split(f)[0],r=new a.UriBuilder(h+f+s+p),e=[n?u(ui,it(n.resourceTypeName)):null,t?u(ii,d(it(t))):null];return i&&(e=e.concat(i)),r.query.setParameter(o,n.apiVersion||rt),at(r,e),r.toString()}function wi(n,t){return u(b,n)+c+w+"="+u(ht,si+":"+t)+g}function nr(n){n=n.filter(function(n){return v.isResourceId(n.assetId)||v.isResourceGroupId(n.assetId)});var u={},t={},f=n.map(function(n){var i=n.cloudName,r=n.assetId,f=function(r){u[r]=n;t[i]||(t[i]=[]);t[i].push(r)};return v.isResourceGroupId(r)?(f(lt.resourceGroupApi(r)),Q(!0)):lt.resourceApi(r,i).then(function(n){f(n)})}),e=r.makeResourceManagerTelemetry("notifyIfResourcesDeleted");return Q.all(f).then(function(){var n=[];return i.forEachKey(t,function(t,i){for(i=i||[];i.length>0;){var f=i.splice(0,r.maxBatchCallCount);
n.push(tr(f,t,u,e))}}),Q.all(n).then(function(n){return n.reduce(function(n,t){return n.concat(t)},[])})})}function tr(n,t,i,u){return r.callBatch(n,!1,t,u).then(function(t){for(var s,f,e,o=[],u=0;u<t.length;u++)s=t[u],f=n[u],s.httpStatusCode===oi.HttpStatusCode.NotFound&&(e=i[f],r.internalNotifyAssetDeleted(e,"The query to '"+f+"' returned a 404."),o.push(e.assetId));return o})}var ft=fi.getResourceProviderApi("Microsoft.Authorization/locks").split(c).first(),t=k+ut,b=k+p;n.resourceGroupsInSubscriptionApi=vt;n.locksOnResourceApi=yt;n.createLockOnResourceApi=pt;n.deleteLockOnResourceApi=bt;n.resourcesInResourceGroupApi=kt;n.resourcesInSubscriptionApi=dt;n.classicResourcesInSubscriptionApi=gt;n.resourceGroupsWithTag=ti;n.resourcesWithTag=ri;n.moveResourcesApi=ei;n.validateMoveResourcesApi=ci;n.validateSubscriptionMoveAvailabilityApi=li;n.moveResourcesToSubscriptionApi=ai;n.resourcesInResourceGroupByNameApi=vi;n.resourcesAcrossSubscriptionsApi=yi;n.tenantResourcesApi=pi;n.resourcesLinkedToResourceApi=
wi;n.notifyIfResourcesDeleted=nr}(ir=t.Resources||(t.Resources={})),function(n){function t(n){return"/"+e(n)+kt+y}function i(n){var t,i,r,o;return n=e(n),t=f+n,v.isResourceGroupId(t)?(r=v.parseResourceGroupDescriptor(t),i=r.subscription):(o=v.parseResourceDescriptor(t),i=o.subscription),u(k+kt+y+l+w+"=targetId eq '{1}'",i,n)}n.linksOfScopeApi=t;n.linksToScopeApi=i}(rr=t.Links||(t.Links={})),function(n){function t(n,t){return typeof n=="string"?n+"?"+o+"="+t:nt+"/"+n.subscriptionId+ut+"/"+n.resourceGroupName+h+wi+"/"+n.dashboardName+"?"+o+"="+t}function i(n){var t=n.map(function(n){return ti+" '"+n+"'"}).join(st),i=w+"=("+t+")"+ot+"("+ct+" '"+dt+"')";return p+"?"+i+"&"+o+"="+rt}n.dashboardApi=t;n.allDashboardsApi=i}(ur=t.Dashboard||(t.Dashboard={}))}(u||(u={})),u});define("HubsExtension/ArmHelpers/Models/ArmResource",["require","exports","f"],function(n,t,i){"use strict";var r;return function(t){function e(n){var t=n.id;if(!t)return null;var i=n.properties||{},u=n.tags||{},f=!r.isTenantResource(
t)&&r.buildResourceGroupIdFromResourceId(t);return{id:t,location:n.location,name:n.name,tags:u,properties:i,resourceGroup:f,type:n.type,kind:n.kind,selfLinkUri:n.selfLinkUri}}var u=i.Base,f=u.Diagnostics,r=i.ViewModels.Services.ResourceTypes,o=f.createLog(n);t.toResource=e}(r||(r={})),r});define("HubsExtension/Browse/BrowseCommon",["require","exports","f","FxHubs/RpcEndPoints","HubsExtension/ArmHelpers/ArmApis"],function(n,t,i,r,u){"use strict";var f;return function(n){function p(n,i){n===void 0&&(n=0);var r=i||f.client;return l.invoke(r,t.Shell,null).then(function(n){if(!y){y=!0;var t=n.map(function(n){return{assetType:n.resourceTypeAssetTypeInformation.assetType,assetId:n.id,extensionName:n.resourceTypeAssetTypeInformation.extensionName,cloudName:n.cloudName}});return u.Resources.notifyIfResourcesDeleted(t).then(function(t){return t.forEach(function(t){n.remove(n.first(function(n){return e.isResourceId(n.id)&&e.isResourceId(t)&&e.compareResourceId(n.id,t)?!0:e.isResourceGroupId(n.id)&&
e.isResourceGroupId(t)&&e.compareResourceGroupId(n.id,t)?!0:!1}))}),n})}return n}).catch(function(r){if(f.errorIsRpcTimeout(r,k,t.Shell)&&n<h)return p(n+1,i);throw r;})}function w(n){return n===void 0&&(n=0),a.invoke(f.client,t.Shell,null).catch(function(i){if(f.errorIsRpcTimeout(i,d,t.Shell)&&n<h)return w(n+1);throw i;})}function b(n,i,r,u){return u===void 0&&(u=0),v.invoke(f.client,t.Shell,{cloudName:n.cloudName,extension:n.name,assetType:i,assetId:r}).catch(function(e){if(f.errorIsRpcTimeout(e,g,t.Shell)&&u<h)return b(n,i,r,u+1);throw e;})}function nt(n){if(o.indexOf(n)!==-1)throw new Error("Tried to register an MRU view twice");o.push(n)}function tt(n){if(o.indexOf(n)===-1)throw new Error("Tried to unregister an MRU view which was not registered");o.remove(n)}function it(){o.forEach(function(n){n.pingMruAssetsList()})}function rt(n,t,i,r,u,f,e,o){var s=[],h={added:f,deleted:e,retained:o},c=Function.call;t.subscribe(n,function(n){var l,t,f,e,v,o,a;for(i(),l=n.filter(u),t=ko.utils.compareArrays(
s,l,!0),t=ko.utils.adjustArrayEdits(t),f=[t,null,0],e=0,v=t.length;e<v;e++)o=t[e],a=h[o.status],a&&(f[1]=o.value,f[2]=o.index,c.apply(a,f));r();s=l.slice(0)})}var c=i.Base,t=c.Constants,f=c.Rpc.Internal,s=r.Mru,e=i.ViewModels.Services.ResourceTypes,h=3,l=s.getMruAssetsListEndPoint,k=l.getName(),a=s.clearMruAssetsListEndPoint,d=a.getName(),v=s.removeMruAssetEndPoint,g=v.getName(),o=[],y=!1;n.getMruAssetsList=p;n.clearMruAssetsList=w;n.removeMruAsset=b;n.registerMruView=nt;n.unregisterMruView=tt;n.pingMruAssetsList=it;n.subscribeToArrayEdits=rt}(f||(f={})),f});define("HubsExtension/ResourceMap/ResourceMapCommon",["require","exports","f","i","../ArmHelpers/ArmApisStartup","../ArmHelpers/Models/ArmResourceGroup","../ArmHelpers/Models/ArmResource","../Common/HubsObservables","HubsExtension/ResourceMap/ResourceMapClientStrings"],function(n,t,i,r,u,f,e,o,s){"use strict";var h;return function(t){function y(n){return n.toLowerCase()}function k(n,t){return y((t||"")+":"+n)}function d(t){return i.
require(n.normalize("../ArmHelpers/ArmApis")).then(function(n){return t(n)})}function ki(n,t,i){ri.uncacheResourceGroup(t,n);ui.flushCache(n,t);switch(i){case 1:o.removeResourceGroup(n,t);break;case 2:o.invalidateResourceGroups(n)}}function nr(n){var t=li.getUniqueId();return a[t]=n,t}function tr(n){a[n]&&delete a[n]}function ir(n,t){yt(a,function(i,r){r.resourceGroupDeleteStarted(n,t)})}function rr(n,t){yt(a,function(i,r){r.resourceGroupDeleteFailed(n,t)})}function ur(n,t,i){if(t){var r=t,u=r.subscriptionId||r.subscriptionID;return lt.Internal.validateResourceGroupName(n,u,i,c,function(){return w(rt(vi.buildResourceGroupIdFromSubscriptionAndResourceGroupName(u,n)),p,it,!1,i,ut("validateResourceGroupName")).then(function(){return pt(ai.ResourceGroup.Validation.alreadyExistsMessage.format(r.displayName||r.subscriptionName||u))},function(){return pt()})})}return lt.validateResourceGroupName(n,c)}function fi(n,t,i,r){return nt(u.callRaw(t,n,it,!1,it,i,r).then(function(n){var t=n.jqXHR;return{
status:t.status,operationId:t.getResponseHeader("Location"),retryAfterInSeconds:parseInt(t.getResponseHeader("Retry-After"))}}),r)}function nt(n,t){var i=Q(n);return i.catch(function(n){throw wi(r.Azure.buildSimplifiedError(n&&n.jqXHR||n),t,!0);})}var et=i.Azure,l=i.Base,ot=l.Constants,ei=ot.AssetNames,oi=ot.ResourceTypes.ResourceGroups,si=l.Diagnostics,st=l.Images,hi=st.Polychromatic,v=st.StatusBadge,ci=l.Net2.HttpStatusCode,li=l.Utilities,ai=i.Resources.Strings,ht=i.ViewModels,vi=ht.Services.ResourceTypes,h=et.ResourceManager.DeploymentStates,ct=u.Resources,lt=et.ResourceGroups,di,ft,g,ri,gi,ui,a;t.resourceGroupAssetType=ei.ResourceGroups;t.resourceGroupResourceType=oi;t.resourceGroupResourceTypeLowerCase=y(t.resourceGroupResourceType);t.resourceGroupIconImage=hi.ResourceGroup();var yi=window,pi=yi.fx.environment,fr=si.createLog(n),er=pi.isDevelopmentMode,tt=ko.observable,at=$.extend,vt="\\s~!@#$%^&*+=<>,\\?/\\\\\\:;'\"\\[\\]\\{\\}\\|",or=new RegExp("^[^"+vt+"]*[^."+vt+"]$","i"),c=null,
it=undefined,p="GET",yt=i.forEachKey,wi=l.Utilities.extend,rt=ct.resourceGroupApi,bi=ct.resourceApi,w=u.call,b=o.getLocationDisplayNames,pt=ht.getValidationResult,wt=Q.isRejected,ut=function(n){return u.makeResourceManagerTelemetry(n+"ResourceMap")},bt=h.Running,kt=h.Deploying,dt=h.Accepted,gt=h.Canceled,ni=h.Failed,ti=h.Deleting,ii=h.Succeeded;t.deploymentStatusIconLookup={};t.deploymentStatusIconLookup[bt]=t.deploymentStatusIconLookup[kt]=t.deploymentStatusIconLookup[dt]=t.deploymentStatusIconLookup[h.Waiting]=v.Pending();t.deploymentStatusIconLookup[gt]=v.Canceled();t.deploymentStatusIconLookup[ni]=v.Error();t.deploymentStatusIconLookup[ti]=v.Disabled();t.deploymentStatusIconLookup[ii]=v.Success();t.deploymentStatusDisplayTextLookup={};t.deploymentStatusDisplayTextLookup[bt]=t.deploymentStatusDisplayTextLookup[kt]=s.deploymentRunningState;t.deploymentStatusDisplayTextLookup[dt]=s.deploymentAcceptedState;t.deploymentStatusDisplayTextLookup[gt]=s.deploymentCanceledState;t.deploymentStatusDisplayTextLookup[
ni]=s.deploymentFailedState;t.deploymentStatusDisplayTextLookup[ti]=s.deploymentDeletingState;t.deploymentStatusDisplayTextLookup[ii]=s.deploymentSucceededState;t.DeleteResourceGroupConfigType="ResourceGroupDeleteWarningPartViewModel_DeleteResourceGroupConfig";i.Data.Metadata.setTypeMetadata(t.DeleteResourceGroupConfigType,{name:t.DeleteResourceGroupConfigType,properties:{resourceGroup:c,resourceGroupName:c},entityType:!0});t.invalidateCaches=ki,function(n){n.ResourceMap="ResourceMap";var t;(function(n){n.OpenedBlade="OpenedBlade";n.ResultOpened="ResultOpened"})(t=n.Action||(n.Action={}))}(di=t.Telemetry||(t.Telemetry={}));ft=1e4;g=function(){function n(n){this._cache={};this._timeout=n}return n.prototype.store=function(n,t){return this._cache[n]={value:t,accessTime:Date.now()},t},n.prototype.remove=function(n){delete this._cache[n]},n.prototype.fetch=function(n){var t=this._cache[n];if(t){if(t.accessTime>=Date.now()-this._timeout)return t.value;delete this._cache[n]}return null},n.prototype.
touch=function(n){var t=this._cache[n];t&&(t.accessTime=Date.now())},n.prototype.trim=function(){var n=this,t=Date.now()-this._timeout;i.forEachKey(this._cache,function(i,r){r.accessTime<t&&delete n._cache[i]})},n.prototype.flushCache=function(){this._cache={}},n.prototype.flushCacheWithPrefix=function(n){var t=this;i.forEachKey(this._cache,function(i){i.startsWith(n)&&delete t._cache[i]})},n}();t.Cache=g,function(n){function e(n,u,e){var s=k(n,u),o,h;return(r.trim(),o=r.fetch(s),o&&!wt(o))?o:(h=nt(w(rt(n),p,c,!1,u,e).then(function(t){return t.id=t.id||n,f.toResourceGroup(t)}),e),r.store(s,h).catch(function(r){r&&r.status===ci.NotFound&&i.UI.AssetManager.notifyAssetDeleted(t.resourceGroupAssetType,n);throw r;}))}function o(t,i,r){return n.getResourceGroup(t,i,r).then(function(n){return b(i).then(function(t){return u(n,t)})})}function s(n){n?r.flushCacheWithPrefix(n+":"):r.flushCache()}function h(n,t){var i=k(n,t);r.remove(i)}function l(n,t){return fi("DELETE",rt(n),t,ut("deleteResourceGroup"))}
function u(n,t,i){i===void 0&&(i=!1);var r=n.location||"",u=t[y(r)]||r,f={locationString:i?tt(u):u};return at(f,n)}var r=new g(ft);n.getResourceGroup=e;n.getResourceGroupWithStrings=o;n.flushCache=s;n.uncacheResourceGroup=h;n.deleteResourceGroup=l;n.mapResourceGroupToResourceGroupWithStrings=u}(ri=t.ResourceGroupClient||(t.ResourceGroupClient={})),function(n){function t(n,t){return fi(p,n,t,ut("getOperationResponse"))}n.getOperationResponse=t}(gi=t.ResourceManagerOperationsClient||(t.ResourceManagerOperationsClient={})),function(n){function i(n,t,i){var r=[];return nt(u.callWithContinuation([n],function(n){r=r.concat(n.map(e.toResource).filter(function(n){return!!n}))},function(n){throw n;},!1,t,i).then(function(){return r}),i)}function f(n,i,r){var f=k(n,i),u,o;return(t.trim(),u=t.fetch(f),u&&!wt(u))?u:(o=nt(bi(n,i).then(function(t){return w(t,p,c,!1,i,r).then(function(t){return t.id=t.id||n,e.toResource(t)})}),r),t.store(f,o))}function o(t,i,u){return n.getResource(t,i,u).then(function(
n){return b(i).then(function(t){return r(n,t)})})}function s(n,t,r){return d(function(u){return i(u.Resources.resourcesInResourceGroupApi(n),t,r)})}function h(n,t,r,u){return d(function(f){var o=f.Resources.resourcesInSubscriptionApi(n,u);return u?w(o,p,c,!1,t,r).then(function(n){return n.value&&n.value.map(e.toResource).filter(function(n){return!!n})}):i(o,t,r)})}function l(n,t,r){return d(function(u){return i(u.Resources.classicResourcesInSubscriptionApi(n),t,r)})}function a(t,i,u){return n.getResourcesInResourceGroup(t,i,u).then(function(n){return b(i).then(function(t){return n.map(function(n){return r(n,t)})})})}function v(n,t,r,u){return d(function(f){return i(f.Resources.resourcesLinkedToResourceApi(n,t),r,u)})}function it(t,i,u,f){return n.getResourcesLinkedToResource(t,i,u,f).then(function(n){return b(u).then(function(t){return n.map(function(n){return r(n,t)})})})}function rt(n,i){n?t.flushCacheWithPrefix(y(n+":"+(i||""))):t.flushCache()}function ut(n,i){var r=k(n,i);t.remove(
r)}function r(n,t,i){i===void 0&&(i=!1);var r=n.location||"",u=t[y(r)]||r,f=n.name.split("/").last(),e=i?{locationString:tt(u),trimmedName:tt(f)}:{locationString:u,trimmedName:f};return at(e,n)}var t=new g(ft);n.getResource=f;n.getResourceWithStrings=o;n.getResourcesInResourceGroup=s;n.getResourcesInSubscription=h;n.getClassicResourcesInSubscription=l;n.getResourcesInResourceGroupWithStrings=a;n.getResourcesLinkedToResource=v;n.getResourcesLinkedToResourceWithStrings=it;n.flushCache=rt;n.uncacheResource=ut;n.mapResourceToResourceWithStrings=r}(ui=t.ResourceClient||(t.ResourceClient={}));a={};t.registerResourceGroupDeleteWatcher=nr;t.unregisterResourceGroupDeleteWatcher=tr;t.notifyResourceGroupDeleting=ir;t.notifyResourceGroupDeleteFailed=rr;t.validateResourceGroupName=ur}(h||(h={})),h});define("HubsExtension/BrowseResource/BrowseResourceCommon",["require","exports","f","../Browse/BrowseCommon","../ResourceMap/ResourceMapCommon","../Notifications/EventSubscriptionService","../ArmHelpers/ArmApisStartup"],
function(n,t,i,r,u,f,e){"use strict";var o;return function(n){function ot(n,t){return t?n.name.toLowerCase().indexOf(t.trim().toLowerCase())!==-1:!0}function st(n,i,r){return n.format({resourceId:encodeURIComponent(i),name:encodeURIComponent(t.parseResourceDescriptor(i).resource),type:encodeURIComponent(t.parseResourceDescriptor(i).type),provider:encodeURIComponent(t.parseResourceDescriptor(i).provider),resourceGroup:encodeURIComponent(t.parseResourceDescriptor(i).resourceGroup),subscriptionId:encodeURIComponent(t.parseResourceDescriptor(i).subscription),locationId:encodeURIComponent(r)})}function ht(n,i){return t.isResourceGroupId(n.id)&&t.isResourceGroupId(i.id)?t.compareResourceGroupId(n.id,i.id):t.isResourceId(n.id)&&t.isResourceId(i.id)?t.compareResourceId(n.id,i.id):h.toSortedString(n.id)!==h.toSortedString(i.id)?!1:n.assetType!==i.assetType?!1:n.extensionName===i.extensionName}function a(n,t,i){n.storeResource(i);i.kind&&n.storeKind(i.kind);n.storeDefaultIcon(t)}function ct(n){var
s=n.mruEntry,i=s.id,r=s.resourceTypeAssetTypeInformation,f;r.resourceType?(f=void 0,f=t.isResourceId(i)?Q(i):nt.mapAssetIdToResourceId({extensionName:r.extensionName,assetType:r.assetType,assetId:i}),n.storeKindPromise(f.then(function(t){var i=t.toLowerCase(),r=o.fetch(i);if(r){a(n,t,r);return}return d.getPromiseFromPool(n).then(function(n){var r=n.value,f=e.makeResourceManagerTelemetry("Browse.getKindForMru:"+r.sourceKeyForTelemetry);return u.ResourceClient.getResource(t,r.mruEntry.cloudName,f).then(function(n){o.store(i,n);a(r,t,n)}).catch(function(){r.storeDefaultIcon()}).finally(function(){n.release()})})},function(){n.storeDefaultIcon()}))):n.storeDefaultIcon()}function v(n,t){return function(i,r,u){if(!u){var f={cloudName:r,extensionName:null,assetId:i,assetType:ft.resourceAssetType};et(f,"The event service notified "+n+" deleted.",t)}}}function lt(n){var t=new k;return t.attachEventWatch(ut,{resourceGroupDeleted:v("resource group",n),resourceDeleted:v("resource",n)}),t}var s=i.Base,
h=s.Utilities,g=i.ViewModels,t=g.Services.ResourceTypes,nt=i.Assets,tt=FxImpl,it=s.Constants,c=it.ResourceTypes,rt=c.ResourceGroups,ut=c.AllResources,ft=tt.AssetManager,et=e.internalNotifyAssetDeleted,l,o,d;n.tagColumnIdSeparator=":";n.tagColumnIdPrefix="tag"+n.tagColumnIdSeparator;n.ResourcesProviderName="microsoft.resources";n.filterMruEntry=ot;n.buildInstanceLink=st;n.matchBrowseItems=ht;l=72e5;o=new u.Cache(l);r.registerMruView({pingMruAssetsList:function(){o.trim()}});n.getResourceKindForMruItem=ct;n.watchForResourceDeletes=lt;var y="/write",p=n.ResourcesProviderName+"/subscriptions/resourcegroups/write",w="/delete",b=n.ResourcesProviderName+"/subscriptions/resourcegroups/delete",at="succeeded",k=function(){function n(){}return n.prototype.attachEventWatch=function(n,i){var r,u,e;this.disposeEventWatcher();r=y;u=w;n===rt&&(r=p,u=b);e=function(n,i,r,u){return f.subscribeToArmEvent({source:null,operationNameRegex:n},function(n,f){var s=n.operationName.toLowerCase(),e,o;n.status.toLowerCase(
)===at&&(s===i?(e=n.assetId,t.isResourceGroupId(e)&&u.resourceGroupCallback&&u.resourceGroupCallback(e,f,!!n.isLocalEvent)):s.endsWith(r)&&(o=n.assetId,t.isResourceId(o)&&u.resourceCallback&&u.resourceCallback(o,f,!!n.isLocalEvent)))})};(i.writeToResourceGroup||i.writeToResource)&&(this._writeEventSubscription=e(r,p,y,{resourceGroupCallback:i.writeToResourceGroup,resourceCallback:i.writeToResource}));(i.resourceGroupDeleted||i.resourceDeleted)&&(this._deleteEventSubscription=e(u,b,w,{resourceGroupCallback:i.resourceGroupDeleted,resourceCallback:i.resourceDeleted}))},n.prototype.disposeEventWatcher=function(){this._writeEventSubscription&&(f.removeArmEventSubscription(this._writeEventSubscription),this._writeEventSubscription=null);this._deleteEventSubscription&&(f.removeArmEventSubscription(this._deleteEventSubscription),this._deleteEventSubscription=null)},n}();n.ArmEventWatcher=k,function(n){function i(n){return t>=r?Q.delay(100).then(function(){return i(n)}):(++t,Q({value:n,release:
function(){--t}}))}var t=0,r=8;n.getPromiseFromPool=i}(d=n.PromisePool||(n.PromisePool={}))}(o||(o={})),o});define("HubsExtension/_generated/ExtensionDefinition",["require","exports","i","HubsExtension/MoveResource/MoveResourceStrings","HubsExtension/ClassicAdmins/ManagementTeamClientStrings","HubsExtension/Tags/TagsClientStrings","HubsExtension/ServicesHealth/ServicesHealthClientStrings","HubsExtension/ResourceMap/ResourceMapClientStrings","HubsExtension/Locks/LocksClientStrings","HubsExtension/Browse/BrowseClientStrings"],function(n,t,i,r,u,f,e,o,s,h){"use strict";var c;return function(n){function a(){var w=l.createGalleryServiceDefinition,b=l.createAssetIdSource,k=l.createPermission,v=l.createCommandGroupDefinition,c=l.createPartReferenceDefinition2,a=l.createPartInstanceDefinition,p=l.createDetailsDefinition,n=l.createReference,i=l.createInputBinding,y=l.createCommandDefinition,d=l.createDefinition3;return d(t,[y("MoveResourceCommand",r.moveResourceCommandText,"MoveResource$MoveResourceCommandVM",
[i("resourceId",[n(1,"resourceId")],!1)],p("MoveResourceBlade",t,t,t,t,[i("resourceId",[n(4,"content.resourceId")],!1)],[i("moveType",[n(4,"content.moveType")],!1)],[i("actionBarOutput",[n(1,"actionBarOutput")],!1)]),t,t,t,2)],[a("Browse",c("BrowseAllResourcesPinnedPart",t,t,[],4),t,!1),a("ServicesHealthPartStart",c("ServicesHealthPart",t,t,[],3),t,!1),a("GalleryTileStart",c("GalleryTile",t,t,[i("selectedMenuItemId",[n(5,"constant_",t,t,t,"")],!0)],2),t,!1),a("HelpAndSupport",c("HelpAndSupportPart",t,t,[],2),t,!1),a("GettingStarted",c("GettingStartedPart",t,t,[],5,t,5,4),t,!1),a("Diagnostics",c("DiagnosticsTile",t,t,[],0),t,!1),a("TourTileStart",c("TourTile",t,t,[],2),t,!1),a("Settings",c("SettingsBladePart",t,t,[],1),t,!1),a("BillingTileStart",c("SubscriptionsTile",t,t,[],0),t,!1),a("WhatsNewTileStart",c("WhatsNewTile",t,t,[],2),t,!1),a("FeedbackTileStart",c("FeedbackTile",t,t,[],1),t,!1),a("AzurePortalTileStart",c("AzurePortalTile",t,t,[],1),t,!1)],[v("serviceCommandGroup",[]),v("RecentResourceBrowseGrid2Commands",
[y("DiscardRecentResource",h.discardRecentItem,"BrowseGrid2$DiscardRecentResourceCommand",[i("id",[n(1,"id")],!1),i("assetType",[n(1,"assetType")],!0),i("extensionName",[n(1,"extensionName")],!0)],t,t,t,t,0)]),v("RecentResourceBrowseCommands",[y("DiscardRecentResource",h.discardRecentItem,"BrowseResource$DiscardRecentResourceCommandViewModel",[i("assetId",[n(1,"id")],!1),i("assetType",[n(1,"browse_assetTypeName")],!1),i("extension",[n(1,"browse_assetTypeExtension")],!1)],t,t,t,t,0)]),v("BrowseResourceGroupCommandGroup",[]),v("ManagementTeamCommandGroup",[y("ManageUsersCommand",u.manageUsersCommandText,"ClassicAdmins$ManageUsersCommand",[],t,t,t,t,1)]),v("LockCommands",[y("Delete",s.delete,"Locks$DeleteLockCommandViewModel",[i("id",[n(1,"id")],!1)],t,t,t,t,0)]),v("MoveResourceCommands",[y("MoveResourceCommand",r.moveResourceCommandText,"MoveResource$MoveResourceCommandVM",[i("resourceId",[n(1,"resourceId")],!1)],p("MoveResourceBlade",t,t,t,t,[i("resourceId",[n(4,"content.resourceId")],!1)],
[i("moveType",[n(4,"content.moveType")],!1)],[i("actionBarOutput",[n(1,"actionBarOutput")],!1)]),t,t,t,2)]),v("ResourceGroupBrowseCommands",[y("OpenResourceGroupDeleteBlade",o.deleteResourceGroupCommandTitle,"ResourceMap$DeleteResourceGroupCommandViewModel",[i("resourceGroup",[n(1,"id")],!1)],p("ResourceGroupDeleteBladeForCommand",t,t,t,t,t,[i("resourceGroup",[n(4,"content.resourceGroup")],!1)],[i("actionBarOutput",[n(1,"actionBarOutput")],!1)]),"ResourceGroups","resourceGroup",[k(t,"ResourceGroups",b(0,"resourceGroup"),"Microsoft.Resources/subscriptions/resourceGroups/delete",0)],2)]),v("ServiceHealth",[y(t,e.ServiceHealth.uriCommandTitle,"ServicesHealth$PublicShdUriCommand",[],t,t,t,t,1)]),v("AddTagCommandGroup",[y("AddTagCommand",f.addCommandText,"Tags$SaveTagCommand",[],t,t,t,t,0)]),v("TagItemCommandGroup",[y("DeleteTagCommand",f.deleteCommandText,"Tags$DeleteTagCommand",[i("key",[n(1,"key")],!1),i("value",[n(1,"value")],!1),i("resourceId",[n(1,"resourceId")],!1),i("allowEdits",[n(
1,"allowEdits")],!1)],t,t,t,t,0)])],{},[".ext-info-tile{position:relative}.ext-tile-mini .ext-tile-image,.ext-tile-small .ext-tile-image{width:30px;height:30px}.ext-tile-normal .ext-tile-image{width:50px;height:50px}.ext-info-tile .ext-tile-image{position:absolute;top:18px;left:20px;width:50px;height:50px}.ext-info-tile .ext-tile-title{position:absolute;top:35px;left:87px;width:auto}a.ext-info-tile{display:block}.ext-info-tile.ext-tile-mini .ext-tile-image{top:19px;left:39px;width:30px;height:30px}.ext-info-tile.ext-tile-mini .ext-tile-title{width:100%;text-align:center;left:0;top:60px}.ext-info-tile.ext-tile-normal .ext-tile-image{top:48px;left:61px}.ext-info-tile.ext-tile-normal .ext-tile-title{top:112px;left:0;width:100%;text-align:center}.ext-whatsNew-content{margin:3px 0}.ext-whatsNew-published{margin:2px 0}.ext-whatsNew-divider{margin:15px 0}.ext-whatsNew-feedLoadFailed{margin-top:75px}.ext-whatsNew-feedLoadFailed .ext-whatsNew-failed-text{width:215px;margin-left:30px}.ext-whatsNew .ext-video-section>video{width:535px;height:301px;margin-bottom:10px}",
".ext-hubs-picker-grid-details-parent{vertical-align:middle}.ext-hubs-picker-grid-details{margin-top:6px}.ext-hubs-picker-grid-text-subheader{margin-top:2px}.ext-hubs-specPicker-container{width:100%}.ext-hubs-specPicker-container .ext-hubs-specPicker-enterpriseAgreementMessage{margin:10px;margin-top:0;border-left:6px solid #ffb900;padding-left:10px}",".ext-map>div{position:absolute;left:0;top:0}.ext-map>div>div{position:absolute;width:9px;height:9px}.ext-blademap{padding-bottom:20px}.ext-servicespart>.ext-map{position:absolute;left:0;top:0;right:0;bottom:0}.ext-servicespart.ext-tilesize-large>.ext-map>div>div{width:11px;height:11px}.ext-servicespart.ext-tilesize-herowide>.ext-map>div>div{width:14px;height:14px}.ext-servicespart.ext-tilesize-wide>.ext-map>div>div{width:11px;height:11px}.ext-servicespart:not(.ext-tilesize-mini)>.ext-content-overlay{position:absolute;left:0;top:0;right:0;bottom:0}.ext-servicespart>.ext-content-overlay>.ext-icon{width:30px;height:30px}.ext-servicespart.ext-tilesize-normal>.ext-content-overlay>.ext-icon{position:absolute;top:48px;left:47px;width:50px;height:50px}.ext-servicespart.ext-tilesize-small>.ext-content-overlay>.ext-icon{position:absolute;bottom:0;right:0}.ext-servicespart.ext-tilesize-small>.ext-content-overlay>.ext-subtitle{margin-right:30px}.ext-servicespart>.ext-content-overlay>.ext-summary{position:absolute;bottom:-4px;text-align:left;width:100%}.ext-servicespart>.ext-content-overlay>.ext-summary>div{display:inline-block}.ext-servicespart.ext-tilesize-mini>.ext-content-overlay>.ext-title{position:absolute;top:41px;left:2px;right:2px;text-align:center;height:20px;overflow:hidden}.ext-servicespart.ext-tilesize-mini>.ext-content-overlay>.ext-icon{position:absolute;left:25px;top:4px}.ext-incidentspart .ext-incidenttime{margin:18px 0 4px}.ext-noIncidents div:first-child{height:50px;width:50px}.ext-noIncidents div:last-child{position:absolute;left:70px;top:0;right:20px}td.ext-servicespart-statuscolumn{text-align:center}td.ext-servicespart-statuscolumn svg{margin-top:7px;width:12px;height:12px}.ext-servicespart-icon.ext-tilesize-mini{width:30px;height:33px;margin-left:24px}.ext-servicespart-icon.ext-tilesize-small{width:30px;height:30px;margin-left:100px;margin-top:-15px}.ext-servicespart-shorttitle{text-transform:uppercase;margin:3px 5px;max-height:22px;overflow:hidden;text-align:center}.ext-servicespart-grid table tbody tr td{height:27px}.ext-servicespart-grid-more-data{text-align:right}.ext-servicespart-map.ext-tilesize-large{margin-left:-32px;margin-bottom:10px}.ext-servicespart-map.ext-tilesize-herowide{margin-top:-18px;margin-bottom:-30px}.ext-servicespart-map.ext-tilesize-wide{margin-top:-18px;margin-left:110px}.ext-servicespart-globalmessage{position:absolute;bottom:-30px}.ext-servicespart-messageIcon{width:15px;height:15px;display:inline-block}.ext-servicespart-message.ext-tilesize-large{vertical-align:top;display:inline-block;width:300px}.ext-servicespart-message.ext-tilesize-herowide{vertical-align:top;display:inline-block;width:460px}.ext-servicespart-message.ext-tilesize-wide{vertical-align:top;display:inline-block;width:250px}",
".ext-hubs-armerrors-topheader{margin:15px 0}.ext-hubs-armerrors-treeheader{margin:30px 0 15px}.ext-hubs-armerrors-parent{white-space:normal}.ext-hubs-armerrors-child{display:-webkit-flex;display:flex;white-space:normal}.ext-hubs-armerrors-child-adorn{margin-right:5px}.ext-hubs-armerrors-feedback{border-top:1px solid rgba(255,255,255,.2);color:rgba(255,255,255,.7);display:-webkit-flex;display:flex;padding:7px 0 10px 27px;text-transform:uppercase;width:calc(100% - 27px)}.ext-hubs-armerrors-feedback-icon{display:inline-block;margin:-1px 0 0 7px;height:16px;width:16px;cursor:pointer}.ext-hubs-armerrors-feedback-icon-down{margin:3px 0 0 5px}.ext-hubs-armerrors-feedback-disabled{opacity:.3;cursor:default}"],w("Deployments$CustomDeploymentBladeSelector"),t,"HubsExtension","1.0","47DEQpj8HBSa+/TImW+5JCeuQeRkm5NMpJWZG3hSuFU=%","1.0.0.2","5.0.302.517 (production#e1f5a5e.161014-1539)")}var t=undefined,l=i.DefinitionBuilder,v,c,y,p,w;n.definitionName="HubsExtension";n.getDefinition=a,function(n){
var t,i,r,u;(function(n){n.name="Microsoft_Azure_Insights"})(t=n.Microsoft_Azure_Insights||(n.Microsoft_Azure_Insights={})),function(n){n.name="Microsoft_Azure_Monitoring";var t;(function(n){var t,i,r,u,f,e,o,s;(function(n){n.name="EventsBrowseBlade"})(t=n.EventsBrowseBlade||(n.EventsBrowseBlade={})),function(n){n.name="DiagnosticsLogsBlade"}(i=n.DiagnosticsLogsBlade||(n.DiagnosticsLogsBlade={})),function(n){n.name="OverviewBlade";var t;(function(n){n.queryInputs="queryInputs"})(t=n.Inputs||(n.Inputs={}))}(r=n.OverviewBlade||(n.OverviewBlade={})),function(n){n.name="AlertsBlade"}(u=n.AlertsBlade||(n.AlertsBlade={})),function(n){n.name="MetricsBlade";var t;(function(n){n.queryInputs="queryInputs"})(t=n.Inputs||(n.Inputs={}))}(f=n.MetricsBlade||(n.MetricsBlade={})),function(n){n.name="OmsSolutionsBlade";var t;(function(n){n.queryInputs="queryInputs"})(t=n.Inputs||(n.Inputs={}))}(e=n.OmsSolutionsBlade||(n.OmsSolutionsBlade={})),function(n){n.name="ApplicationInsightsBlade";var t;(function(
n){n.queryInputs="queryInputs"})(t=n.Inputs||(n.Inputs={}))}(o=n.ApplicationInsightsBlade||(n.ApplicationInsightsBlade={})),function(n){n.name="ServiceDiagnosticsSettingsUpdateBlade";var t;(function(n){n.diagnosticsSettingsInputs="diagnosticsSettingsInputs"})(t=n.Inputs||(n.Inputs={}))}(s=n.ServiceDiagnosticsSettingsUpdateBlade||(n.ServiceDiagnosticsSettingsUpdateBlade={}))})(t=n.Blades||(n.Blades={}))}(i=n.Microsoft_Azure_Monitoring||(n.Microsoft_Azure_Monitoring={})),function(n){n.name="Microsoft_Azure_Billing";var t;(function(n){var t,i,r,u;(function(n){n.name="SubscriptionsBlade"})(t=n.SubscriptionsBlade||(n.SubscriptionsBlade={})),function(n){n.name="AccountBlade"}(i=n.AccountBlade||(n.AccountBlade={})),function(n){n.name="BillingNoSubscriptionsBlade"}(r=n.BillingNoSubscriptionsBlade||(n.BillingNoSubscriptionsBlade={})),function(n){n.name="UpgradeSubscriptionBlade";var t;(function(n){n.subscriptionId="subscriptionId"})(t=n.Inputs||(n.Inputs={}))}(u=n.UpgradeSubscriptionBlade||(n.UpgradeSubscriptionBlade=
{}))})(t=n.Blades||(n.Blades={}))}(r=n.Microsoft_Azure_Billing||(n.Microsoft_Azure_Billing={})),function(n){n.name="Microsoft_Azure_AD";var t;(function(n){var t,i,r,u;(function(n){var t,i;n.name="SelectMember",function(n){n.collectorBindingInternals_inputs="collectorBindingInternals-inputs";n.collectorBindingInternals_errors="collectorBindingInternals-errors";n.stepInput="stepInput"}(t=n.Inputs||(n.Inputs={})),function(n){n.collectorBindingInternals_outputs="collectorBindingInternals-outputs";n.collectorBindingInternals_commit="collectorBindingInternals-commit";n.stepOutput="stepOutput"}(i=n.Outputs||(n.Outputs={}))})(t=n.SelectMember||(n.SelectMember={})),function(n){n.name="SelectMemberV3";var t;(function(n){n.title="title";n.subtitle="subtitle"})(t=n.Inputs||(n.Inputs={}))}(i=n.SelectMemberV3||(n.SelectMemberV3={})),function(n){n.name="RolesListBlade";var t;(function(n){n.scope="scope"})(t=n.Inputs||(n.Inputs={}))}(r=n.RolesListBlade||(n.RolesListBlade={})),function(n){n.name="UserAssignmentsBlade";
var t;(function(n){n.scope="scope"})(t=n.Inputs||(n.Inputs={}))}(u=n.UserAssignmentsBlade||(n.UserAssignmentsBlade={}))})(t=n.Blades||(n.Blades={}))}(u=n.Microsoft_Azure_AD||(n.Microsoft_Azure_AD={}))}(v=n.External||(n.External={})),function(n){var t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct,lt,at,vt,yt,pt,wt;(function(n){n.name="ArmExplorer"})(t=n.ArmExplorer||(n.ArmExplorer={})),function(n){n.name="BrowseAll"}(i=n.BrowseAll||(n.BrowseAll={})),function(n){n.name="BrowseAllWithType"}(r=n.BrowseAllWithType||(n.BrowseAllWithType={})),function(n){n.name="BrowseService"}(u=n.BrowseService||(n.BrowseService={})),function(n){n.name="BrowseDynamicAsset"}(f=n.BrowseDynamicAsset||(n.BrowseDynamicAsset={})),function(n){n.name="BrowseDynamicResource"}(e=n.BrowseDynamicResource||(n.BrowseDynamicResource={})),function(n){n.name="NonAssetResource"}(o=n.NonAssetResource||(n.NonAssetResource={})),function(n){n.name="BrowseInstanceLink"}(s=n.BrowseInstanceLink||(n.BrowseInstanceLink=
{})),function(n){n.name="BrowseResource"}(h=n.BrowseResource||(n.BrowseResource={})),function(n){n.name="BrowseAllResources"}(c=n.BrowseAllResources||(n.BrowseAllResources={})),function(n){n.name="BrowseRecentResources"}(l=n.BrowseRecentResources||(n.BrowseRecentResources={})),function(n){n.name="BrowseResourceGroup"}(a=n.BrowseResourceGroup||(n.BrowseResourceGroup={})),function(n){n.name="ActiveDirectoryMfaPlaceholder"}(v=n.ActiveDirectoryMfaPlaceholder||(n.ActiveDirectoryMfaPlaceholder={})),function(n){n.name="ActiveDirectoryRmsPlaceholder"}(y=n.ActiveDirectoryRmsPlaceholder||(n.ActiveDirectoryRmsPlaceholder={})),function(n){n.name="ApiManagementPlaceholder"}(p=n.ApiManagementPlaceholder||(n.ApiManagementPlaceholder={})),function(n){n.name="BackupPlaceholder"}(w=n.BackupPlaceholder||(n.BackupPlaceholder={})),function(n){n.name="BizTalkServicePlaceholder"}(b=n.BizTalkServicePlaceholder||(n.BizTalkServicePlaceholder={})),function(n){n.name="CdnPlaceholder"}(k=n.CdnPlaceholder||(n.CdnPlaceholder=
{})),function(n){n.name="EventHubPlaceholder"}(d=n.EventHubPlaceholder||(n.EventHubPlaceholder={})),function(n){n.name="MarketplaceAddOnPlaceholder"}(g=n.MarketplaceAddOnPlaceholder||(n.MarketplaceAddOnPlaceholder={})),function(n){n.name="MediaServicePlaceholder"}(nt=n.MediaServicePlaceholder||(n.MediaServicePlaceholder={})),function(n){n.name="MobileServicePlaceholder"}(tt=n.MobileServicePlaceholder||(n.MobileServicePlaceholder={})),function(n){n.name="RemoteAppPlaceholder"}(it=n.RemoteAppPlaceholder||(n.RemoteAppPlaceholder={})),function(n){n.name="ServiceBusPlaceholder"}(rt=n.ServiceBusPlaceholder||(n.ServiceBusPlaceholder={})),function(n){n.name="SiteRecoveryPlaceholder"}(ut=n.SiteRecoveryPlaceholder||(n.SiteRecoveryPlaceholder={})),function(n){n.name="StorSimplePlaceholder"}(ft=n.StorSimplePlaceholder||(n.StorSimplePlaceholder={})),function(n){n.name="StreamAnalyticsPlaceholder"}(et=n.StreamAnalyticsPlaceholder||(n.StreamAnalyticsPlaceholder={})),function(n){n.name="TrafficManagerPlaceholder"}
(ot=n.TrafficManagerPlaceholder||(n.TrafficManagerPlaceholder={})),function(n){n.name="AccountPortalSearchResult"}(st=n.AccountPortalSearchResult||(n.AccountPortalSearchResult={})),function(n){n.name="WhatsNew"}(ht=n.WhatsNew||(n.WhatsNew={})),function(n){n.name="Lock"}(ct=n.Lock||(n.Lock={})),function(n){n.name="Deployments"}(lt=n.Deployments||(n.Deployments={})),function(n){n.name="ResourceGroups";var t;(function(n){n.read="Microsoft.Resources/subscriptions/resourceGroups/read";n.deleteObject="Microsoft.Resources/subscriptions/resourceGroups/delete";n.write="Microsoft.Resources/subscriptions/resourceGroups/write";n.writeDeployments="Microsoft.Resources/subscriptions/resourceGroups/deployments/write";n.readDeployments="Microsoft.Resources/subscriptions/resourceGroups/deployments/read";n.readEvents="Microsoft.Insights/events/read"})(t=n.Permissions||(n.Permissions={}))}(at=n.ResourceGroups||(n.ResourceGroups={})),function(n){n.name="ResourceGroupEvents"}(vt=n.ResourceGroupEvents||(n.ResourceGroupEvents=
{})),function(n){n.name="ServicesHealth"}(yt=n.ServicesHealth||(n.ServicesHealth={})),function(n){n.name="Settings"}(pt=n.Settings||(n.Settings={})),function(n){n.name="Tag"}(wt=n.Tag||(n.Tag={}))}(c=n.AssetTypes||(n.AssetTypes={})),function(n){n.armExplorer=c.ArmExplorer.name;n.browseAll=c.BrowseAll.name;n.browseAllWithType=c.BrowseAllWithType.name;n.browseService=c.BrowseService.name;n.browseDynamicAsset=c.BrowseDynamicAsset.name;n.browseDynamicResource=c.BrowseDynamicResource.name;n.nonAssetResource=c.NonAssetResource.name;n.browseInstanceLink=c.BrowseInstanceLink.name;n.browseResource=c.BrowseResource.name;n.browseAllResources=c.BrowseAllResources.name;n.browseRecentResources=c.BrowseRecentResources.name;n.browseResourceGroup=c.BrowseResourceGroup.name;n.activeDirectoryMfaPlaceholder=c.ActiveDirectoryMfaPlaceholder.name;n.activeDirectoryRmsPlaceholder=c.ActiveDirectoryRmsPlaceholder.name;n.apiManagementPlaceholder=c.ApiManagementPlaceholder.name;n.backupPlaceholder=c.BackupPlaceholder.
name;n.bizTalkServicePlaceholder=c.BizTalkServicePlaceholder.name;n.cdnPlaceholder=c.CdnPlaceholder.name;n.eventHubPlaceholder=c.EventHubPlaceholder.name;n.marketplaceAddOnPlaceholder=c.MarketplaceAddOnPlaceholder.name;n.mediaServicePlaceholder=c.MediaServicePlaceholder.name;n.mobileServicePlaceholder=c.MobileServicePlaceholder.name;n.remoteAppPlaceholder=c.RemoteAppPlaceholder.name;n.serviceBusPlaceholder=c.ServiceBusPlaceholder.name;n.siteRecoveryPlaceholder=c.SiteRecoveryPlaceholder.name;n.storSimplePlaceholder=c.StorSimplePlaceholder.name;n.streamAnalyticsPlaceholder=c.StreamAnalyticsPlaceholder.name;n.trafficManagerPlaceholder=c.TrafficManagerPlaceholder.name;n.accountPortalSearchResult=c.AccountPortalSearchResult.name;n.whatsNew=c.WhatsNew.name;n.lock=c.Lock.name;n.deployments=c.Deployments.name;n.resourceGroups=c.ResourceGroups.name;n.resourceGroupEvents=c.ResourceGroupEvents.name;n.servicesHealth=c.ServicesHealth.name;n.settings=c.Settings.name;n.tag=c.Tag.name}(y=n.AssetTypeNames||
(n.AssetTypeNames={})),function(n){n.armExplorerBlade="ArmExplorerBlade";n.unauthorizedAssetBlade="UnauthorizedAssetBlade";n.notFoundAssetBlade="NotFoundAssetBlade";n.unavailableAssetBlade="UnavailableAssetBlade";n.noCreateFlowBlade="NoCreateFlowBlade";n.browseAllBlade="BrowseAllBlade";n.browseAllBladeWithType="BrowseAllBladeWithType";n.browseServiceBlade="BrowseServiceBlade";n.browseDynamicAssetBlade="BrowseDynamicAssetBlade";n.browseDynamicResourceBlade="BrowseDynamicResourceBlade";n.resources="Resources";n.browseGrid2ChooseColumnsBlade="BrowseGrid2ChooseColumnsBlade";n.resourceProperties="ResourceProperties";n.browseInstanceLinkBlade="BrowseInstanceLinkBlade";n.browseLinkBlade="BrowseLinkBlade";n.browseResourceBlade="BrowseResourceBlade";n.browseAllResourcesBlade="BrowseAllResourcesBlade";n.browseAllFilteredResourcesBlade="BrowseAllFilteredResourcesBlade";n.browseRecentResourcesBlade="BrowseRecentResourcesBlade";n.browseResourceGroupBlade="BrowseResourceGroupBlade";n.mapResourceGroupBlade=
"MapResourceGroupBlade";n.resourceGroupPickerV3Blade="ResourceGroupPickerV3Blade";n.managementTeamBlade="ManagementTeamBlade";n.deployFromTemplateBlade="DeployFromTemplateBlade";n.parametersEditorBlade="ParametersEditorBlade";n.templateEditorBlade="TemplateEditorBlade";n.templateViewerBlade="TemplateViewerBlade";n.errorDetailsBlade="ErrorDetailsBlade";n.whatsNewBlade="WhatsNewBlade";n.noSubscriptionsBlade="NoSubscriptionsBlade";n.noMsdnOfferOnSubscriptionsBlade="NoMsdnOfferOnSubscriptionsBlade";n.subCertsBlade="SubCertsBlade";n.subQuotasBlade="SubQuotasBlade";n.locationPickerV3Blade="LocationPickerV3Blade";n.locksBlade="LocksBlade";n.lockEditBlade="LockEditBlade";n.moveResourceBlade="MoveResourceBlade";n.regionPickerBlade="RegionPickerBlade";n.resourceGroupPickerBlade="ResourceGroupPickerBlade";n.createResourceGroupBlade="CreateResourceGroupBlade";n.subscriptionPickerBlade="SubscriptionPickerBlade";n.createEmptyResourceGroupBlade="CreateEmptyResourceGroupBlade";n.deploymentsListBlade="DeploymentsListBlade";
n.deploymentDetailsBlade="DeploymentDetailsBlade";n.deploymentOperationPropertiesBlade="DeploymentOperationPropertiesBlade";n.resourceGroupMapBlade="ResourceGroupMapBlade";n.resourceGroupQuickStartBlade="ResourceGroupQuickStartBlade";n.resourceGroupEventsBlade="ResourceGroupEventsBlade";n.resourceGroupCostsBlade="ResourceGroupCostsBlade";n.resourceGroupDeleteBlade="ResourceGroupDeleteBlade";n.resourceGroupDeleteBladeForCommand="ResourceGroupDeleteBladeForCommand";n.resourceGroupSettingListBlade="ResourceGroupSettingListBlade";n.resourceMenuBlade="ResourceMenuBlade";n.servicesHealthBlade="ServicesHealthBlade";n.settingsBlade="SettingsBlade";n.languageSelectionBlade="LanguageSelectionBlade";n.localeSelectionBlade="LocaleSelectionBlade";n.myAccessBlade="MyAccessBlade";n.rPStatusBlade="RPStatusBlade";n.azureProvisioningResultsBlade="AzureProvisioningResultsBlade";n.subscriptionPickerV3Blade="SubscriptionPickerV3Blade";n.resourcesWithTagBlade="ResourcesWithTagBlade";n.resourceTagsListBlade=
"ResourceTagsListBlade";n.subscriptionTagsListBlade="SubscriptionTagsListBlade";n.armDataJsonBlade="ArmDataJsonBlade";n.armActionsJsonBlade="ArmActionsJsonBlade";n.deployToAzure="DeployToAzure";n.gettingsStartedBlade="GettingsStartedBlade";n.browseResourceSettingsBlade="BrowseResourceSettingsBlade";n.markdownContextPane="MarkdownContextPane";n.armErrorsBlade="ArmErrorsBlade";n.clockContextPane="ClockContextPane";n.videoContextPane="VideoContextPane";n.armDataContextPane="ArmDataContextPane";n.armActionsContextPane="ArmActionsContextPane"}(p=n.BladeNames||(n.BladeNames={})),function(n){n.serviceCommandGroup="serviceCommandGroup";n.recentResourceBrowseGrid2Commands="RecentResourceBrowseGrid2Commands";n.recentResourceBrowseCommands="RecentResourceBrowseCommands";n.browseResourceGroupCommandGroup="BrowseResourceGroupCommandGroup";n.managementTeamCommandGroup="ManagementTeamCommandGroup";n.lockCommands="LockCommands";n.moveResourceCommands="MoveResourceCommands";n.resourceGroupBrowseCommands=
"ResourceGroupBrowseCommands";n.serviceHealth="ServiceHealth";n.addTagCommandGroup="AddTagCommandGroup";n.tagItemCommandGroup="TagItemCommandGroup"}(w=n.CommandGroupNames||(n.CommandGroupNames={}))}(c||(c={})),c});define("HubsExtension/Common/UserSettingsHelper",["require","exports","f","i","FxHubs/HubsSettingsSchema"],function(n,t,i,r,u){"use strict";var f;return function(n){function l(n){return f.removeCloudNameFromId(n)}function o(n,t){return f.addCloudNameToId(n,t,!1)}var t=i.Base,h=t.Diagnostics,f=r.Extension,c=t.Rpc.Internal,e=t.Constants.Shell,s;n.addCloudNameToUserSettingKey=o;s=function(){function n(){}return n.initialize=function(t){if(n._rpcClient)throw new Error("rpcClient already initialized.");n._rpcClient=t||c.client},n.readSettings=function(t){return u.readHubsUserSettings.invoke(n._rpcClient,e,t)},n.writeSettings=function(t,i){return u.writeHubsUserSettings.invoke(n._rpcClient,e,{settings:t,priority:i})},n.readSettingsRpc=function(t,i){var e=f.getDescriptor(i.srcWindowId).
cloudName,s=t.map(function(n){return o(n,e)}),r=t.first(function(n){return!~u.allowedUserSettingsKeys.indexOf(n)});if(r)throw h.createIgnoreUnhandledRejectionError(i.srcWindowId+" is not allowed to read the user setting "+r+".");return n.readSettings(s).then(function(n){var t={};return Object.getOwnPropertyNames(n).forEach(function(i){t[l(i)]=n[i]}),t})},n}();n.UserSettingsHelper=s}(f||(f={})),f})